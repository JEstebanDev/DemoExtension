import{a as Na,b as Yl,c as pr,d as oc,e as $f}from"./chunk-NKBK6EDW.js";import{a as ch}from"./chunk-WCEPGOKP.js";import{a as yn}from"./chunk-EW7BEZ6G.js";import{a as Xl,b as Fn}from"./chunk-IKY6GFCT.js";import{$ as F,$a as x0,$b as j0,$d as Rl,$e as Cf,$f as zf,A as oi,Aa as Pi,Ab as $i,Ac as gt,Ad as ra,Af as Pf,Ag as oh,Ba as Di,Bb as P0,Bc as W,Bd as md,Be as er,Bf as ql,Bg as nh,C as o0,Ca as d0,Cb as Ye,Cc as Y,Cd as $e,Ce as tr,Cf as Gl,Cg as ah,D as v,Da as p0,Db as Li,Dc as Z,Dd as af,De as ir,Df as Ul,Dg as rh,E as S,Ea as u0,Eb as G,Ec as le,Ee as Pe,Ef as $l,Eg as sh,F as n0,Fa as f0,Fb as Je,Fc as Ml,Fe as De,Ff as Ql,Fg as lh,G as gl,Ga as h0,Gb as D0,Gc as La,Gd as Qi,Ge as Oe,Gf as lr,Gg as Ki,H as Ui,Ha as aa,Hb as F0,Hd as lo,He as uf,Hf as Wl,Hg as Yi,I as a0,Ia as Ut,Ib as ni,Ic as ve,Id as Qo,Ie as Fe,If as fs,J as r0,Ja as ae,Jb as R0,Jc as et,Jd as $a,Je as Ve,Jf as Df,K as nd,Ka as V,Kb as k0,Kc as Fi,Kd as Qa,Ke as Re,Kf as cr,L as vn,La as ao,Lb as A0,Lc as ai,Ld as Dl,Le as Ne,Lf as Ff,M as m,Ma as ro,Mb as ka,Mc as _e,Md as Fl,Me as ff,Mf as mr,N as g,Na as g0,Nb as At,Nc as X0,Nd as rf,Ne as ke,Nf as Kl,O as s0,Oa as Eo,Ob as $t,Oc as Ee,Od as sf,Oe as Be,Of as dr,P as l0,Pa as _0,Pb as Aa,Pc as Ri,Pd as te,Pe as hf,Pf as Xo,Pg as Xi,Qa as so,Qb as Zt,Qc as ja,Qd as ee,Qe as Ae,Qf as Rf,R as Da,Ra as C0,Rb as at,Rc as X,Rd as lf,Re as Se,Rf as kf,S as ia,Sa as Fa,Sc as oe,Sd as Wo,Se as Ol,Sf as Af,T as h,Ta as b0,Tc as Il,Td as cf,Te as Wi,Tf as Of,U as oa,Ua as Cl,Ub as sd,Uc as Mo,Ud as It,Ue as gf,Uf as Vf,V as p,Va as v0,Vb as O0,Vc as Qt,Vd as mf,Ve as _f,Vf as Nf,W as Bo,Wa as be,Wb as ld,Wc as fe,Wd as ds,Wf as Bf,X as _l,Xa as Ue,Xb as V0,Xc as Z0,Xd as sa,Xe as Vl,Xf as Lf,Y as r,Ya as bl,Yb as N0,Yd as Wa,Ye as Nl,Yf as jf,Z as s,Za as S0,Zb as B0,Zc as J0,Zd as Ka,Ze as or,Zf as Zl,_ as C,_a as y0,_b as L0,_c as wn,_d as Ya,_e as nr,_f as Jl,a as Pa,aa as R,ab as vl,ac as z0,ae as ri,af as us,ag as Zo,b as Xu,ba as E,bb as Nt,bc as xl,be as si,bf,c as hi,ca as _,cb as $o,cc as wl,cd as ef,ce as li,cf as vf,d as Zu,da as x,db as w0,dc as H0,dd as Wt,de as Ko,df as Bl,e as ts,ea as vt,eb as ad,ec as El,ed as tf,ee as lt,ef as Ll,eg as ec,f as id,fa as Bt,fb as Ra,fc as q0,fd as K,fe as ct,ff as ar,g as eo,ga as wi,gb as rd,gc as G0,gd as gi,ge as mt,gf as rr,gg as la,h as Ju,ha as L,hb as Sl,hc as he,hd as za,he as dt,hf as sr,hg as tc,i as e0,ia as j,ib as Sn,ic as He,id as Ha,ie as _t,if as Tn,ig as Hf,ja as z,jb as E0,jc as ot,jd as of,je as Kt,jf as jl,jg as ic,k as t0,ka as re,kb as Ze,kc as xn,kd as Tl,ke as pt,kf as Yo,kg as qf,l as i0,la as c,lb as Bi,lc as Oa,ld as qa,le as ut,lf as Pn,lg as Gf,m as od,ma as I,mb as iy,mc as Va,md as Ei,me as kl,mf as To,mg as Uf,n as ul,na as T,nb as ue,nc as go,nd as _i,ne as En,nf as Po,ng as dd,o as Gi,oa as Ht,ob as kt,oc as ss,od as Ci,oe as df,of as Do,og as Qf,p as Ce,pa as Uo,pb as M0,pc as cd,pd as bi,pe as Lo,pf as zl,pg as Wf,q as ho,qa as c0,qb as Me,qc as ls,qd as St,qe as Mn,qf as Hl,qg as nc,r as is,ra as ns,rb as I0,rc as U0,rd as $,re as Xa,rf as Sf,rg as Kf,s as fl,sa as as,sb as pe,sc as $0,sd as J,se as Io,sf as Dn,sg as Yf,t as hl,ta as rs,tb as yl,tc as Q0,td as ze,te as Za,tf as yf,u as zt,ua as na,ub as q,uc as W0,ud as Ga,ue as Al,uf as xf,ug as Xf,v as we,va as m0,vb as A,vc as K0,vd as Ua,ve as ps,vf as wf,vg as Zf,w as ii,wa as Te,wb as H,wc as Ba,wd as cs,we as pf,wf as Ef,wg as Jf,x as ie,xa as yi,xb as Ke,xc as Ii,xd as nf,xe as Ja,xf as Mf,xg as eh,y as os,ya as no,yb as T0,yc as mn,yd as ms,ye as to,yf as If,yg as th,z as D,za as Mt,zb as O,zc as Y0,zd as Pl,ze as In,zf as Tf,zg as ih}from"./chunk-RQVJZLI3.js";import{a as it,b as rt,d as Yu,g as ty}from"./chunk-75OE7JA3.js";function mh(t){return new zt(3e3,!1)}function oy(){return new zt(3100,!1)}function ny(){return new zt(3101,!1)}function ay(t){return new zt(3001,!1)}function ry(t){return new zt(3003,!1)}function sy(t){return new zt(3004,!1)}function ly(t,n){return new zt(3005,!1)}function cy(){return new zt(3006,!1)}function my(){return new zt(3007,!1)}function dy(t,n){return new zt(3008,!1)}function py(t){return new zt(3002,!1)}function uy(t,n,e,i,o){return new zt(3010,!1)}function fy(){return new zt(3011,!1)}function hy(){return new zt(3012,!1)}function gy(){return new zt(3200,!1)}function _y(){return new zt(3202,!1)}function Cy(){return new zt(3013,!1)}function by(t){return new zt(3014,!1)}function vy(t){return new zt(3015,!1)}function Sy(t){return new zt(3016,!1)}function yy(t,n){return new zt(3404,!1)}function xy(t){return new zt(3502,!1)}function wy(t){return new zt(3503,!1)}function Ey(){return new zt(3300,!1)}function My(t){return new zt(3504,!1)}function Iy(t){return new zt(3301,!1)}function Ty(t,n){return new zt(3302,!1)}function Py(t){return new zt(3303,!1)}function Dy(t,n){return new zt(3400,!1)}function Fy(t){return new zt(3401,!1)}function Ry(t){return new zt(3402,!1)}function ky(t,n){return new zt(3505,!1)}function Rn(t){switch(t.length){case 0:return new Ra;case 1:return t[0];default:return new rd(t)}}function wh(t,n,e=new Map,i=new Map){let o=[],a=[],l=-1,d=null;if(n.forEach(u=>{let f=u.get("offset"),b=f==l,y=b&&d||new Map;u.forEach((w,M)=>{let P=M,k=w;if(M!=="offset")switch(P=t.normalizePropertyName(P,o),k){case Sl:k=e.get(M);break;case $o:k=i.get(M);break;default:k=t.normalizeStyleValue(M,P,k,o);break}y.set(P,k)}),b||a.push(y),d=y,l=f}),o.length)throw xy(o);return a}function Ad(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&pd(e,"start",t)));break;case"done":t.onDone(()=>i(e&&pd(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&pd(e,"destroy",t)));break}}function pd(t,n,e){let i=e.totalTime,o=!!e.disabled,a=Od(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,o),l=t._data;return l!=null&&(a._data=l),a}function Od(t,n,e,i,o="",a=0,l){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:a,disabled:!!l}}function Co(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function dh(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var Ay=typeof document>"u"?null:document.documentElement;function Vd(t){let n=t.parentNode||t.host||null;return n===Ay?null:n}function Oy(t){return t.substring(1,6)=="ebkit"}var ca=null,ph=!1;function Vy(t){ca||(ca=Ny()||{},ph=ca.style?"WebkitAppearance"in ca.style:!1);let n=!0;return ca.style&&!Oy(t)&&(n=t in ca.style,!n&&ph&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ca.style)),n}function Ny(){return typeof document<"u"?document.body:null}function Eh(t,n){for(;n;){if(n===t)return!0;n=Vd(n)}return!1}function Mh(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var Nd=(()=>{class t{validateStyleProperty(e){return Vy(e)}matchesElement(e,i){return!1}containsElement(e,i){return Eh(e,i)}getParentElement(e){return Vd(e)}query(e,i,o){return Mh(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,a,l,d=[],u){return new Ra(o,a)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})(),pa=class{static{this.NOOP=new Nd}},ua=class{};var By=1e3,Ih="{{",Ly="}}",Th="ng-enter",Cd="ng-leave",ac="ng-trigger",mc=".ng-trigger",uh="ng-animating",bd=".ng-animating";function dn(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:vd(parseFloat(n[1]),n[2])}function vd(t,n){switch(n){case"s":return t*By;default:return t}}function dc(t,n,e){return t.hasOwnProperty("duration")?t:jy(t,n,e)}function jy(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,a=0,l="";if(typeof t=="string"){let d=t.match(i);if(d===null)return n.push(mh(t)),{duration:0,delay:0,easing:""};o=vd(parseFloat(d[1]),d[2]);let u=d[3];u!=null&&(a=vd(parseFloat(u),d[4]));let f=d[5];f&&(l=f)}else o=t;if(!e){let d=!1,u=n.length;o<0&&(n.push(oy()),d=!0),a<0&&(n.push(ny()),d=!0),d&&n.splice(u,0,mh(t))}return{duration:o,delay:a,easing:l}}function zy(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function Jo(t,n,e){n.forEach((i,o)=>{let a=Bd(o);e&&!e.has(o)&&e.set(o,t.style[a]),t.style[a]=i})}function da(t,n){n.forEach((e,i)=>{let o=Bd(i);t.style[o]=""})}function hs(t){return Array.isArray(t)?t.length==1?t[0]:w0(t):t}function Hy(t,n,e){let i=n.params||{},o=Ph(t);o.length&&o.forEach(a=>{i.hasOwnProperty(a)||e.push(ay(a))})}var Sd=new RegExp(`${Ih}\\s*(.+?)\\s*${Ly}`,"g");function Ph(t){let n=[];if(typeof t=="string"){let e;for(;e=Sd.exec(t);)n.push(e[1]);Sd.lastIndex=0}return n}function _s(t,n,e){let i=`${t}`,o=i.replace(Sd,(a,l)=>{let d=n[l];return d==null&&(e.push(ry(l)),d=""),d.toString()});return o==i?t:o}var qy=/-+([a-z0-9])/g;function Bd(t){return t.replace(qy,(...n)=>n[1].toUpperCase())}function Gy(t,n){return t===0||n===0}function Uy(t,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((a,l)=>{i.has(l)||o.push(l),i.set(l,a)}),o.length)for(let a=1;a<n.length;a++){let l=n[a];o.forEach(d=>l.set(d,Ld(t,d)))}}return n}function _o(t,n,e){switch(n.type){case Nt.Trigger:return t.visitTrigger(n,e);case Nt.State:return t.visitState(n,e);case Nt.Transition:return t.visitTransition(n,e);case Nt.Sequence:return t.visitSequence(n,e);case Nt.Group:return t.visitGroup(n,e);case Nt.Animate:return t.visitAnimate(n,e);case Nt.Keyframes:return t.visitKeyframes(n,e);case Nt.Style:return t.visitStyle(n,e);case Nt.Reference:return t.visitReference(n,e);case Nt.AnimateChild:return t.visitAnimateChild(n,e);case Nt.AnimateRef:return t.visitAnimateRef(n,e);case Nt.Query:return t.visitQuery(n,e);case Nt.Stagger:return t.visitStagger(n,e);default:throw sy(n.type)}}function Ld(t,n){return window.getComputedStyle(t)[n]}var $y=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),pc=class extends ua{normalizePropertyName(n,e){return Bd(n)}normalizeStyleValue(n,e,i,o){let a="",l=i.toString().trim();if($y.has(e)&&i!==0&&i!=="0")if(typeof i=="number")a="px";else{let d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&d[1].length==0&&o.push(ly(n,i))}return l+a}};var uc="*";function Qy(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>Wy(i,e,n)):e.push(t),e}function Wy(t,n,e){if(t[0]==":"){let u=Ky(t,e);if(typeof u=="function"){n.push(u);return}t=u}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(vy(t)),n;let o=i[1],a=i[2],l=i[3];n.push(fh(o,l));let d=o==uc&&l==uc;a[0]=="<"&&!d&&n.push(fh(l,o))}function Ky(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(Sy(t)),"* => *"}}var rc=new Set(["true","1"]),sc=new Set(["false","0"]);function fh(t,n){let e=rc.has(t)||sc.has(t),i=rc.has(n)||sc.has(n);return(o,a)=>{let l=t==uc||t==o,d=n==uc||n==a;return!l&&e&&typeof o=="boolean"&&(l=o?rc.has(t):sc.has(t)),!d&&i&&typeof a=="boolean"&&(d=a?rc.has(n):sc.has(n)),l&&d}}var Dh=":self",Yy=new RegExp(`s*${Dh}s*,?`,"g");function Fh(t,n,e,i){return new yd(t).build(n,e,i)}var hh="",yd=class{constructor(n){this._driver=n}build(n,e,i){let o=new xd(e);return this._resetContextStyleTimingState(o),_o(this,hs(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector=hh,n.collectedStyles=new Map,n.collectedStyles.set(hh,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0,a=[],l=[];return n.name.charAt(0)=="@"&&e.errors.push(cy()),n.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),d.type==Nt.State){let u=d,f=u.name;f.toString().split(/\s*,\s*/).forEach(b=>{u.name=b,a.push(this.visitState(u,e))}),u.name=f}else if(d.type==Nt.Transition){let u=this.visitTransition(d,e);i+=u.queryCount,o+=u.depCount,l.push(u)}else e.errors.push(my())}),{type:Nt.Trigger,name:n.name,states:a,transitions:l,queryCount:i,depCount:o,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){let a=new Set,l=o||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(u=>{Ph(u).forEach(f=>{l.hasOwnProperty(f)||a.add(f)})})}),a.size&&e.errors.push(dy(n.name,[...a.values()]))}return{type:Nt.State,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=_o(this,hs(n.animation),e),o=Qy(n.expr,e.errors);return{type:Nt.Transition,matchers:o,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ma(n.options)}}visitSequence(n,e){return{type:Nt.Sequence,steps:n.steps.map(i=>_o(this,i,e)),options:ma(n.options)}}visitGroup(n,e){let i=e.currentTime,o=0,a=n.steps.map(l=>{e.currentTime=i;let d=_o(this,l,e);return o=Math.max(o,e.currentTime),d});return e.currentTime=o,{type:Nt.Group,steps:a,options:ma(n.options)}}visitAnimate(n,e){let i=e2(n.timings,e.errors);e.currentAnimateTimings=i;let o,a=n.styles?n.styles:ad({});if(a.type==Nt.Keyframes)o=this.visitKeyframes(a,e);else{let l=n.styles,d=!1;if(!l){d=!0;let f={};i.easing&&(f.easing=i.easing),l=ad(f)}e.currentTime+=i.duration+i.delay;let u=this.visitStyle(l,e);u.isEmptyStep=d,o=u}return e.currentAnimateTimings=null,{type:Nt.Animate,timings:i,style:o,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let d of o)typeof d=="string"?d===$o?i.push(d):e.errors.push(py(d)):i.push(new Map(Object.entries(d)));let a=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!a)){for(let u of d.values())if(u.toString().indexOf(Ih)>=0){a=!0;break}}}),{type:Nt.Style,styles:i,easing:l,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,o=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),n.styles.forEach(l=>{typeof l!="string"&&l.forEach((d,u)=>{let f=e.collectedStyles.get(e.currentQuerySelector),b=f.get(u),y=!0;b&&(a!=o&&a>=b.startTime&&o<=b.endTime&&(e.errors.push(uy(u,b.startTime,b.endTime,a,o)),y=!1),a=b.startTime),y&&f.set(u,{startTime:a,endTime:o}),e.options&&Hy(d,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Nt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(fy()),i;let o=1,a=0,l=[],d=!1,u=!1,f=0,b=n.steps.map(U=>{let Q=this._makeStyleAst(U,e),me=Q.offset!=null?Q.offset:Jy(Q.styles),ne=0;return me!=null&&(a++,ne=Q.offset=me),u=u||ne<0||ne>1,d=d||ne<f,f=ne,l.push(ne),Q});u&&e.errors.push(hy()),d&&e.errors.push(gy());let y=n.steps.length,w=0;a>0&&a<y?e.errors.push(_y()):a==0&&(w=o/(y-1));let M=y-1,P=e.currentTime,k=e.currentAnimateTimings,N=k.duration;return b.forEach((U,Q)=>{let me=w>0?Q==M?1:w*Q:l[Q],ne=me*N;e.currentTime=P+k.delay+ne,k.duration=ne,this._validateStyleAst(U,e),U.offset=me,i.styles.push(U)}),i}visitReference(n,e){return{type:Nt.Reference,animation:_o(this,hs(n.animation),e),options:ma(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Nt.AnimateChild,options:ma(n.options)}}visitAnimateRef(n,e){return{type:Nt.AnimateRef,animation:this.visitReference(n.animation,e),options:ma(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;let[a,l]=Xy(n.selector);e.currentQuerySelector=i.length?i+" "+a:a,Co(e.collectedStyles,e.currentQuerySelector,new Map);let d=_o(this,hs(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Nt.Query,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:d,originalSelector:n.selector,options:ma(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(Cy());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:dc(n.timings,e.errors,!0);return{type:Nt.Stagger,animation:_o(this,hs(n.animation),e),timings:i,options:null}}};function Xy(t){let n=!!t.split(/\s*,\s*/).find(e=>e==Dh);return n&&(t=t.replace(Yy,"")),t=t.replace(/@\*/g,mc).replace(/@\w+/g,e=>mc+"-"+e.slice(1)).replace(/:animating/g,bd),[t,n]}function Zy(t){return t?it({},t):null}var xd=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Jy(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function e2(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let a=dc(t,n).duration;return ud(a,0,"")}let e=t;if(e.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=ud(0,0,"");return a.dynamic=!0,a.strValue=e,a}let o=dc(e,n);return ud(o.duration,o.delay,o.easing)}function ma(t){return t?(t=it({},t),t.params&&(t.params=Zy(t.params))):t={},t}function ud(t,n,e){return{duration:t,delay:n,easing:e}}function jd(t,n,e,i,o,a,l=null,d=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:a,totalTime:o+a,easing:l,subTimeline:d}}var Cs=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},t2=1,i2=":enter",o2=new RegExp(i2,"g"),n2=":leave",a2=new RegExp(n2,"g");function Rh(t,n,e,i,o,a=new Map,l=new Map,d,u,f=[]){return new wd().buildKeyframes(t,n,e,i,o,a,l,d,u,f)}var wd=class{buildKeyframes(n,e,i,o,a,l,d,u,f,b=[]){f=f||new Cs;let y=new Ed(n,e,f,o,a,b,[]);y.options=u;let w=u.delay?dn(u.delay):0;y.currentTimeline.delayNextStep(w),y.currentTimeline.setStyles([l],null,y.errors,u),_o(this,i,y);let M=y.timelines.filter(P=>P.containsAnimation());if(M.length&&d.size){let P;for(let k=M.length-1;k>=0;k--){let N=M[k];if(N.element===e){P=N;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([d],null,y.errors,u)}return M.length?M.map(P=>P.buildKeyframes()):[jd(e,[],[],[],0,w,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let o=e.createSubContext(n.options),a=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,o,o.options);a!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let o of n){let a=o?.delay;if(a){let l=typeof a=="number"?a:dn(_s(a,o?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(n,e,i){let a=e.currentTimeline.currentTime,l=i.duration!=null?dn(i.duration):null,d=i.delay!=null?dn(i.delay):null;return l!==0&&n.forEach(u=>{let f=e.appendInstructionToTimeline(u,l,d);a=Math.max(a,f.duration+f.delay)}),a}visitReference(n,e){e.updateOptions(n.options,!0),_o(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,o=e,a=n.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),a.delay!=null)){o.previousNode.type==Nt.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=fc);let l=dn(a.delay);o.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>_o(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],o=e.currentTimeline.currentTime,a=n.options&&n.options.delay?dn(n.options.delay):0;n.steps.forEach(l=>{let d=e.createSubContext(n.options);a&&d.delayNextStep(a),_o(this,l,d),o=Math.max(o,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,o=e.params?_s(i,e.params,e.errors):i;return dc(o,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());let a=n.style;a.type==Nt.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();let a=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(a):i.setStyles(n.styles,a,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,o=e.currentTimeline.duration,a=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,n.styles.forEach(u=>{let f=u.offset||0;d.forwardTime(f*a),d.setStyles(u.styles,u.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(o+a),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,o=n.options||{},a=o.delay?dn(o.delay):0;a&&(e.previousNode.type===Nt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fc);let l=i,d=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=d.length;let u=null;d.forEach((f,b)=>{e.currentQueryIndex=b;let y=e.createSubContext(n.options,f);a&&y.delayNextStep(a),f===e.element&&(u=y.currentTimeline),_o(this,n.animation,y),y.currentTimeline.applyStylesToKeyframe();let w=y.currentTimeline.currentTime;l=Math.max(l,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,o=e.currentTimeline,a=n.timings,l=Math.abs(a.duration),d=l*(e.currentQueryTotal-1),u=l*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":u=d-u;break;case"full":u=i.currentStaggerTime;break}let b=e.currentTimeline;u&&b.delayNextStep(u);let y=b.currentTime;_o(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-y+(o.startTime-i.currentTimeline.startTime)}},fc={},Ed=class t{constructor(n,e,i,o,a,l,d,u){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=a,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new hc(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,o=this.options;i.duration!=null&&(o.duration=dn(i.duration)),i.delay!=null&&(o.delay=dn(i.delay));let a=i.params;if(a){let l=o.params;l||(l=this.options.params={}),Object.keys(a).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=_s(a[d],l,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){let o=e||this.element,a=new t(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=fc,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},a=new Md(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,a,l){let d=[];if(o&&d.push(this.element),n.length>0){n=n.replace(o2,"."+this._enterClassName),n=n.replace(a2,"."+this._leaveClassName);let u=i!=1,f=this._driver.query(this.element,n,u);i!==0&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),d.push(...f)}return!a&&d.length==0&&l.push(by(e)),d}},hc=class t{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=t2,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||$o),this._currentKeyframe.set(e,$o);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);let a=o&&o.params||{},l=r2(n,this._globalTimelineStyles);for(let[d,u]of l){let f=_s(u,a,i);this._pendingStyles.set(d,f),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??$o),this._updateStyle(d,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((d,u)=>{let f=new Map([...this._backFill,...d]);f.forEach((b,y)=>{b===Sl?n.add(y):b===$o&&e.add(y)}),i||f.set("offset",u/this.duration),o.push(f)});let a=[...n.values()],l=[...e.values()];if(i){let d=o[0],u=new Map(d);d.set("offset",0),u.set("offset",1),o=[d,u]}return jd(this.element,o,a,l,this.duration,this.startTime,this.easing,!1)}},Md=class extends hc{constructor(n,e,i,o,a,l,d=!1){super(n,e,l.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let a=[],l=i+e,d=e/l,u=new Map(n[0]);u.set("offset",0),a.push(u);let f=new Map(n[0]);f.set("offset",gh(d)),a.push(f);let b=n.length-1;for(let y=1;y<=b;y++){let w=new Map(n[y]),M=w.get("offset"),P=e+M*i;w.set("offset",gh(P/l)),a.push(w)}i=l,e=0,o="",n=a}return jd(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}};function gh(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function r2(t,n){let e=new Map,i;return t.forEach(o=>{if(o==="*"){i??=n.keys();for(let a of i)e.set(a,$o)}else for(let[a,l]of o)e.set(a,l)}),e}function _h(t,n,e,i,o,a,l,d,u,f,b,y,w){return{type:0,element:t,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:a,toState:i,toStyles:l,timelines:d,queriedElements:u,preStyleProps:f,postStyleProps:b,totalTime:y,errors:w}}var fd={},gc=class{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return s2(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return n!==void 0&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,a,l,d,u,f,b){let y=[],w=this.ast.options&&this.ast.options.params||fd,M=d&&d.params||fd,P=this.buildStyles(i,M,y),k=u&&u.params||fd,N=this.buildStyles(o,k,y),U=new Set,Q=new Map,me=new Map,ne=o==="void",se={params:kh(k,w),delay:this.ast.options?.delay},xe=b?[]:Rh(n,e,this.ast.animation,a,l,P,N,se,f,y),ye=0;return xe.forEach(Le=>{ye=Math.max(Le.duration+Le.delay,ye)}),y.length?_h(e,this._triggerName,i,o,ne,P,N,[],[],Q,me,ye,y):(xe.forEach(Le=>{let Ge=Le.element,wt=Co(Q,Ge,new Set);Le.preStyleProps.forEach(bt=>wt.add(bt));let Rt=Co(me,Ge,new Set);Le.postStyleProps.forEach(bt=>Rt.add(bt)),Ge!==e&&U.add(Ge)}),_h(e,this._triggerName,i,o,ne,P,N,xe,[...U.values()],Q,me,ye))}};function s2(t,n,e,i,o){return t.some(a=>a(n,e,i,o))}function kh(t,n){let e=it({},n);return Object.entries(t).forEach(([i,o])=>{o!=null&&(e[i]=o)}),e}var Id=class{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,o=kh(n,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{l&&(l=_s(l,o,e));let u=this.normalizer.normalizePropertyName(d,e);l=this.normalizer.normalizeStyleValue(d,u,l,e),i.set(d,l)})}),i}};function l2(t,n,e){return new Td(t,n,e)}var Td=class{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{let a=o.options&&o.options.params||{};this.states.set(o.name,new Id(o.style,a,i))}),Ch(this.states,"true","1"),Ch(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new gc(n,o,this.states))}),this.fallbackTransition=c2(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(l=>l.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function c2(t,n,e){let i=[(l,d)=>!0],o={type:Nt.Sequence,steps:[],options:null},a={type:Nt.Transition,animation:o,matchers:i,options:null,queryCount:0,depCount:0};return new gc(t,a,n)}function Ch(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var m2=new Cs,Pd=class{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let i=[],o=[],a=Fh(this._driver,e,i,o);if(i.length)throw wy(i);o.length&&void 0,this._animations.set(n,a)}_buildPlayer(n,e,i){let o=n.element,a=wh(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,a,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let o=[],a=this._animations.get(n),l,d=new Map;if(a?(l=Rh(this._driver,e,a,Th,Cd,new Map,new Map,i,m2,o),l.forEach(b=>{let y=Co(d,b.element,new Map);b.postStyleProps.forEach(w=>y.set(w,null))})):(o.push(Ey()),l=[]),o.length)throw My(o);d.forEach((b,y)=>{b.forEach((w,M)=>{b.set(M,this._driver.computeStyle(y,M,$o))})});let u=l.map(b=>{let y=d.get(b.element);return this._buildPlayer(b,new Map,y)}),f=Rn(u);return this._playersById.set(n,f),f.onDestroy(()=>this.destroy(n)),this.players.push(f),f}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw Iy(n);return e}listen(n,e,i,o){let a=Od(e,"","","");return Ad(this._getPlayer(n),i,a,o),()=>{}}command(n,e,i,o){if(i=="register"){this.register(n,o[0]);return}if(i=="create"){let l=o[0]||{};this.create(n,e,l);return}let a=this._getPlayer(n);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n);break}}},bh="ng-animate-queued",d2=".ng-animate-queued",hd="ng-animate-disabled",p2=".ng-animate-disabled",u2="ng-star-inserted",f2=".ng-star-inserted",h2=[],Ah={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jo="__ng_removed",bs=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),o=i?n.value:n;if(this.value=C2(o),i){let a=n,{value:l}=a,d=Yu(a,["value"]);this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(o=>{i[o]==null&&(i[o]=e[o])})}}},gs="void",gd=new bs(gs),Dd=class{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Fo(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw Ty(i,e);if(i==null||i.length==0)throw Py(e);if(!b2(i))throw Dy(i,e);let a=Co(this._elementListeners,n,[]),l={name:e,phase:i,callback:o};a.push(l);let d=Co(this._engine.statesByElement,n,new Map);return d.has(e)||(Fo(n,ac),Fo(n,ac+"-"+e),d.set(e,gd)),()=>{this._engine.afterFlush(()=>{let u=a.indexOf(l);u>=0&&a.splice(u,1),this._triggers.has(e)||d.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw Fy(n);return e}trigger(n,e,i,o=!0){let a=this._getTrigger(e),l=new vs(this.id,e,n),d=this._engine.statesByElement.get(n);d||(Fo(n,ac),Fo(n,ac+"-"+e),this._engine.statesByElement.set(n,d=new Map));let u=d.get(e),f=new bs(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&f.absorbOptions(u.options),d.set(e,f),u||(u=gd),!(f.value===gs)&&u.value===f.value){if(!y2(u.params,f.params)){let k=[],N=a.matchStyles(u.value,u.params,k),U=a.matchStyles(f.value,f.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{da(n,N),Jo(n,U)})}return}let w=Co(this._engine.playersByElement,n,[]);w.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let M=a.matchTransition(u.value,f.value,n,f.params),P=!1;if(!M){if(!o)return;M=a.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:M,fromState:u,toState:f,player:l,isFallbackTransition:P}),P||(Fo(n,bh),l.onStart(()=>{ur(n,bh)})),l.onDone(()=>{let k=this.players.indexOf(l);k>=0&&this.players.splice(k,1);let N=this._engine.playersByElement.get(n);if(N){let U=N.indexOf(l);U>=0&&N.splice(U,1)}}),this.players.push(l),w.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,mc,!0);i.forEach(o=>{if(o[jo])return;let a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){let a=this._engine.statesByElement.get(n),l=new Map;if(a){let d=[];if(a.forEach((u,f)=>{if(l.set(f,u.value),this._triggers.has(f)){let b=this.trigger(n,f,gs,o);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),i&&Rn(d).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let o=new Set;e.forEach(a=>{let l=a.name;if(o.has(l))return;o.add(l);let u=this._triggers.get(l).fallbackTransition,f=i.get(l)||gd,b=new bs(gs),y=new vs(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:u,fromState:f,toState:b,player:y,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){let a=i.players.length?i.playersByQueriedElement.get(n):[];if(a&&a.length)o=!0;else{let l=n;for(;l=l.parentNode;)if(i.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{let a=n[jo];(!a||a===Ah)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Fo(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let o=i.player;if(o.destroyed)return;let a=i.element,l=this._elementListeners.get(a);l&&l.forEach(d=>{if(d.name==i.triggerName){let u=Od(a,i.triggerName,i.fromState.value,i.toState.value);u._data=n,Ad(i.player,d.phase,u,d.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{let a=i.transition.ast.depCount,l=o.transition.ast.depCount;return a==0||l==0?a-l:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},Fd=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,o){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new Dd(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(e);for(;d;){let u=o.get(d);if(u){let f=i.indexOf(u);i.splice(f+1,0,n),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let o of i.values())if(o.namespaceId){let a=this._fetchNamespace(o.namespaceId);a&&e.add(a)}}return e}trigger(n,e,i,o){if(lc(e)){let a=this._fetchNamespace(n);if(a)return a.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!lc(e))return;let a=e[jo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){let l=this._fetchNamespace(n);l&&l.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Fo(n,hd)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ur(n,hd))}removeNode(n,e,i){if(lc(e)){this.scheduler?.notify();let o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,a){this.collectedLeaveElements.push(e),e[jo]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,e,i,o,a){return lc(e)?this._fetchNamespace(n).listen(e,i,o,a):()=>{}}_buildInstruction(n,e,i,o,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,a)}destroyInnerAnimations(n){let e=this.driver.query(n,mc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,bd,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Rn(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[jo];if(e&&e.setForRemoval){if(n[jo]=Ah,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(hd)&&this.markElementAsDisabled(n,!1),this.driver.query(n,p2,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let o=this.collectedEnterElements[i];Fo(o,u2)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let o=this.collectedLeaveElements[i];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Rn(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw Ry(n)}_flushAnimations(n,e){let i=new Cs,o=[],a=new Map,l=[],d=new Map,u=new Map,f=new Map,b=new Set;this.disabledNodes.forEach(Ie=>{b.add(Ie);let je=this.driver.query(Ie,d2,!0);for(let tt=0;tt<je.length;tt++)b.add(je[tt])});let y=this.bodyNode,w=Array.from(this.statesByElement.keys()),M=yh(w,this.collectedEnterElements),P=new Map,k=0;M.forEach((Ie,je)=>{let tt=Th+k++;P.set(je,tt),Ie.forEach(Dt=>Fo(Dt,tt))});let N=[],U=new Set,Q=new Set;for(let Ie=0;Ie<this.collectedLeaveElements.length;Ie++){let je=this.collectedLeaveElements[Ie],tt=je[jo];tt&&tt.setForRemoval&&(N.push(je),U.add(je),tt.hasAnimation?this.driver.query(je,f2,!0).forEach(Dt=>U.add(Dt)):Q.add(je))}let me=new Map,ne=yh(w,Array.from(U));ne.forEach((Ie,je)=>{let tt=Cd+k++;me.set(je,tt),Ie.forEach(Dt=>Fo(Dt,tt))}),n.push(()=>{M.forEach((Ie,je)=>{let tt=P.get(je);Ie.forEach(Dt=>ur(Dt,tt))}),ne.forEach((Ie,je)=>{let tt=me.get(je);Ie.forEach(Dt=>ur(Dt,tt))}),N.forEach(Ie=>{this.processLeaveNode(Ie)})});let se=[],xe=[];for(let Ie=this._namespaceList.length-1;Ie>=0;Ie--)this._namespaceList[Ie].drainQueuedTransitions(e).forEach(tt=>{let Dt=tt.player,di=tt.element;if(se.push(Dt),this.collectedEnterElements.length){let qi=di[jo];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(tt.triggerName)){let ta=qi.previousTriggersValues.get(tt.triggerName),wo=this.statesByElement.get(tt.element);if(wo&&wo.has(tt.triggerName)){let pl=wo.get(tt.triggerName);pl.value=ta,wo.set(tt.triggerName,pl)}}Dt.destroy();return}}let Ji=!y||!this.driver.containsElement(y,di),Ti=me.get(di),oo=P.get(di),Jt=this._buildInstruction(tt,i,oo,Ti,Ji);if(Jt.errors&&Jt.errors.length){xe.push(Jt);return}if(Ji){Dt.onStart(()=>da(di,Jt.fromStyles)),Dt.onDestroy(()=>Jo(di,Jt.toStyles)),o.push(Dt);return}if(tt.isFallbackTransition){Dt.onStart(()=>da(di,Jt.fromStyles)),Dt.onDestroy(()=>Jo(di,Jt.toStyles)),o.push(Dt);return}let Ta=[];Jt.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||Ta.push(qi)}),Jt.timelines=Ta,i.append(di,Jt.timelines);let es={instruction:Jt,player:Dt,element:di};l.push(es),Jt.queriedElements.forEach(qi=>Co(d,qi,[]).push(Dt)),Jt.preStyleProps.forEach((qi,ta)=>{if(qi.size){let wo=u.get(ta);wo||u.set(ta,wo=new Set),qi.forEach((pl,td)=>wo.add(td))}}),Jt.postStyleProps.forEach((qi,ta)=>{let wo=f.get(ta);wo||f.set(ta,wo=new Set),qi.forEach((pl,td)=>wo.add(td))})});if(xe.length){let Ie=[];xe.forEach(je=>{Ie.push(ky(je.triggerName,je.errors))}),se.forEach(je=>je.destroy()),this.reportError(Ie)}let ye=new Map,Le=new Map;l.forEach(Ie=>{let je=Ie.element;i.has(je)&&(Le.set(je,je),this._beforeAnimationBuild(Ie.player.namespaceId,Ie.instruction,ye))}),o.forEach(Ie=>{let je=Ie.element;this._getPreviousPlayers(je,!1,Ie.namespaceId,Ie.triggerName,null).forEach(Dt=>{Co(ye,je,[]).push(Dt),Dt.destroy()})});let Ge=N.filter(Ie=>xh(Ie,u,f)),wt=new Map;Sh(wt,this.driver,Q,f,$o).forEach(Ie=>{xh(Ie,u,f)&&Ge.push(Ie)});let bt=new Map;M.forEach((Ie,je)=>{Sh(bt,this.driver,new Set(Ie),u,Sl)}),Ge.forEach(Ie=>{let je=wt.get(Ie),tt=bt.get(Ie);wt.set(Ie,new Map([...je?.entries()??[],...tt?.entries()??[]]))});let fi=[],Ni=[],Ct={};l.forEach(Ie=>{let{element:je,player:tt,instruction:Dt}=Ie;if(i.has(je)){if(b.has(je)){tt.onDestroy(()=>Jo(je,Dt.toStyles)),tt.disabled=!0,tt.overrideTotalTime(Dt.totalTime),o.push(tt);return}let di=Ct;if(Le.size>1){let Ti=je,oo=[];for(;Ti=Ti.parentNode;){let Jt=Le.get(Ti);if(Jt){di=Jt;break}oo.push(Ti)}oo.forEach(Jt=>Le.set(Jt,di))}let Ji=this._buildAnimation(tt.namespaceId,Dt,ye,a,bt,wt);if(tt.setRealPlayer(Ji),di===Ct)fi.push(tt);else{let Ti=this.playersByElement.get(di);Ti&&Ti.length&&(tt.parentPlayer=Rn(Ti)),o.push(tt)}}else da(je,Dt.fromStyles),tt.onDestroy(()=>Jo(je,Dt.toStyles)),Ni.push(tt),b.has(je)&&o.push(tt)}),Ni.forEach(Ie=>{let je=a.get(Ie.element);if(je&&je.length){let tt=Rn(je);Ie.setRealPlayer(tt)}}),o.forEach(Ie=>{Ie.parentPlayer?Ie.syncPlayerEvents(Ie.parentPlayer):Ie.destroy()});for(let Ie=0;Ie<N.length;Ie++){let je=N[Ie],tt=je[jo];if(ur(je,Cd),tt&&tt.hasAnimation)continue;let Dt=[];if(d.size){let Ji=d.get(je);Ji&&Ji.length&&Dt.push(...Ji);let Ti=this.driver.query(je,bd,!0);for(let oo=0;oo<Ti.length;oo++){let Jt=d.get(Ti[oo]);Jt&&Jt.length&&Dt.push(...Jt)}}let di=Dt.filter(Ji=>!Ji.destroyed);di.length?v2(this,je,di):this.processLeaveNode(je)}return N.length=0,fi.forEach(Ie=>{this.players.push(Ie),Ie.onDone(()=>{Ie.destroy();let je=this.players.indexOf(Ie);this.players.splice(je,1)}),Ie.play()}),fi}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,a){let l=[];if(e){let d=this.playersByQueriedElement.get(n);d&&(l=d)}else{let d=this.playersByElement.get(n);if(d){let u=!a||a==gs;d.forEach(f=>{f.queued||!u&&f.triggerName!=o||l.push(f)})}}return(i||o)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||o&&o!=d.triggerName))),l}_beforeAnimationBuild(n,e,i){let o=e.triggerName,a=e.element,l=e.isRemovalTransition?void 0:n,d=e.isRemovalTransition?void 0:o;for(let u of e.timelines){let f=u.element,b=f!==a,y=Co(i,f,[]);this._getPreviousPlayers(f,b,l,d,e.toState).forEach(M=>{let P=M.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),M.destroy(),y.push(M)})}da(a,e.fromStyles)}_buildAnimation(n,e,i,o,a,l){let d=e.triggerName,u=e.element,f=[],b=new Set,y=new Set,w=e.timelines.map(P=>{let k=P.element;b.add(k);let N=k[jo];if(N&&N.removedBeforeQueried)return new Ra(P.duration,P.delay);let U=k!==u,Q=S2((i.get(k)||h2).map(ye=>ye.getRealPlayer())).filter(ye=>{let Le=ye;return Le.element?Le.element===k:!1}),me=a.get(k),ne=l.get(k),se=wh(this._normalizer,P.keyframes,me,ne),xe=this._buildPlayer(P,se,Q);if(P.subTimeline&&o&&y.add(k),U){let ye=new vs(n,d,k);ye.setRealPlayer(xe),f.push(ye)}return xe});f.forEach(P=>{Co(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>_2(this.playersByQueriedElement,P.element,P))}),b.forEach(P=>Fo(P,uh));let M=Rn(w);return M.onDestroy(()=>{b.forEach(P=>ur(P,uh)),Jo(u,e.toStyles)}),y.forEach(P=>{Co(o,P,[]).push(M)}),M}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Ra(n.duration,n.delay)}},vs=class{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Ra,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>Ad(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Co(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function _2(t,n,e){let i=t.get(n);if(i){if(i.length){let o=i.indexOf(e);i.splice(o,1)}i.length==0&&t.delete(n)}return i}function C2(t){return t??null}function lc(t){return t&&t.nodeType===1}function b2(t){return t=="start"||t=="done"}function vh(t,n){let e=t.style.display;return t.style.display=n??"none",e}function Sh(t,n,e,i,o){let a=[];e.forEach(u=>a.push(vh(u)));let l=[];i.forEach((u,f)=>{let b=new Map;u.forEach(y=>{let w=n.computeStyle(f,y,o);b.set(y,w),(!w||w.length==0)&&(f[jo]=g2,l.push(f))}),t.set(f,b)});let d=0;return e.forEach(u=>vh(u,a[d++])),l}function yh(t,n){let e=new Map;if(t.forEach(d=>e.set(d,[])),n.length==0)return e;let i=1,o=new Set(n),a=new Map;function l(d){if(!d)return i;let u=a.get(d);if(u)return u;let f=d.parentNode;return e.has(f)?u=f:o.has(f)?u=i:u=l(f),a.set(d,u),u}return n.forEach(d=>{let u=l(d);u!==i&&e.get(u).push(d)}),e}function Fo(t,n){t.classList?.add(n)}function ur(t,n){t.classList?.remove(n)}function v2(t,n,e){Rn(e).onDone(()=>t.processLeaveNode(n))}function S2(t){let n=[];return Oh(t,n),n}function Oh(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof rd?Oh(i.players,n):n.push(i)}}function y2(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){let a=e[o];if(!n.hasOwnProperty(a)||t[a]!==n[a])return!1}return!0}function xh(t,n,e){let i=e.get(t);if(!i)return!1;let o=n.get(t);return o?i.forEach(a=>o.add(a)):n.set(t,i),e.delete(t),!0}var fr=class{constructor(n,e,i,o){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Fd(n.body,e,i,o),this._timelineEngine=new Pd(n.body,e,i),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(n,e,i,o,a){let l=n+"-"+o,d=this._triggerCache[l];if(!d){let u=[],f=[],b=Fh(this._driver,a,u,f);if(u.length)throw yy(o,u);f.length&&void 0,d=l2(o,b,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,o,d)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if(i.charAt(0)=="@"){let[a,l]=dh(i),d=o;this._timelineEngine.command(a,e,l,d)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,a){if(i.charAt(0)=="@"){let[l,d]=dh(i);return this._timelineEngine.listen(l,e,d,a)}return this._transitionEngine.listen(n,e,i,o,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function x2(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=_d(n[0]),n.length>1&&(i=_d(n[n.length-1]))):n instanceof Map&&(e=_d(n)),e||i?new Rd(t,e,i):null}var Rd=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Jo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jo(this._element,this._initialStyles),this._endStyles&&(Jo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(da(this._element,this._endStyles),this._endStyles=null),Jo(this._element,this._initialStyles),this._state=3)}};function _d(t){let n=null;return t.forEach((e,i)=>{w2(i)&&(n=n||new Map,n.set(i,e))}),n}function w2(t){return t==="display"||t==="position"}var _c=class{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{o!=="offset"&&n.set(o,this._finished?i:Ld(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Cc=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Eh(n,e)}getParentElement(n){return Vd(n)}query(n,e,i){return Mh(n,e,i)}computeStyle(n,e,i){return Ld(n,e)}animate(n,e,i,o,a,l=[]){let d=o==0?"both":"forwards",u={duration:i,delay:o,fill:d};a&&(u.easing=a);let f=new Map,b=l.filter(M=>M instanceof _c);Gy(i,o)&&b.forEach(M=>{M.currentSnapshot.forEach((P,k)=>f.set(k,P))});let y=zy(e).map(M=>new Map(M));y=Uy(n,y,f);let w=x2(n,y);return new _c(n,y,u,w)}};var cc="@",Vh="@.disabled",bc=class{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==cc&&e==Vh?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},kd=class extends bc{constructor(n,e,i,o,a){super(e,i,o,a),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==cc?e.charAt(1)=="."&&e==Vh?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if(e.charAt(0)==cc){let o=E2(n),a=e.slice(1),l="";return a.charAt(0)!=cc&&([a,l]=M2(a)),this.engine.listen(this.namespaceId,o,a,l,d=>{let u=d._data||-1;this.factory.scheduleListenerCallback(u,i,d)})}return this.delegate.listen(n,e,i)}};function E2(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function M2(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var vc=class{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(o,a)=>{let l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(n,e){let o=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let f=this._rendererCache,b=f.get(o);if(!b){let y=()=>f.delete(o);b=new bc("",o,this.engine,y),f.set(o,b)}return b}let a=e.id,l=e.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);let d=f=>{Array.isArray(f)?f.forEach(d):this.engine.registerTrigger(a,l,n,f.name,f)};return e.data.animation.forEach(d),new kd(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(a=>{let[l,d]=a;l(d)}),this._animationCallbacksBuffer=[]})}),o.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var T2=(()=>{class t extends fr{constructor(e,i,o){super(e,i,o,os(s0,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(ie(aa),ie(pa),ie(ua))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();function P2(){return new pc}function D2(t,n,e){return new vc(t,n,e)}var Bh=[{provide:ua,useFactory:P2},{provide:fr,useClass:T2},{provide:l0,useFactory:D2,deps:[y0,fr,Da]}],Nh=[{provide:pa,useFactory:()=>new Cc},{provide:nd,useValue:"BrowserAnimations"},...Bh],F2=[{provide:pa,useClass:Nd},{provide:nd,useValue:"NoopAnimations"},...Bh],Sc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?F2:Nh}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({providers:Nh,imports:[vl]})}}return t})();var Lh={production:!0,name:"prod",apiURL:"https://valko-mig-lb.apps.bancolombia.com",azureConfig:{redirectUri:"https://valkob.apps.bancolombia.com/welcome",clientId:"9706c2b0-dcba-46cd-ae00-858c71cfe4b2",tenantId:"b5e244bd-c492-495b-8b10-61bfd453e423",logoutRedirectUri:"https://valkob.apps.bancolombia.com/login",scope:"api://9706c2b0-dcba-46cd-ae00-858c71cfe4b2/VALKO_API"},banner:"#{banner}#"};var hr=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetKnowledgeExpirationMessage="/mapa-conocimiento/getKnowledgeExpirationMessage",this.urlDeleteKnowledgeExpiration="/mapa-conocimiento/deleteKnowledgeMap",this.urlRenewKnowledgeExpiration="/mapa-conocimiento/renewKnowledgeMap",this.urlGetKnowledgeExpirationManagement="/mapa-conocimiento/getMessageKnowledgeMapManagement",this.urlGetKnowledgeMapByPerson="/mapa-conocimiento/getKnowledgeMapList",this.urlDeleteKnowledgeMapById="/mapa-conocimiento/deleteKnowledgeMapById",this.urlRenewKnowledgeMapById="/mapa-conocimiento/renewKnowledgeMapById",this.urlMessagePeopleWithoutKnowledgeMap="/mapa-conocimiento/messagePeopleWithoutKnowledgeMap"}getKnowledgeExpirationMessage(){return this.http.get(this.configService.settings.apiUrl+this.urlGetKnowledgeExpirationMessage,{})}messagePeopleWithoutKnowledgeMap(){return this.http.get(this.configService.settings.apiUrl+this.urlMessagePeopleWithoutKnowledgeMap,{})}getMessageKnowledgeMapManagement(){return this.http.get(this.configService.settings.apiUrl+this.urlGetKnowledgeExpirationManagement,{})}deleteKnowledgeMap(){return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteKnowledgeExpiration,{})}renewKnowledgeMap(){return this.http.post(this.configService.settings.apiUrl+this.urlRenewKnowledgeExpiration,{})}getKnowledgeMapList(e,i,o){let a=new be().set("personId",o).set("page",e.toString()).set("limit",i.toString());return this.http.get(this.configService.settings.apiUrl+this.urlGetKnowledgeMapByPerson,{params:a})}deleteKnowledgeMapById(e){let i=new be().set("knowledgeMapId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteKnowledgeMapById,{params:i})}renewKnowledgeMapById(e){return this.http.post(this.configService.settings.apiUrl+this.urlRenewKnowledgeMapById+`/${e}`,{})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var k2=["modal"],A2=["modalMisConocimientos"],O2=["modalMantenimiento"],V2=["modalNotificacion"];function N2(t,n){if(t&1){let e=E();r(0,"div")(1,"button",8),_("click",function(){v(e);let o=x();return S(o.continuarBanner())}),c(2,"Continuar"),s()()}}function B2(t,n){t&1&&(r(0,"div")(1,"div",15),C(2,"img",16),s(),r(3,"div",17),C(4,"img",18),s()())}function L2(t,n){if(t&1&&C(0,"img",31),t&2){let e=x(3);p("src",e.photo,vn)}}function j2(t,n){t&1&&C(0,"img",32)}function z2(t,n){if(t&1&&C(0,"bc-status",34),t&2){let e=n.$implicit;vt("bcTooltipText",e),vt("text",e),p("type","simple")("color","neutro")}}function H2(t,n){if(t&1&&(r(0,"div"),h(1,z2,1,4,"bc-status",33),s()),t&2){let e=x(3);m(),p("ngForOf",e.cells)}}function q2(t,n){if(t&1){let e=E();r(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23),h(5,L2,1,1,"img",24)(6,j2,1,0,"img",25),s(),r(7,"div",26)(8,"a",27),_("click",function(){v(e);let o=x(2);return S(o.viewProfile())}),r(9,"h4",28),c(10),s()(),r(11,"p",29),c(12),s(),h(13,H2,2,1,"div",7),s()()(),r(14,"div",30),C(15,"app-notificacion-list"),s()()()}if(t&2){let e=x(2);m(5),p("ngIf",e.photo),m(),p("ngIf",!e.photo),m(4),I(e.personProfile.value.fullName),m(2),Ht("",e.userObject.profileName," - ",e.userObject.rolName,""),m(),p("ngIf",e.cells.length>0)}}function G2(t,n){if(t&1&&(r(0,"li"),c(1),s()),t&2){let e=n.$implicit;m(),Ht("",e.nombreEncuesta," del curso ",e.dsCurso,"")}}function U2(t,n){if(t&1){let e=E();r(0,"div"),h(1,B2,5,0,"div",7)(2,q2,16,6,"div",9),r(3,"bc-modal",10,1),_("stateClick",function(){v(e);let o=x();return S(o.responseModalConocimiento())}),r(5,"div",5)(6,"p",11),c(7),s()()(),r(8,"bc-modal",12,2),_("stateClick",function(){v(e);let o=x();return S(o.close())}),r(10,"div",5)(11,"h4"),c(12),s(),r(13,"h6"),c(14,"Tienes una encuesta pendiente por diligenciar:"),s(),r(15,"ul"),h(16,G2,2,2,"li",13),s(),r(17,"p"),c(18,"Puedes acceder mediante la siguiente ruta:"),s(),r(19,"p"),c(20,"Conocimiento - Responder encuesta "),s()()(),r(21,"bc-modal",14,3),_("stateClick",function(){v(e);let o=x();return S(o.responseModalNotificacion())}),r(23,"div",5)(24,"p",11),c(25),s()()()()}if(t&2){let e=x();m(),p("ngIf",!e.profileRole),m(),p("ngIf",e.profileRole),m(),p("typeIcon","warning")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null)("buttonAlignment","horizontal"),m(4),T(" ",e.messageMyKnowledge," "),m(),p("typeIcon",e.typeIcon)("customWidth",e.customWidth)("titleAlign",e.titleAlign)("buttonAlignment",e.buttonAlignment),m(4),T("Hola ",e.nombre,""),m(4),p("ngForOf",e.values),m(5),p("typeIcon","warning")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null)("buttonAlignment","horizontal")("textBtn",e.nameButon),m(4),T(" ",e.message," ")}}var qh=(()=>{class t{constructor(e,i,o,a,l,d,u,f,b,y){this.loginService=e,this.personaService=i,this.diagnosticoService=o,this.parametroService=a,this.dialogService=l,this.router=d,this.appService=u,this._graphService=f,this.encuestaOfertaService=b,this.knowledgeMapService=y,this.successStatusCode=200,this.bannerEliminadoKey="bannerEliminado",this.mostrarPantallaBloqueada=!1,this.esExento=!1,this.userObject={personName:null,lastNameOne:null,lastNameTwo:null,profileName:null,rolName:null,showMetrics:!1},this.diagnosticDate="",this.diagnosticResult="",this.firstLink=null,this.secondLink=null,this.thirdLink=null,this.fourthLink=null,this.firstLinkName=null,this.secondLinkName=null,this.thirdLinkName=null,this.fourthLinkName=null,this.moduloDiagnostico="SM54",this.profileRole=!1,this.successfulStatusCode=200,this.cells=[],this.personProfile=new $i(""),this.values=[],this.typeIcon="success",this.customWidth="small",this.titleAlign="center",this.buttonAlignment="horizontal",this.countExpired=0,this.countPeople=0}ngOnInit(){if(this.loginService.validateSession()){if(this.estaEnVentanaMantenimiento()&&Lh.banner!=="false"){let e=this.loginService.getUsername()?.toLowerCase();this.esExento=e.startsWith("jarivera")||e.startsWith("marcorra"),this.mostrarPantallaBloqueada=!0;return}this.loadApp()}}loadApp(){this.nameUser=this.loginService.getName(),this.profileRole=this.loginService.getData()?.auth.MPE,this.loginService.getData()&&this.loginService.getData().auth.MPE&&(this.appService.authorizationCharged$.next(!0),this.loadProfileMe(),this._graphService.getMePhoto().subscribe(e=>{this.photo=e}),this.validateExpiredDiagnostic()),this.setEncuestaPendiente(),this.loginService.getData()&&this.loginService.getData().auth.EQP&&this.validateExpiredKnowledgeMap(!0),this.loginService.validateModule(this.moduloDiagnostico)&&(this.getPersonRole(),this.getDiagnosticLevel(),this.getHomeLinks())}estaEnVentanaMantenimiento(){let P=new Date,k=new Date(2025,2,7,19,0,0),N=new Date(2025,2,10,10,0,0);return P>=k&&P<=N}continuarBanner(){this.modalMantenimiento.shutDown(),this.mostrarPantallaBloqueada=!1,this.loadApp()}loadProfileMe(){this.personaService.getPersonProfile().subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.cells=e.body.data.personProfile.cells.split(","),this.personProfile.setValue(e.body.data.personProfile)):this.showMessage(e.body.data.message,"error","Perfil")})}ngAfterViewInit(){this.mostrarPantallaBloqueada&&this.modalMantenimiento.openModal()}getPersonRole(){this.personaService.getPersonRole(this.loginService.getData().idPersona).subscribe(e=>{e!==void 0&&e.statusCode===this.successStatusCode&&(this.userObject=e.body.data.object)})}getDiagnosticLevel(){this.diagnosticoService.getDiagnosticLevel(this.loginService.getData().idPersona).subscribe(e=>{e!==void 0&&e.statusCode===this.successStatusCode&&(this.diagnosticDate=e.body.data.object.diagnosticDate,this.diagnosticResult=e.body.data.object.diagnosticResult)})}getHomeLinks(){this.parametroService.getHomeLinks().subscribe(e=>{e!==void 0&&e.statusCode===this.successStatusCode&&(this.firstLink=e.body.data.object.firstLink,this.secondLink=e.body.data.object.secondLink,this.thirdLink=e.body.data.object.thirdLink,this.fourthLink=e.body.data.object.fourthLink,this.firstLinkName=e.body.data.object.firstLinkName,this.secondLinkName=e.body.data.object.secondLinkName,this.thirdLinkName=e.body.data.object.thirdLinkName,this.fourthLinkName=e.body.data.object.fourthLinkName)})}validateExpiredDiagnostic(){this.diagnosticoService.getExpiredDiagnostic(this.loginService.getData().idPersona).pipe(Ce(()=>{this.countExpiredDiagnostic>0&&this.modalMisConocimientos.openModal()})).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.countExpiredDiagnostic=e.body.data.countExpiredDiagnostic,this.messageMyKnowledge=e.body.data.message):this.showMessage(e.body.data.message,"error","Listar diagn\xF3sticos")})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}responseModalConocimiento(){this.modalMisConocimientos.shutDown(),this.router.navigate(["/perfil"])}viewProfile(){this.router.navigate(["/perfil"])}setEncuestaPendiente(){this.encuestaOfertaService.getBuscarEncuestasPendiente(this.loginService.getData().idPersona).subscribe(e=>{let i=this.loginService.getName().split(" ")[0];this.nombre=i.charAt(0).toLocaleUpperCase()+i.slice(1).toLocaleLowerCase(),this.values=e.body.data.objects,e.body.data.objects.length>0&&this.modal.openModal()})}close(){this.modal.shutDown()}validateExpiredKnowledgeMap(e){this.knowledgeMapService.getKnowledgeExpirationMessage().pipe(Ce(()=>{this.message?(this.nameButon="Personas",this.modalNotificacion.openModal()):this.validatePeopleWithoutKnowledgeMap(e)})).subscribe(i=>{this.successfulStatusCode==i.statusCode&&(this.message=i.body.data.message,this.countExpired=i.body.data.countExpired)})}validatePeopleWithoutKnowledgeMap(e){this.knowledgeMapService.messagePeopleWithoutKnowledgeMap().pipe(Ce(()=>{this.countPeople>0&&(this.nameButon="Personas",this.modalNotificacion.openModal())})).subscribe(i=>{this.successfulStatusCode==i.statusCode&&(this.message=i.body.data.message,this.countPeople=i.body.data.countPeople)})}responseModalNotificacion(){document.getElementById("REC002").click(),this.modalNotificacion.shutDown()}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(ot),g(yn),g(xn),g(ue),g(Ze),g(Oa),g(Va),g(Na),g(hr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-welcome"]],viewQuery:function(i,o){if(i&1&&(L(k2,5),L(A2,5),L(O2,5),L(V2,5)),i&2){let a;j(a=z())&&(o.modal=a.first),j(a=z())&&(o.modalMisConocimientos=a.first),j(a=z())&&(o.modalMantenimiento=a.first),j(a=z())&&(o.modalNotificacion=a.first)}},decls:16,vars:9,consts:[["modalMantenimiento",""],["modalMisConocimientos",""],["modal",""],["modalNotificacion",""],["title","\xA1Valko-B!","typeNotify","warning","displayButton","false",3,"hideCloseButton","outerCloseTap","typeIcon","customWidth","titleAlign","isCancellable","subTitle"],["modalContent",""],["href","https://valkob.apps.bancolombia.com/","target","_blank"],[4,"ngIf"],["bc-button","",3,"click"],["class","container bc-margin-top-2",4,"ngIf"],["title","Conocimientos","textBtn","Mi Perfil","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable","subTitle","buttonAlignment"],[2,"text-align","center"],["title","Encuesta Pendiente","displayButton","true","textBtn","Entendido",3,"stateClick","typeIcon","customWidth","titleAlign","buttonAlignment"],[4,"ngFor","ngForOf"],["title","Notificaci\xF3n","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable","subTitle","buttonAlignment","textBtn"],[1,"mat-typography","main-div"],["src","./assets/LogoBancolombia2.png","height","100"],[1,"trazo"],["src","./assets/TrazoBancolombia1.png"],[1,"container","bc-margin-top-2"],[1,"row","justify-content-start"],[1,"col-3"],["bc-card","","typeCard","image",1,"card-profile"],[1,"bc-card-image-round","tolvar-profile"],["class","image-avatar","id","avatar","bc-avatar","","sizeAvatar","small","alt","",3,"src",4,"ngIf"],["class","image-avatar","id","avatar","bc-avatar","","sizeAvatar","small","src","assets/default_profile.jpg","alt","",4,"ngIf"],[1,"bc-card-content","text-profile"],["bc-link","","typeLink","underline","sizeLink","default","href","javascript:void(0);",3,"click"],[1,"bc-card-title"],[1,"text-role"],[1,"col-9"],["id","avatar","bc-avatar","","sizeAvatar","small","alt","",1,"image-avatar",3,"src"],["id","avatar","bc-avatar","","sizeAvatar","small","src","assets/default_profile.jpg","alt","",1,"image-avatar"],["widthTag","100%","bc-tooltip","","bcTooltipPosition","left",3,"type","color","bcTooltipText","text",4,"ngFor","ngForOf"],["widthTag","100%","bc-tooltip","","bcTooltipPosition","left",3,"type","color","bcTooltipText","text"]],template:function(i,o){i&1&&(r(0,"bc-modal",4,0)(2,"div",5)(3,"h2"),c(4,"\xA1Hola!"),s(),r(5,"p"),c(6," Como se inform\xF3 en el comunicado de d\xEDas pasados, Valko est\xE1 transitando por un cambio B. "),C(7,"br"),c(8,"Volver\xE1 a estar disponible el d\xEDa 10 de marzo de 2025 a las 10:00. "),C(9,"br")(10,"br"),c(11," Recuerda que la nueva URL es: "),r(12,"a",6),c(13," https://valkob.apps.bancolombia.com/ "),s()(),h(14,N2,3,0,"div",7),s()(),h(15,U2,26,23,"div",7)),i&2&&(p("hideCloseButton",!0)("outerCloseTap",!1)("typeIcon","warning")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null),m(14),p("ngIf",o.esExento),m(),p("ngIf",!o.mostrarPantallaBloqueada))},dependencies:[ae,V,ef,kt,Qt,J0,Mo,wn,Z0,Wt],styles:[".main-div[_ngcontent-%COMP%]{height:85vh;display:flex;justify-content:center;align-items:center}.trazo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-fill-available;height:40%;position:absolute;top:58%;display:block}.button-yellow-color[_ngcontent-%COMP%]{background-color:#fdda24;margin:10px;border-radius:10px;text-align:center}.button-yellow-color[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.tolvar-profile[_ngcontent-%COMP%]{background-color:#000;border-radius:8px 8px 0 0}.image-avatar[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.card-profile[_ngcontent-%COMP%]{width:20%;position:absolute;max-width:100%}.text-profile[_ngcontent-%COMP%]{text-align:-webkit-center}.text-role[_ngcontent-%COMP%]{text-align:center;font-size:11px}"]})}}return t})();var Gh=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetAuthorizations="/autorizacion/get-autorizacion"}getAutorizacion(e){let i=new be().set("userName",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetAuthorizations,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Uh=(()=>{class t{constructor(e,i,o,a,l,d){this.loginService=e,this.router=i,this._snackBar=o,this.dialog=a,this.msalBroadcastService=l,this.autorizacionService=d,this.version=!1,this._destroying$=new hi,this.successfulStatusCode=200,this.disabledLogin=!1,sessionStorage.clear(),this.loginService.cleanData(),this.loginService.refresh()}ngOnInit(){this.msalBroadcastService.inProgress$.pipe(od(e=>e===V0.None),fl(this._destroying$)).subscribe(()=>{}),this.msalBroadcastService.msalSubject$.pipe(od(e=>e.eventType===N0.LOGIN_SUCCESS)).subscribe(e=>{console.log(e)})}ngDoCheck(){this.loginService.isLoggedIn()&&this.router.navigate(["/welcome"])}getAutorization(){this.disabledLogin=!0,this.autorizacionService.getAutorizacion(this.loginService.getUsername()).pipe(Ce(()=>{this.disabledLogin=!1,this.loginService.refresh(),this.router.navigate(["/welcome"])})).subscribe(e=>{e.statusCode===this.successfulStatusCode?sessionStorage.setItem("conocimientoSession",JSON.stringify(e.body.data.personMap)):this.loginService.logout()})}login(){this.loginService.login().pipe(Ce(()=>{this.getAutorization()})).subscribe(e=>{this.loginService.setActiveAccount(e)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(Ze),g(K),g(Z),g(wl),g(Gh))}}static{this.\u0275cmp=D({type:t,selectors:[["app-login"]],decls:10,vars:1,consts:[[1,"main-div"],[1,"container"],[1,"row","align-items-end"],[1,"col-5"],[1,"col-2"],["id","login",1,"bc-button-small","bc-button-primary","text-buttom",3,"click","disabled"],[1,"trazo"],["src","./assets/TrazoBancolombia1.png"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),C(3,"div",3),r(4,"div",4)(5,"button",5),_("click",function(){return o.login()}),c(6,"Iniciar Sesi\xF3n"),s()(),C(7,"div",3),s()()(),r(8,"div",6),C(9,"img",7),s()),i&2&&(m(5),p("disabled",o.disabledLogin))},styles:['.main-div[_ngcontent-%COMP%]{height:90vh;width:100%;display:flex;justify-content:center;align-items:center;background-image:url("./media/logo-bancolombia2-QOSLAP7P.png");background-repeat:no-repeat;background-position:50% 30%;background-size:40% 40%}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0;position:inherit;left:0;right:0;bottom:0;height:20px;z-index:0;text-align:center}.trazo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:-webkit-fill-available;height:40%;position:absolute;top:58%;display:block}.text-buttom[_ngcontent-%COMP%]{text-transform:none}']})}}return t})();var W2=()=>["disponible"],K2=()=>[6,10,100,1e3];function Y2(t,n){t&1&&(r(0,"th",30),c(1," Nombre "),s())}function X2(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),Uo(" ",e.nombre," ",e.apellido1," ",e.apellido2," ")}}function Z2(t,n){t&1&&(r(0,"th",30),c(1," Empresa "),s())}function J2(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T("",e.empresa," ")}}function ex(t,n){t&1&&(r(0,"th",30),c(1," Id ingreso origen "),s())}function tx(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" \xA0",e.idIngresoOrigen," ")}}function ix(t,n){t&1&&(r(0,"th",30),c(1," Tarifa "),s())}function ox(t,n){if(t&1&&(r(0,"td",31),c(1),Mt(2,"num"),s()),t&2){let e=n.$implicit;m(),T(" $",Pi(2,1,e.valor)," ")}}function nx(t,n){t&1&&(r(0,"th",30),c(1," Habilidades "),s())}function ax(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.habilidades,"")}}function rx(t,n){t&1&&(r(0,"th",30),c(1," Tipo Preseleccion "),s())}function sx(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.tipoPreseleccion," ")}}function lx(t,n){t&1&&(r(0,"th",30),c(1," Fecha Retiro "),s())}function cx(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit,i=x();m(),T(" ",i.cambiarFecha(e.fechaRetiro)," ")}}function mx(t,n){t&1&&(r(0,"th",30),c(1," Clasificaci\xF3n"),s())}function dx(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.claseRetiro," ")}}function px(t,n){t&1&&(r(0,"th",30),c(1," Motivo "),s())}function ux(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.motivoRetiro," ")}}function fx(t,n){t&1&&(r(0,"th",30),c(1," Observ. "),s())}function hx(t,n){if(t&1&&(r(0,"td",31),c(1),Mt(2,"slice"),s()),t&2){let e=n.$implicit;m(),T(" ",d0(2,1,e.observacionesRetiro,0,6)," ")}}function gx(t,n){if(t&1){let e=E();r(0,"th",33)(1,"mat-slide-toggle",34),_("change",function(){v(e);let o=x();return S(o.getPersonasPerfil())}),c(2),s()()}if(t&2){let e=x();m(),p("formControl",e.disponibleFormControl),m(),T(" ",e.disponibleFormControl.value?"NO DISPONIBLES":"DISPONIBLES"," ")}}function _x(t,n){t&1&&(r(0,"th",35),c(1,"Acciones"),s())}function Cx(t,n){if(t&1){let e=E();r(0,"button",44),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openAddDialog(o))}),r(1,"mat-icon",45),c(2,"person_add"),s(),r(3,"span"),c(4,"Agregar candidato a la solicitud"),s()()}}function bx(t,n){if(t&1){let e=E();r(0,"button",46),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openDeleteDialog(o))}),r(1,"mat-icon",47),c(2,"person_outline"),s(),r(3,"span"),c(4,"Eliminar candidato de la solicitud"),s()()}}function vx(t,n){if(t&1){let e=E();r(0,"button",48),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openEvaluacionesDialog(o,"ver-evaluaciones"))}),r(1,"mat-icon",45),c(2,"view_list"),s(),r(3,"span"),c(4,"Ver evaluaciones"),s()()}}function Sx(t,n){t&1&&(r(0,"mat-icon",45),c(1,"event_available"),s())}function yx(t,n){t&1&&(r(0,"mat-icon",45),c(1,"event_busy"),s())}function xx(t,n){t&1&&(r(0,"span"),c(1,"Marcar no disponible"),s())}function wx(t,n){t&1&&(r(0,"span"),c(1,"Marcar disponible"),s())}function Ex(t,n){if(t&1){let e=E();r(0,"td",31)(1,"button",36)(2,"mat-icon"),c(3,"more_vert"),s()(),r(4,"mat-menu",37,0),h(6,Cx,5,0,"button",38)(7,bx,5,0,"button",39)(8,vx,5,0,"button",40),r(9,"button",41),_("click",function(){let o=v(e).$implicit,a=x();return S(a.setAvailable(o))}),h(10,Sx,2,0,"mat-icon",42)(11,yx,2,0,"mat-icon",42)(12,xx,2,0,"span",43)(13,wx,2,0,"span",43),s()()()}if(t&2){let e=n.$implicit,i=re(5),o=x();m(),p("matMenuTriggerFor",i),m(5),p("ngIf",!o.isAgregado(e.agregado)&&!o.disponibleFormControl.value),m(),p("ngIf",o.isAgregado(e.agregado)&&!o.disponibleFormControl.value),m(),p("ngIf",o.isTalento&&!o.disponibleFormControl.value),m(2),p("ngIf",!o.disponibleFormControl.value),m(),p("ngIf",o.disponibleFormControl.value),m(),p("ngIf",!o.disponibleFormControl.value),m(),p("ngIf",o.disponibleFormControl.value)}}function Mx(t,n){t&1&&C(0,"tr",49)}function Ix(t,n){t&1&&C(0,"tr",50)}function Tx(t,n){t&1&&C(0,"tr",51)}var Qh=(()=>{class t{ngAfterViewInit(){this.dataSource.sort=this.sort}constructor(e,i,o,a,l,d,u,f,b){this.router=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.personaService=l,this.loginService=d,this.posteoProveedorService=u,this.dialog=f,this._liveAnnouncer=b,this.filtroFormControl=new O("",[]),this.displayedColumns=["nombre","empresa","idIngresoOrigen","tarifa","habilidades","tipoPreseleccion","fechaRetiro","claseRetiro","motivoretiro","observacionesretiro","acciones"],this.personasList=[],this.mensajeFormControl=new O("",[]),this.isLoading=!1,this.isTalento=!1,this.disponibleFormControl=new O(!1,[]),this.successStatusCode=200,this.showSpinner=!1}ngOnInit(){this.validRole(),this.getPersonasPerfil()}announceSortChange(e){let i=this.dataSource.data.slice();if(!e.active||e.direction===""){this.dataSource.data=i;return}this.dataSource.data=i.sort((o,a)=>{let l=e.direction==="asc";switch(e.active){case"nombre":return zo(o.nombre,a.nombre,l);case"empresa":return zo(o.empresa,a.empresa,l);case"idIngresoOrigen":return zo(o.idIngresoOrigen,a.idIngresoOrigen,l);case"tarifa":return zo(o.tarifa,a.tarifa,l);case"habilidades":return zo(o.habilidades,a.habilidades,l);case"tipoPreseleccion":return zo(o.tipoPreseleccion,a.tipoPreseleccion,l);case"fechaRetiro":return zo(o.fechaRetiro,a.fechaRetiro,l);case"claseRetiro":return zo(o.claseRetiro,a.claseRetiro,l);case"motivoretiro":return zo(o.motivoretiro,a.motivoretiro,l);case"observacionesretiro":return zo(o.observacionesretiro,a.observacionesretiro,l);case"disponible":return zo(o.disponible,a.disponible,l);default:return 0}})}getPersonasPerfil(){this.isLoading=!0,this.personaService.getPreseleccionadosPersona(this.data.habilidadesTecnicas,this.data.idRol,this.data.estadoSolicitud,this.data.idSolicitud,this.data.idPosteoProveedor,!this.disponibleFormControl.value).subscribe(e=>{e!=null?(this.dataSource=new Se(e),this.personasList=e,this.dataSource.paginator=this.paginator):(this.dataSource=new Se([]),this.personasList=[]),this.isLoading=!1},e=>{this.showMessage("Un error ha ocurrido, por favor contacte a SkillHackers"),this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})})}setAvailable(e){this.disponibleFormControl.value?e.mensaje=`\xBFRealmente desea marcar como no disponible a ${e.nombre+" "+e.apellido1+" "+e.apellido2}`:e.mensaje=`\xBFRealmente desea marcar como disponible a ${e.nombre+" "+e.apellido1+" "+e.apellido2}`,e.boton="Aceptar",this.dialog.open($e,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.disablePerson(e.idPersona)})}disablePerson(e){this.personaService.setPersonAvailability(e).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.showMessage(i.body.data.message),this.getPersonasPerfil()):this.showMessage(i.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}addPosteo(e,i){this.posteoProveedorService.addPreseleccion(i,e.idPersona,e.idEmpresa,e.tipoPreseleccion,e.idPosteoProveedor).subscribe(o=>{o.error?(this.showSpinner=!1,this.showMessage(o.error)):(this.showSpinner=!1,this.showMessage(o.response),this.getPersonasPerfil())})}deletePosteo(e,i){this.posteoProveedorService.deletePreseleccion(i,e.idPersona,e.idEmpresa).subscribe(o=>{o.error?this.showMessage(o.error):(this.showMessage(o.response),this.getPersonasPerfil())})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onNoClick(){this.dialogRef.close()}isAgregado(e){if(e=="S")return!0;if(e=="N"||e==null)return!1}openAddDialog(e){e.mensaje=`\xBFRealmente desea agregar a ${e.nombre+" "+e.apellido1+" "+e.apellido2} a solicitud de ingreso ${this.data.idSolicitud}?`,e.boton="Aceptar",this.dialog.open($e,{data:e}).afterClosed().subscribe(o=>{this.showSpinner=!0,o!=null?this.addPosteo(e,this.data.idSolicitud):this.showSpinner=!1})}openDeleteDialog(e){e.mensaje=`\xBFRealmente desea eliminar a ${e.nombre+" "+e.apellido1+" "+e.apellido2} la solicitud de ingreso ${this.data.idSolicitud}?`,e.boton="Aceptar",this.dialog.open($e,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.deletePosteo(e,this.data.idSolicitud)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}cambiarFecha(e){if(e!=null){let i=new Date(e);return new Date(i.toUTCString()+"-5").toLocaleDateString("es-CO")}}validRole(){let e=this.loginService.getData();(e.auth.ADP||e.auth.DEM)&&(this.isTalento=!0)}openEvaluacionesDialog(e,i){let o=this.loginService.getData();o.title="Evaluaciones: ";let a=o.idEstadoSolicitud=e.idIngreso,l={idPosteoProveedor:e.idPosteoProveedor,idPersonaCandidato:e.setIdPersona};o.user=l,o.tipo=i,o.modo="consulta";let d=this.dialog.open(Pn,{data:o})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(K),g(W),g(Y),g(ot),g(he),g(Tn),g(Z),g(K0))}}static{this.\u0275cmp=D({type:t,selectors:[["app-persona"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,5)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:53,vars:11,consts:[["menuDetalladas","matMenu"],[3,"showSpinner"],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-8"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-12"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","empresa"],["matColumnDef","idIngresoOrigen"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","tarifa"],["matColumnDef","habilidades"],["matColumnDef","tipoPreseleccion"],["matColumnDef","fechaRetiro"],["matColumnDef","claseRetiro"],["matColumnDef","motivoretiro"],["matColumnDef","observacionesretiro"],["matColumnDef","disponible"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",2,"text-align","center"],["mat-footer-cell",""],[3,"change","formControl"],["mat-header-cell","",1,"accion"],["matTooltip","Acciones detalladas","aria-label","Men\xFA acciones detalladas",1,"bc-button-icon",3,"matMenuTriggerFor"],[1,"mat-menu-panel"],["mat-menu-item","","matTooltip","Preseleccionar candidato a la solicitud",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Eliminar candidato de la solicitud",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Ver evaluaciones",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Marcar no disponible",3,"click"],["style","color: black;",4,"ngIf"],[4,"ngIf"],["mat-menu-item","","matTooltip","Preseleccionar candidato a la solicitud",3,"click"],[2,"color","black"],["mat-menu-item","","matTooltip","Eliminar candidato de la solicitud",3,"click"],["color","warn"],["mat-menu-item","","matTooltip","Ver evaluaciones",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(i,o){i&1&&(C(0,"app-progreso-spinner",1),r(1,"h2",2),c(2),s(),r(3,"mat-dialog-content")(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-form-field")(8,"mat-label"),c(9,"Filtro"),s(),r(10,"input",6),_("keyup",function(l){return o.applyFilter(l)}),s()()()(),r(11,"div",4)(12,"div",7)(13,"table",8),_("matSortChange",function(l){return o.announceSortChange(l)}),F(14,9),h(15,Y2,2,0,"th",10)(16,X2,2,3,"td",11),R(),F(17,12),h(18,Z2,2,0,"th",10)(19,J2,2,1,"td",11),R(),F(20,13),h(21,ex,2,0,"th",10)(22,tx,2,1,"td",14),R(),F(23,15),h(24,ix,2,0,"th",10)(25,ox,3,3,"td",11),R(),F(26,16),h(27,nx,2,0,"th",10)(28,ax,2,1,"td",11),R(),F(29,17),h(30,rx,2,0,"th",10)(31,sx,2,1,"td",11),R(),F(32,18),h(33,lx,2,0,"th",10)(34,cx,2,1,"td",11),R(),F(35,19),h(36,mx,2,0,"th",10)(37,dx,2,1,"td",11),R(),F(38,20),h(39,px,2,0,"th",10)(40,ux,2,1,"td",11),R(),F(41,21),h(42,fx,2,0,"th",10)(43,hx,3,5,"td",11),R(),F(44,22),h(45,gx,3,2,"th",23),R(),F(46,24),h(47,_x,2,0,"th",25)(48,Ex,14,8,"td",11),R(),h(49,Mx,1,0,"tr",26)(50,Ix,1,0,"tr",27)(51,Tx,1,0,"tr",28),s(),C(52,"mat-paginator",29),s()()()()),i&2&&(p("showSpinner",o.showSpinner),m(2),Ht("",o.data.title," ",o.data.idSolicitud,""),m(8),p("formControl",o.filtroFormControl),m(3),p("dataSource",o.dataSource),m(36),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("matFooterRowDef",Te(9,W2)),m(),p("pageSizeOptions",Te(10,K2)))},dependencies:[le,Ml,X,Ee,_e,ve,Po,To,Do,$,Ko,J,ze,Pe,Oe,Ne,Fe,De,ke,uf,ff,Ve,Re,Be,Ae,hf,oe,V,q,H,G,Lo,b0,tr],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-menu-panel{overflow:hidden!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}"]})}}return t})();function zo(t,n,e){return(t<n?-1:1)*(e?1:-1)}var gr=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlUpdateCategoryEvaluation="/categoriaevaluacion/updateCategoriaEvaluacion",this.urlCreateCategoryEvaluation="/categoriaevaluacion/createCategoriaEvaluacion",this.urlGetEvaluationByCategory="/categoriaevaluacion/getCategoriaByEvaluacion",this.urlRemoveCategoriaEvaluacion="/categoriaevaluacion/removeCategoriaEvaluacion"}updateEvaluation(e){return this.http.post(`${this.configService.settings.apiUrl+this.urlUpdateCategoryEvaluation}`,e)}createEvaluation(e){return this.http.post(`${this.configService.settings.apiUrl+this.urlCreateCategoryEvaluation}`,e)}getGetEvaluationByCategory(e){let i=new be().set("idCategoria",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetEvaluationByCategory,{params:i})}removeCategoriaEvaluacion(e,i){return this.http.request("delete",`${this.configService.settings.apiUrl+this.urlRemoveCategoriaEvaluacion}`,{body:{categoryId:e,evaluacions:i}})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Wh=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlCreateIngresoEvaluacion="/ingresoevaluacion/createIngresoEvaluacion",this.urlUpdateIngresoEvaluacion="/ingresoevaluacion/updateIngresoEvaluacion",this.urlGetEvaluacionByIngreso="/ingresoevaluacion/getEvaluacionByIngreso"}createIngresoEvaluacion(e){return this.http.post(this.configService.settings.apiUrl+this.urlCreateIngresoEvaluacion,e)}updateIngresoEvaluacion(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateIngresoEvaluacion,e)}getEvaluacionesByIngreso(e){let i=new be().set("idIngreso",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetEvaluacionByIngreso,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fx=["table"],Rx=["stepper1"];function kx(t,n){if(t&1&&C(0,"bc-data-table",28),t&2){let e=x();p("data-table-config",e.dtConfigTableFull)}}function Ax(t,n){if(t&1){let e=E();r(0,"bc-paginator",24),_("onChangePage",function(o){v(e);let a=x(3);return S(a.onChangePage(o))}),s()}if(t&2){let e=x(3);p("totalRegisters",e.dataSourceEvaluaciones.length.toString())("perPage","6")("perMultiple","6")}}function Ox(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",40),c(2),s(),r(3,"td",40),c(4),s(),r(5,"td",40),c(6),s(),r(7,"td",40)(8,"bc-checkbox",41),_("changeState",function(o){let a=v(e).$implicit,l=x(3);return S(l.addEvaluationItem(o,a))}),s()()()}if(t&2){let e=n.$implicit;m(2),I(e.idEvaluacion),m(2),I(e.dsEvaluacion),m(2),I(e.linkEvaluacion),m(2),p("id","selectPostEvaluation-"+e.idEvaluacion)("isChecked",e.selected)}}function Vx(t,n){if(t&1&&(r(0,"bc-table-container",37)(1,"bc-table-header",23),h(2,Ax,1,3,"bc-paginator",38),s(),r(3,"bc-table-content")(4,"table",39)(5,"thead")(6,"tr")(7,"th",26),c(8,"Id evaluaci\xF3n"),s(),r(9,"th",26),c(10,"Descripci\xF3n"),s(),r(11,"th",26),c(12,"V\xEDnculo"),s(),r(13,"th",26),c(14,"Seleccionar"),s()()(),r(15,"tbody"),h(16,Ox,9,5,"tr",27),s()()()()),t&2){let e=x(2);p("dataTable",e.dataSourceEvaluacionesFiltered),m(2),p("ngIf",(e.dataSourceEvaluaciones==null?null:e.dataSourceEvaluaciones.length)>0),m(14),p("ngForOf",e.dataSourceEvaluacionesFiltered)}}function Nx(t,n){if(t&1){let e=E();r(0,"div",6)(1,"div",29)(2,"div")(3,"b"),c(4,"SUBCATEGORIA: "),s(),c(5),s(),r(6,"div")(7,"b"),c(8,"NIVEL: "),s(),c(9),s()(),r(10,"div",30),h(11,Vx,17,3,"bc-table-container",31),s(),r(12,"div",32)(13,"div",33)(14,"div",34),C(15,"div",10),r(16,"div",35)(17,"button",36),_("click",function(){v(e);let o=x();return S(o.sendEvaluations())}),c(18," Guardar "),s()()()()()()}if(t&2){let e=x();m(5),I(e.data.rol),m(4),T(" ",e.data.nivelCategoria,""),m(2),p("ngIf",(e.dataSourceEvaluacionesFiltered==null?null:e.dataSourceEvaluacionesFiltered.length)>=0),m(6),p("disabled",!e.isEvaluacionesEmpty())}}function Bx(t,n){if(t&1){let e=E();r(0,"bc-paginator",24),_("onChangePage",function(o){v(e);let a=x(3);return S(a.onChangePage(o))}),s()}if(t&2){let e=x(3);p("totalRegisters",e.dataSourceProveedores.length.toString())("perPage","6")("perMultiple","6")}}function Lx(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",40),c(2),s(),r(3,"td",40),c(4),s(),r(5,"td",40),c(6),Mt(7,"currency"),s(),r(8,"td",40)(9,"bc-checkbox",59),_("changeState",function(o){let a=v(e).$implicit,l=x(3);return S(l.addItem(o,a))}),s()(),r(10,"td",40)(11,"bc-checkbox",59),_("changeState",function(o){let a=v(e).$implicit,l=x(3);return S(l.sendLinkItem(o,a))}),s()()()}if(t&2){let e=n.$implicit;m(2),I(e.idEmpresa),m(2),I(e.dsEmpresa),m(2),I(Di(7,11,e.valor,"COP$")),m(3),p("id","selectPostCompany-"+e.idEmpresa)("value",e)("enabled",!e.isPosteo)("isChecked",e.selected),m(2),p("id","selectLinkCompany-"+e.idEmpresa)("value",e)("enabled",e.selected)("isChecked",e.sendLink)}}function jx(t,n){if(t&1&&(r(0,"bc-table-container",37)(1,"bc-table-header",23),h(2,Bx,1,3,"bc-paginator",38),s(),r(3,"bc-table-content")(4,"table",58)(5,"thead")(6,"tr")(7,"th",26),c(8,"Id"),s(),r(9,"th",26),c(10,"Empresa"),s(),r(11,"th",26),c(12,"Precio"),s(),r(13,"th",26),c(14,"Seleccionar"),s(),r(15,"th",26),c(16,"Enviar link"),s()()(),r(17,"tbody"),h(18,Lx,12,14,"tr",27),s()()()()),t&2){let e=x(2);p("dataTable",e.dataSourceProveedoresFilter),m(2),p("ngIf",(e.dataSourceProveedores==null?null:e.dataSourceProveedores.length)>0),m(16),p("ngForOf",e.dataSourceProveedoresFilter)}}function zx(t,n){if(t&1){let e=E();r(0,"div")(1,"div")(2,"bc-form-field",10)(3,"input",42,3),_("keyup",function(o){v(e);let a=x();return S(a.applyFilter(o))}),s(),r(5,"label",43),c(6,"Filtrar"),s(),r(7,"span"),c(8,"Escriba el texto a buscar"),s()(),r(9,"bc-switch",44),_("changeState",function(o){v(e);let a=x();return S(a.onToggleConsultarSinNivel(o))}),c(10," Consultar sin nivel "),s()(),r(11,"div"),h(12,jx,19,3,"bc-table-container",31),s(),r(13,"div",45)(14,"div")(15,"bc-form-field",46)(16,"em"),c(17,"filter"),s(),C(18,"input",47),r(19,"label",48),c(20,"Cupo"),s(),r(21,"span"),c(22,"Ingrese la cantidad de candidatos"),s()(),r(23,"bc-input-date",49)(24,"bc-form-field")(25,"em"),c(26,"calendar"),s(),C(27,"input",50),r(28,"em",51),c(29,"arrow2-down"),s(),r(30,"label",52),c(31,"Fecha cierre posteo"),s(),r(32,"span"),c(33,"Selecciona una fecha del calendario"),s()()(),r(34,"bc-form-field",6),C(35,"textarea",53,4),r(37,"label",54),c(38,"Mensaje"),s(),r(39,"span"),c(40,"Ingrese el mensaje del posteo"),s()()()(),r(41,"div",55)(42,"div",33)(43,"div",34)(44,"div",10)(45,"button",56),_("click",function(){v(e);let o=x();return S(o.onNoClick())}),c(46," Cancelar "),s()(),r(47,"div",10)(48,"button",57),_("click",function(){v(e);let o=x();return S(o.sendMessage())}),c(49," Crear posteo "),s()()()()()()}if(t&2){let e=x();m(9),p("isChecked",e.consultarSinNivel),m(3),p("ngIf",(e.dataSourceEvaluacionesFiltered==null?null:e.dataSourceEvaluacionesFiltered.length)>=0),m(6),p("formControl",e.cantidadFormControl),m(5),p("validateInput",!0)("formControl",e.fechaFinEstimadaFormControl),m(4),p("min",e.minDate),m(8),p("formControl",e.mensajeFormControl),m(13),p("disabled",!e.isConocimientoEmpty()||e.clickedAddPost)}}function Hx(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",40),c(2),s(),r(3,"td",40),c(4),s(),r(5,"td",40),c(6),s(),r(7,"td",40),c(8),s(),r(9,"td",40),c(10),Mt(11,"date"),s(),r(12,"td",40),c(13),s(),r(14,"td",40)(15,"bc-icon-button",60),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),s()()()}if(t&2){let e=n.$implicit;m(2),I(e.idPosteo),m(2),I(e.empresa),m(2),I(e.cantidadMaxima),m(2),I(e.estadoParticipa),m(2),I(Di(11,11,e.fechaLimite,"d/MM/yyyy")),m(3),I(e.mensaje),m(2),p("type","solid")("color","yellow")("shadow",!0)("size","small")("customIcon","modify")}}var qx={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Kh=(()=>{class t{constructor(e,i,o,a,l,d,u,f,b,y){this.router=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.empresaService=l,this.posteoService=d,this.categoriaEvaluacionService=u,this.ingresoEvaluacionService=f,this.dialog=b,this.dateAdapter=y,this.relacionCupos=2,this.mensajeFormControl=new O("",[]),this.cantidadFormControl=new O(1,[A.required,A.minLength(1)]),this.fechaFinEstimadaFormControl=new O("",[A.required]),this.dataSourceProveedores=[],this.dataSourceResumen=[],this.resumenDataOriginal=[],this.dataSourceDetalle=[],this.dataSourceEvaluaciones=[],this.empresasList=[],this.empresasListSearch=[],this.items=[],this.selectedItemsEvaluacion=[],this.ocultarEventos=!0,this.successfulStatusCode=200,this.successStatusCode=200,this.consultarSinNivel=!1,this.stepsArray=["Evaluaci\xF3n","Proveedores"],this.direction="horizontal",this.indexPosition=0,this.selectedEvaluations=[],this.dataSourceEvaluacionesFiltered=[],this.dataSourceProveedoresFilter=[],this.dataSourceDetalleFilter=[],this.dtEvaluationTable={},this.isDetalleReady=!1,this.evaluacionesReady=!1,this.page=1,this.limit=5,this.length=0,this.dtConfigTableFull={id:"data-table-full",data:[],columnHeaders:{data:[]},multicheck:!1,actions:{},header:{title:{text:"Resumen de Proveedores"},paginator:{itemsPerPage:6}},footer:{paginator:{align:"center"}}},this.cantidadFormControl.setValue(a.cantidad*this.relacionCupos)}ngOnInit(){this.getInfo(),this.getProveedoresEnSolicitud(),this.getGetEvaluationByCategory(),this.getAllByEntryId()}getInfo(){this.dateAdapter.setLocale("co"),this.minDate=new Date,this.getEmpresasPerfil(),this.empresasListSearch=[]}onChangePage(e){let i=parseInt(e?.CurrentPage||"1"),o=parseInt(e?.PerPage||"6");(this.page!==i||this.limit!==o)&&(this.page=i,this.limit=o)}getEmpresasPerfil(){let e={idRol:this.data.idRol,idSolicitud:this.data.idSolicitud};this.consultarSinNivel||(e.nivel=this.data.nivel),this.empresaService.getEmpresasPerfilByConocimiento(e).subscribe(i=>{if(i?.statusCode===this.successStatusCode){let a=(i.body.data.data||[]).map(l=>rt(it({},l),{selected:!1,sendLink:!1,isPosteo:!1}));this.dataSourceProveedores=a,this.dataSourceProveedoresFilter=[...a],this.empresasList=a}else this.showMessage(i?.body?.message||"Error al obtener las empresas del perfil")},i=>{this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})})}onToggleConsultarSinNivel(e){this.consultarSinNivel=e,this.getEmpresasPerfil()}applyFilter(e){let i=e.target.value.trim().toLowerCase();this.dataSourceProveedoresFilter=this.dataSourceProveedores.filter(o=>o.idEmpresa?.toString().toLowerCase().includes(i)||o.dsEmpresa?.toLowerCase().includes(i)||o.valor?.toString().toLowerCase().includes(i))}applyFilterResumen(e){let i=e.target.value.trim().toLowerCase(),a=this.resumenDataOriginal.filter(l=>[l.idPosteo,l.empresa,l.cantidadPosteos,l.primeraFechaSolicitud,l.ultimaFechaSolicitud,l.enviarLink?"SI":"NO"].filter(d=>d!=null).some(d=>d.toString().toLowerCase().includes(i))).map(l=>[{type:"id",value:l.idPosteo},{type:"string",value:l.idPosteo},{type:"string",value:l.empresa},{type:"integer",value:l.cantidadPosteos},{type:"date",value:l.primeraFechaSolicitud?new Date(l.primeraFechaSolicitud):null},{type:"date",value:l.ultimaFechaSolicitud?new Date(l.ultimaFechaSolicitud):null},{type:"string",value:l.enviarLink?"SI":"NO"}]);this.dtConfigTableFull=rt(it({},this.dtConfigTableFull),{data:a})}applyFilterDetalle(e){let i=e.target.value.trim().toLowerCase();this.dataSourceDetalleFilter=this.dataSourceDetalle.filter(o=>o.idPosteo?.toString().toLowerCase().includes(i)||o.empresa?.toLowerCase().includes(i)||o.cantidadMaxima?.toString().toLowerCase().includes(i)||o.estadoParticipa?.toLowerCase().includes(i)||o.fechaLimite?.toString().toLowerCase().includes(i)||o.mensaje?.toLowerCase().includes(i))}onNoClick(){this.dialogRef.close()}addItem(e,i){i.selected=e;let o=this.isAdded(i.idEmpresa);if(!e)i.sendLink=!1,this.items=this.items.filter(a=>a.id!==i.idEmpresa);else if(!o){i.sendLink=!1;let a={id:i.idEmpresa,nombre:i.dsEmpresa,enviarLink:!1};this.items=[...this.items,a]}this.isConocimientoEmpty()}addEvaluationItem(e,i){e!=null&&e!=null&&(i.selected=e)}sendLinkItem(e,i){i.sendLink=e;let o=this.items.findIndex(a=>a.id===i.idEmpresa);o!==-1&&(this.items[o].enviarLink=e),this.isConocimientoEmpty()}isConocimientoEmpty(){return!!(this.items!=null&&this.items!=null&&this.items.length>0&&this.cantidadFormControl.valid&&this.fechaFinEstimadaFormControl.valid)}isEvaluacionesEmpty(){return this.dataSourceEvaluacionesFiltered?.some(e=>e.selected)}isAdded(e){let i=[];return i=this.items.find(o=>o.id==e),i!=null&&i!=null&&[i].length>0}sendEvaluations(){if(this.cantidadFormControl.valid&&this.isEvaluacionesEmpty()){let e=this.data.idSolicitud,i=this.dataSourceEvaluaciones.filter(o=>o.selected).map(o=>({idEvaluacion:o.idEvaluacion}));if(this.selectedItemsEvaluacion.length){let o=this.selectedItemsEvaluacion.filter(a=>!i.find(l=>a.idEvaluacion===l.idEvaluacion));this.ingresoEvaluacionService.updateIngresoEvaluacion({entranceId:e,evaluations:i,removedEvaluations:o}).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.getGetEvaluationByCategory(),this.showMessage(a.body.data.message),this.indexPosition=1,this.stepperComponent?.writeValue(1)):this.showMessage(a.body.data.message)})}else this.ingresoEvaluacionService.createIngresoEvaluacion({entranceId:e,evaluations:i}).subscribe(o=>{o.statusCode===this.successfulStatusCode?(this.getGetEvaluationByCategory(),this.showMessage(o.body.data.message),this.indexPosition=1,this.stepperComponent?.writeValue(1)):this.showMessage(o.body.data.message)})}}onStepperChange(e){this.indexPosition=e}sendMessage(){this.clickedAddPost=!0;let e=[];for(let a=0;a<this.items.length;a++)e.push({idEmpresa:this.items[a].id,enviarLink:this.items[a].enviarLink});let i=new ms(null,null,null,null,null,null,null,null,null,null,null,null,null,this.data.idSolicitud),o=new Sf({ingreso:i,mensaje:this.mensajeFormControl.value,cantidadMaxima:this.cantidadFormControl.value,fechaLimite:this.fechaFinEstimadaFormControl.value});this.posteoService.sendMessagePosteo(o,e).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message),this.dialogRef.close()):this.showMessage(a.body.data.message),this.clickedAddPost=!1},a=>{this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})})}getProveedoresEnSolicitud(){this.posteoService.getProveedoresEnSolicitud(this.data.idSolicitud).subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=e.body.data.posts;this.resumenDataOriginal=i;let o=i.map(l=>[{type:"id",value:l.idPosteo},{type:"string",value:l.idPosteo},{type:"string",value:l.empresa},{type:"integer",value:l.cantidadPosteos},{type:"date",value:l.primeraFechaSolicitud?new Date(l.primeraFechaSolicitud):null},{type:"date",value:l.ultimaFechaSolicitud?new Date(l.ultimaFechaSolicitud):null},{type:"string",value:l.enviarLink?"SI":"NO"}]),a=[{name:"Id",dataType:"string"},{name:"Empresa",dataType:"string"},{name:"Cantidad",dataType:"integer"},{name:"Fecha primer posteo",dataType:"date"},{name:"Fecha \xFAltimo posteo",dataType:"date"},{name:"Enviar link",dataType:"string"}];this.dtConfigTableFull.data=o,this.dtConfigTableFull.columnHeaders.data=a}else this.showMessage(e.body.data.message)})}getGetEvaluationByCategory(){this.categoriaEvaluacionService.getGetEvaluationByCategory(this.data.idRol).subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=[];e.body.data&&(i=e.body.data.evaluacions),this.getEvaluacionesByIngreso(i)}else this.showMessage(e.body.data.message)})}getEvaluacionesByIngreso(e){this.ingresoEvaluacionService.getEvaluacionesByIngreso(this.data.idSolicitud).subscribe(i=>{if(i.statusCode===this.successfulStatusCode){let o=[];i.body.data?(this.selectedItemsEvaluacion=i.body.data.evaluations,o=e.map(a=>rt(it({},a),{selected:!!this.selectedItemsEvaluacion.find(l=>l.idEvaluacion===a.idEvaluacion)}))):o=e.map(a=>rt(it({},a),{selected:!1})),this.dataSourceEvaluaciones=o,this.dataSourceEvaluacionesFiltered=[...o],this.evaluacionesReady=!0}else this.showMessage(i.body.data.message)})}getAllByEntryId(){this.posteoService.getAllByEntryId(this.data.idSolicitud).subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=e.body.data.posts;this.dataSourceDetalle=i,this.dataSourceDetalleFilter=[...i],this.isDetalleReady=!0}else this.showMessage(e.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDialog(e,i){e=="Update"&&this.openEditDialog(i)}openEditDialog(e){e.title="Editar posteo : ",this.dialog.open(yf,{width:"600px",data:e}).afterClosed().subscribe(o=>{this.getAllByEntryId()})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(K),g(W),g(Y),g(to),g(Dn),g(gr),g(Wh),g(Z),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-proveedor"]],viewQuery:function(i,o){if(i&1&&(L(Fx,7),L(Rx,5)),i&2){let a;j(a=z())&&(o.table=a.first),j(a=z())&&(o.stepperComponent=a.first)}},features:[na([{provide:Ii,useClass:Ga},{provide:mn,useValue:Ua},{provide:Ii,useClass:Ka,deps:[Ba,Wa]},{provide:mn,useValue:qx}])],decls:53,vars:14,consts:[["inputFiltrar",""],["stepper1",""],["inputFiltrarPosteo",""],["inputFiltrarProveedor",""],["message",""],[1,"row","m-3"],[1,"bc-col-12"],[1,"bc-title-3"],[3,"tabType"],["label","Resumen"],[1,"bc-col-6"],["bc-input","","type","text","id","inputFiltrar",1,"bc-input-icon-right",3,"keyup"],["for","labelFiltrar"],[3,"data-table-config",4,"ngIf"],["id","tabQualifiedSuppliers","label","Proveedores calificados"],[1,"bc-container","bc-pl-5","bc-pr-5"],[3,"valueOutput","steps","direction","indexPosition"],["class","bc-col-12",4,"ngIf"],[4,"ngIf"],["label","Detalle posteos"],["bc-input","","type","text","id","inputFiltrarPosteo",1,"bc-input-icon-right",3,"keyup"],["for","labelFiltrarPosteo"],[1,"bc-col-12",3,"dataTable"],["ngDefaultControl","","title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["id","tabla-id","bc-table",""],["bc-cell","","scope","col"],[4,"ngFor","ngForOf"],[3,"data-table-config"],[1,"bc-flex","bc-justify-content-space-around"],["id","evaluaciones-table"],["componentId","evaluaciones-table","class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-mt-4"],[1,"bc-container"],[1,"bc-row"],[1,"bc-col-6","bc-mt-4"],[1,"bc-button","bc-button-primary",3,"click","disabled"],["componentId","evaluaciones-table",1,"bc-col-12",3,"dataTable"],["type","full",3,"totalRegisters","perPage","perMultiple","onChangePage",4,"ngIf"],["bc-table",""],["bc-cell",""],[1,"col-4","offset-5",3,"changeState","id","isChecked"],["bc-input","","type","text","id","inputFiltrarProveedor",1,"bc-input-icon-right",3,"keyup"],["for","labelFiltrarProveedor"],[3,"changeState","isChecked"],[1,"bc-m-4"],[1,"bc-col-6","bc-mt-5"],["bc-input","","id","cupoInput","type","number","min","1","required","",3,"formControl"],["for","cupoInput"],["componentId","calendarEndDate","type","split","ngDefaultControl","",1,"bc-col-6","bc-mt-5",3,"validateInput","formControl"],["bc-input","","typeInput","input-default-left","id","endDate","type","date","required","",3,"min"],[1,"bc-input-select-toggle"],["for","endDate"],["bc-input","","id","mensajeInput","maxlength","999","required","",3,"formControl"],["for","mensajeInput"],[1,"bc-mt-2"],[1,"bc-button","bc-button-secondary",3,"click"],["id","savePost",1,"bc-button","bc-button-primary",3,"click","disabled"],["bc-table","","scroll","true"],[1,"col-4","offset-5",3,"changeState","id","value","enabled","isChecked"],[3,"click","type","color","shadow","size","customIcon"]],template:function(i,o){if(i&1){let a=E();r(0,"div",5)(1,"div",6)(2,"h2",7),c(3),s()()(),r(4,"bc-tabs-group",8)(5,"bc-tab",9)(6,"div")(7,"bc-form-field",10)(8,"input",11,0),_("keyup",function(d){return v(a),S(o.applyFilterResumen(d))}),s(),r(10,"label",12),c(11,"Filtrar"),s(),r(12,"span"),c(13,"Escriba el texto a buscar"),s()()(),h(14,kx,1,1,"bc-data-table",13),s(),r(15,"bc-tab",14)(16,"div",15)(17,"bc-stepper",16,1),_("valueOutput",function(d){return v(a),S(o.onStepperChange(d))}),s()(),h(19,Nx,19,4,"div",17)(20,zx,50,8,"div",18),s(),r(21,"bc-tab",19)(22,"div")(23,"bc-form-field",10)(24,"input",20,2),_("keyup",function(d){return v(a),S(o.applyFilterDetalle(d))}),s(),r(26,"label",21),c(27,"Filtrar"),s(),r(28,"span"),c(29,"Escriba el texto a buscar"),s()()(),r(30,"bc-table-container",22)(31,"bc-table-header",23)(32,"bc-paginator",24),_("onChangePage",function(d){return v(a),S(o.onChangePage(d))}),s()(),r(33,"bc-table-content")(34,"table",25)(35,"thead")(36,"tr")(37,"th",26),c(38,"Id"),s(),r(39,"th",26),c(40,"Empresa"),s(),r(41,"th",26),c(42,"Cantidad"),s(),r(43,"th",26),c(44,"Participaci\xF3n"),s(),r(45,"th",26),c(46,"Fecha l\xEDmite posteo"),s(),r(47,"th",26),c(48,"Mensaje"),s(),r(49,"th",26),c(50,"Acciones"),s()()(),r(51,"tbody"),h(52,Hx,16,14,"tr",27),s()()()()()()}i&2&&(m(3),Ht("",o.data.title," ",o.data.idSolicitud,""),m(),p("tabType","contrast"),m(10),p("ngIf",(o.dtConfigTableFull==null||o.dtConfigTableFull.data==null?null:o.dtConfigTableFull.data.length)>0&&(o.dtConfigTableFull==null||o.dtConfigTableFull.columnHeaders==null||o.dtConfigTableFull.columnHeaders.data==null?null:o.dtConfigTableFull.columnHeaders.data.length)>0),m(3),p("steps",o.stepsArray)("direction",o.direction)("indexPosition",o.indexPosition),m(2),p("ngIf",o.indexPosition===0&&o.evaluacionesReady),m(),p("ngIf",o.indexPosition===1),m(10),p("dataTable",o.dataSourceDetalleFilter),m(2),p("totalRegisters",o.dataSourceDetalle.length.toString())("perPage","6")("perMultiple","6"),m(20),p("ngForOf",o.dataSourceDetalleFilter))},dependencies:[ae,V,q,Li,H,At,$t,ka,G,xf,te,ee,pt,mt,ct,dt,ut,lt,Wo,kl,fe,wf,Mf,Ef,If,Fa,so],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-around}mat-selection-list[_ngcontent-%COMP%]{max-height:100%;overflow:auto;width:100%}.list[_ngcontent-%COMP%]{justify-content:space-between}.cantidad[_ngcontent-%COMP%]{padding:15px;width:100px}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}.example-full-width[_ngcontent-%COMP%]{width:100%}.vert-bottom[_ngcontent-%COMP%]{vertical-align:bottom}.expanded[_ngcontent-%COMP%]{word-break:break-all;padding:1em 1em 1em 0}"]})}}return t})();var Ux=()=>["xlsx"];function $x(t,n){if(t&1){let e=E();r(0,"a",25),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",26),c(2,"search"),s(),r(3,"span"),c(4,"B\xFAsqueda avanzada"),s(),r(5,"bc-icon",27),c(6,"arrow2-down"),s()()}}function Qx(t,n){if(t&1){let e=E();r(0,"a",25),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",26),c(2,"search"),s(),r(3,"span"),c(4,"Ocultar b\xFAsqueda avanzada"),s(),r(5,"bc-icon",27),c(6,"arrow2-down"),s()()}}function Wx(t,n){if(t&1){let e=E();r(0,"button",43),_("click",function(){v(e);let o=x(2);return S(o.clearInitialDate())}),r(1,"mat-icon"),c(2,"close"),s()()}}function Kx(t,n){t&1&&(r(0,"mat-error"),c(1," Por favor, seleccione una fecha inicial. "),s())}function Yx(t,n){if(t&1){let e=E();r(0,"button",43),_("click",function(){v(e);let o=x(2);return S(o.clearFinalDate())}),r(1,"mat-icon"),c(2,"close"),s()()}}function Xx(t,n){if(t&1){let e=E();r(0,"div",6)(1,"div",28)(2,"mat-form-field",29)(3,"mat-label"),c(4,"Fecha Inicial"),s(),C(5,"input",30)(6,"mat-datepicker-toggle",31)(7,"mat-datepicker",null,0),h(9,Wx,3,0,"button",32)(10,Kx,2,0,"mat-error",33),s()(),r(11,"div",28)(12,"mat-form-field",29)(13,"mat-label"),c(14,"Fecha Final"),s(),r(15,"input",34),_("dateChange",function(){v(e);let o=x();return S(o.validateDateRange())}),s(),C(16,"mat-datepicker-toggle",31)(17,"mat-datepicker",null,1),h(19,Yx,3,0,"button",32),s()(),r(20,"div",7)(21,"bc-form-field")(22,"em"),C(23,"bc-icon",35),s(),C(24,"input",36),r(25,"span"),c(26,"Nivel"),s()()(),r(27,"div",7)(28,"bc-form-field")(29,"em"),C(30,"bc-icon",37),s(),C(31,"input",38),r(32,"span"),c(33,"Estado"),s()()(),r(34,"div",7)(35,"bc-form-field")(36,"em"),C(37,"bc-icon",39),s(),C(38,"input",40),r(39,"span"),c(40,"Cantidad"),s()()(),r(41,"div",7)(42,"bc-form-field")(43,"em"),C(44,"bc-icon",41),s(),C(45,"input",42),r(46,"span"),c(47,"Analisis"),s()()()()}if(t&2){let e=re(8),i=re(18),o=x();m(5),p("matDatepicker",e)("formControl",o.initialDateFormControl),m(),p("for",e),m(3),p("ngIf",o.initialDateFormControl.value),m(),p("ngIf",o.initialDateFormControl.hasError("required")),m(5),p("matDatepicker",i)("formControl",o.searchForm.controls.finalDateFormControl),m(),p("for",i),m(3),p("ngIf",o.searchForm.controls.finalDateFormControl.value),m(5),p("formControl",o.searchForm.controls.levelFormControl),m(7),p("formControl",o.searchForm.controls.stateFormControl),m(7),p("formControl",o.searchForm.controls.quantityFormControl),m(7),p("formControl",o.searchForm.controls.analysisFormControl)}}function Zx(t,n){t&1&&(r(0,"div",2),C(1,"br")(2,"div",44),r(3,"div",7),C(4,"mat-spinner",45),s(),C(5,"div",44),s()),t&2&&(m(4),p("diameter",50))}function Jx(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",56),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x().$implicit;p("id","buttonEntranceOptions-"+e.idSolicitud)("row",e)("options",e.option)}}function ew(t,n){if(t&1&&(r(0,"tr")(1,"td",53),c(2),s(),r(3,"td",53),c(4),s(),r(5,"td",53),c(6),s(),r(7,"td",53),c(8),s(),r(9,"td",53),c(10),s(),r(11,"td",53),c(12),s(),r(13,"td",53),c(14),s(),r(15,"td",53),c(16),s(),r(17,"td",53),c(18),s(),r(19,"td",54),h(20,Jx,1,3,"bc-table-dropdown",55),s()()),t&2){let e=n.$implicit,i=x(2);m(2),I(e.idSolicitud),m(2),I(e.nombreLider),m(2),I(e.fechaSolicitud),m(2),I(e.origenSolicitud),m(2),I(e.rol),m(2),I(e.nivelCategoria),m(),Bo("color",i.getStatusStyle(e.colorEstado)),m(),I(e.estadoSolicitud),m(2),I(e.analisisSolicitud),m(2),I(e.cantidad),m(2),p("ngIf",e.option.length>0)}}function tw(t,n){if(t&1){let e=E();r(0,"bc-table-container",46)(1,"bc-table-header",47)(2,"bc-paginator",48),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",49)(5,"thead")(6,"tr")(7,"th",50),c(8,"ID "),s(),r(9,"th",50),c(10,"Lider"),s(),r(11,"th",50),c(12,"Fecha Solicitud"),s(),r(13,"th",50),c(14,"Origen Solicitud"),s(),r(15,"th",50),c(16,"Rol"),s(),r(17,"th",50),c(18,"Nivel"),s(),r(19,"th",50),c(20,"Estado"),s(),r(21,"th",50),c(22,"An\xE1lisis"),s(),r(23,"th",50),c(24,"Cantidad"),s(),C(25,"th",51),s()(),r(26,"tbody"),h(27,ew,21,12,"tr",52),s()()(),C(28,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",5),m(25),p("ngForOf",e.dataSource)}}var _r=(()=>{class t{constructor(e,i,o,a,l,d,u){this.ingresoService=e,this.dialog=i,this._snackBar=o,this.parametroService=a,this.dialogService=l,this.fb=d,this.reportsPdfService=u,this.showColumn="assets/tableFilters/show.png",this.hideColumn="assets/tableFilters/hide.png",this.EstadoUtil=[{id:"P",ds:"PENDIENTE"},{id:"S",ds:"APROBADO"},{id:"R",ds:"RECHAZADO"}],this.OrigenSolicitudUtil={AUMENTO_CAPACIDAD_CON_PROVEEDOR:{id:"OR0001",ds:"AUMENTO DE CAPACIDAD (CON PROVEEDOR)"}},this.columnsMenu=[],this.addDays=void 0,this.esFTI=!1,this.esADP=!1,this.resourceFinanciera="REC009",this.resourceAdminProveedores="REC007",this.successStatusCode=200,this.dataSource=[],this.visibleAdvancedSearch=!1,this.page=1,this.limit=5,this.length=0,this.showSpinner=!1}ngOnInit(){this.buildForm(),this.getIngresos(),this.getApprover(),this.esFTI=this.idResourceOrigin==this.resourceFinanciera,this.esADP=this.idResourceOrigin==this.resourceAdminProveedores,this.alertUserNetworkError()}getIngresos(){this.showSpinner=!0,this.ingresoService.getAllIngresosSkill(this.searchForm.get("entranceIdFormControl").value,this.searchForm.get("leaderFormControl").value,this.searchForm.get("originEntranceFormControl").value,this.searchForm.get("categoryFormControl").value,this.initialDateFormControl.value,this.finalDateFormControl.value,this.searchForm.get("levelFormControl").value,this.searchForm.get("quantityFormControl").value,this.searchForm.get("stateFormControl").value,this.searchForm.get("analysisFormControl").value,this.page,this.limit).pipe(Ce(()=>{this.showSpinner=!1})).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode&&e.body.data.entrances&&e.body.data.entrances.length>0?(this.dataSource=e.body.data.entrances.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.length=e.body.data.total):(this.dataSource=[],this.showMessage(e.body.data.message,"error","Listar proveedores")):this.showMessage("No se recibe objeto respuesta del servidor","error","Listar proveedores")})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}openDialog(e,i){i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="Delete"?this.openDeleteDialog(i):i.action=="Detallar"?this.openDetailDialog(i):i.action=="Buscar"?this.openSearchDialog(i):i.action=="Postear"?this.openPosteoDialog(i):i.action=="Candidatos"?this.openViewDialog(i):i.action=="Evaluacion"?this.openEvaluacionDialog(i):i.action=="Asignar"&&this.openAsignacionDialog(i)}openViewDialog(e){e.mode="select",e.title="Aplicantes a la solicitud: ",e.adminProveedores="adminProveedores",e.addDays=this.addDays,e.origin="Admin Proveedores",this.dialog.open(cr,{width:"2000px",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{o&&this.ngOnInit()})}openEvaluacionDialog(e){e.title="Trazabilidad solicitud:";let i=this.dialog.open(Pn,{width:"1000px",maxHeight:"90vh",data:e})}openPosteoDialog(e){e.mode="select",e.title="Postear solicitud:",this.dialog.open(Kh,{width:"1000px",height:"95%",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.ngOnInit()})}openDetailDialog(e){e.mode="select",e.title="Detalle solicitud:",e.esAPTI=this.idResourceOrigin==this.resourceAdminProveedores;let i=this.dialog.open(Hl,{width:"1000px",height:"90vh",data:e})}openSearchDialog(e){e.mode="select",e.title="Preseleccionados para la solicitud ",this.dialog.open(Qh,{width:"1000px",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.ngOnInit()})}openUpdateDialog(e){e.mode="update",e.title="Editar solicitud ingreso:",e.action="Update",e.boton="Editar",e.origen="Admin Proveedores",this.dialog.open(ds,{data:e,disableClose:!0,width:"1000px",maxHeight:"90vh"}).afterClosed().subscribe(o=>{this.getIngresos()})}openDeleteDialog(e){e.mensaje=`\xBFDesea cancelar solicitud de ingreso ${e.idSolicitud}?`,e.boton="Cancelar",e.error="Si la solicitud va a ser cancelada, debe poner un comentario indicando la raz\xF3n",e.titulo="Comentario de cancelaci\xF3n",this.dialog.open(Al,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.deleteIngreso(e.idSolicitud,e.comentario),this.ngOnInit()})}deleteIngreso(e,i){this.entrance=new Pl,this.entrance.idSolicitud=e,this.entrance.comentarioCancelacion=i,this.ingresoService.deleteIngresoService(this.entrance).subscribe(o=>{o.error?this.showMessage(o.error,"error","Listar proveedores"):(this.showMessage(o.response,"success","Eliminar solicitud ingreso"),this.getIngresos())},o=>{this.showMessage("No se pudo cancelar la solicitud, por favor contactar a Skill Hacking","error","Listar proveedores")})}openAsignacionDialog(e){e.mensaje=`\xBFDesea asignarse a la solicitud de ingreso ${e.idSolicitud}?`,e.boton="Asignar",this.dialog.open($e,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.asignarSkillHackerSolicitud(e.idSolicitud)})}asignarSkillHackerSolicitud(e){let i=new ms(null,null,null,null,null,null,null,null,null,null,null,0,0,e,null);this.ingresoService.updateEncargado(JSON.stringify(i)).subscribe(o=>{o.error?this.showMessage(o.error,"error","Listar proveedores"):(this.showMessage(o.response,"success","Asignar encargado"),this.getIngresos())})}cambiarFecha(e){return new Date(e).toLocaleDateString("es-CO")}validarOrigenYAprobador(e){let i=this.OrigenSolicitudUtil.AUMENTO_CAPACIDAD_CON_PROVEEDOR.ds===e.origenSolicitud,o=!["CAN","CER","SUS"].includes(e.idEstadoSolicitud),a=e.aprobacionAumento==null||e.aprobacionAumento==="P",l=this.validApprovers?.includes(this.idResourceOrigin);return i&&o&&a&&l}openAprobarPreseleccionDialog(e){var i={mensaje:"\xBFDesea aceptar la documentaci\xF3n de aumento de capacidad asociada a la solicitud?",opciones:[{name:"Aprobar",color:"primary",icon:"check"},{name:"Rechazar",color:"warn",icon:"cancel"}]};this.dialog.open(ps,{data:i}).afterClosed().subscribe(a=>{let l=new ms(null,null,null,null,null,null,null,null,null,null,null,null,null,e.idSolicitud);a!=null&&(a.data.opcion=="Aprobar"?l.aprobacionAumento="S":a.data.opcion=="Rechazar"&&(l.aprobacionAumento="R"),this.ingresoService.updateAprobacionAumento(JSON.stringify(l),this.idResourceOrigin).pipe(Ce(()=>{this.ngOnInit()})).subscribe(d=>{d.statusCode===this.successStatusCode?this.showMessage(d.body.data.message,"success","Aprobacion aumento"):this.showMessage(d.body.data.message,"error","Aprobacion aumento")}))})}estadoAprobacion(e){let i;return this.EstadoUtil.forEach(o=>{o.id==e&&(i=o.ds)}),i}getStatusStyle(e){return e}getApprover(){this.parametroService.getParametroAprobador().subscribe(e=>{e!==void 0?this.validApprovers=e.body.data.parametroAprobador:this.showMessage("Ha fallado el obtener parametro aprobador","error","Obtener aprobador")})}alertUserNetworkError(){this.ingresoService.getEntrancesByUserNetworkErrorThenOk().subscribe(e=>{if(e.body.data.entrancesByUserNetworkError.length>0){let i="\xA1Advertencia! Las siguientes solicitudes presentan novedades por no asignar el usuario de red a tiempo: ",o="";e.body.data.entrancesByUserNetworkError.forEach(d=>{o+=`(${d.idSolicitud} - ${d.nombrePrestadorDeServicio}) `}),this.dialogService.open(pe,{id:"MyAlertId",type:"warning",text:i+o,title:"Novedad - Ingreso(s) pendiente por usuario de red"})}else e.error&&this.showMessage("Fall\xF3 la generaci\xF3n de novedades por usuario de red.","error","Novedad usuario red")})}advancedSearch(){this.visibleAdvancedSearch=!this.visibleAdvancedSearch,this.visibleAdvancedSearch||this.setValueFormGroup()}buildForm(){this.initialDateFormControl=new O(null),this.finalDateFormControl=new O(null),this.searchForm=this.fb.group({entranceIdFormControl:[null,[]],leaderFormControl:["",[]],originEntranceFormControl:["",[]],categoryFormControl:["",[]],levelFormControl:["",[]],stateFormControl:["",[]],quantityFormControl:[null,[]],analysisFormControl:["",[]],initialDateFormControl:this.initialDateFormControl,finalDateFormControl:this.finalDateFormControl}),this.finalDateFormControl.valueChanges.subscribe(()=>{this.validateDateRange()})}setValueFormGroup(){this.searchForm.patchValue({levelFormControl:"",stateFormControl:"",quantityFormControl:null,analysisFormControl:"",initialDateFormControl:null,finalDateFormControl:null}),this.validateDateRange()}cleanSearchGeneralEntranceData(){this.page=1,this.limit=5,this.searchForm.get("entranceIdFormControl").reset(),this.searchForm.get("leaderFormControl").reset(),this.searchForm.get("originEntranceFormControl").reset(),this.searchForm.get("categoryFormControl").reset(),this.searchForm.get("initialDateFormControl").reset(),this.searchForm.get("finalDateFormControl").reset(),this.searchForm.get("levelFormControl").reset(),this.searchForm.get("stateFormControl").reset(),this.searchForm.get("quantityFormControl").reset(),this.searchForm.get("analysisFormControl").reset(),this.getIngresos()}clearInitialDate(){this.initialDateFormControl.reset(),this.validateDateRange()}clearFinalDate(){this.finalDateFormControl.reset(),this.validateDateRange()}validateDateRange(){this.finalDateFormControl.value&&!this.initialDateFormControl.value?(this.initialDateFormControl.setValidators(A.required),this.initialDateFormControl.markAsTouched()):this.initialDateFormControl.setValidators(null),this.initialDateFormControl.updateValueAndValidity()}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getIngresos())}getOptions(e){let i=[];return i.push({id:"detail",text:"Detallar Solicitud Ingreso",icon:"edit-document",action:this.rowSelected}),this.esFTI||(this.esADP&&i.push({id:"edit",text:"Editar Solicitud Ingreso",icon:"project",action:this.rowSelected}),i.push({id:"candidates",text:"Ver Candidatos",icon:"people",action:this.rowSelected})),!this.esFTI&&this.esADP&&!(e.idEstadoSolicitud=="CER"||e.idEstadoSolicitud=="CAN"||e.idEstadoSolicitud=="SUS"||e.nombreEncargado!="")&&i.push({id:"assign",text:"Asignarme a la Solicitud",icon:"direct-user",action:this.rowSelected}),!this.esFTI&&this.esADP&&!(e.idEstadoSolicitud=="CER"||e.idEstadoSolicitud=="CAN"||e.idEstadoSolicitud=="SUS")&&(i.push({id:"search",text:"Explorar Talentos",icon:"search",action:this.rowSelected}),i.push({id:"delete",text:"Cancelar Ingreso",icon:"remove",action:this.rowSelected}),i.push({id:"post",text:"Postear Solicitud a Proveedores",icon:"send-message",action:this.rowSelected})),this.validarOrigenYAprobador(e)&&i.push({id:"document",text:"Aceptar documento / Rechazar documento",icon:"approving-user",action:this.rowSelected}),i}rowSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.openDialog("Update",e.rowData),e.optionSeleted.indexOf("detail")!==-1&&this.openDialog("Detallar",e.rowData),e.optionSeleted.indexOf("candidates")!==-1&&this.openDialog("Candidatos",e.rowData),e.optionSeleted.indexOf("search")!==-1&&this.openDialog("Buscar",e.rowData),e.optionSeleted.indexOf("delete")!==-1&&this.openDialog("Delete",e.rowData),e.optionSeleted.indexOf("post")!==-1&&this.openDialog("Postear",e.rowData),e.optionSeleted.indexOf("assign")!==-1&&this.openDialog("Asignar",e.rowData),e.optionSeleted.indexOf("document")!==-1&&this.openAprobarPreseleccionDialog(e.rowData)}subirArchivo(e){console.log(e);let i=e[0];i&&this.ingresoService.importExcelEvalartFile(i).subscribe(o=>{if(o.statusCode===this.successStatusCode){if(o.body.data.documentEvalart.length>0){let a=[];a.push({id:"id",Socio:"Socio",Resumen:"Resumen",Resultado:"Resultado",Prueba:"Prueba",Proceso:"Proceso",Candidato:"Candidato",FechaCreacion:"FechaCreacion",FechaInicio:"FechaInicio",FechaRespuesta:"FechaRespuesta",Estado:"Estado",Puntaje:"Puntaje",PuntajeMax:"PuntajeMax",PuntajeFinal:"PuntajeFinal",Nivel:"Nivel",Tiempo:"Tiempo(Min)",RespuestaPregunta1:"RespuestaPregunta1",RespuestaPregunta2:"RespuestaPregunta2",FechaLimite:"FechaLimite",RiesgoFraude:"RiesgoFraude",RiesgoFraudeDetalle:"RiesgoFraudeDetalle",Modulos:"Modulos",Mensaje:"Mensaje"});let l=this.reportsPdfService.convertFormatExcel(o.body.data.documentEvalart,a);this.reportsPdfService.exportToExcel("REPORTE CONFLICTOS INSCRIPCIONES.xlsx","reports",l)}this.showMessage(o.body.data.message,"success","Cargar documento evalart")}else this.showMessage(o.body.data.message,"error","Cargar documento")})}static{this.\u0275fac=function(i){return new(i||t)(g(Qi),g(Z),g(K),g(xn),g(ue),g(at),g(Kl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-ingreso"]],inputs:{idResourceOrigin:"idResourceOrigin"},decls:45,vars:14,consts:[["picker1",""],["picker2",""],[1,"row","justify-content-start"],[1,"col-12"],["bc-card",""],[1,"bc-card-body",3,"keyup.enter"],[1,"row","justify-content-start","col-12"],[1,"col-2"],["name","id","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","number","name","entranceId","step","1","pattern","\\d+","id","inputIdIngreso",3,"formControl"],["name","universal-acces","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputLeader",3,"formControl"],["name","iproject-diagram","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputOrigenSolicitud",3,"formControl"],["name","data","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputCategoria",3,"formControl"],["id","divGeneralEntranceFilterButtons",1,"col-4"],["id","btnSearchGeneralEntranceData","type","outline","size","small","customIcon","search",3,"click"],["id","btnCleanSearchGeneralEntranceData","type","outline","size","small","customIcon","refresh",3,"click"],["bc-link","","sizeLink","default",3,"click",4,"ngIf"],["class","row justify-content-start col-12",4,"ngIf"],[1,"col-6"],["buttonLabel","Adjuntar archivo Evalart","componentId","inputFileEvalart",3,"getFilesAdded","maxSize","validType","dropArea","maxFiles"],["class","row justify-content-start",4,"ngIf"],["class","bc-col-12 bc-w-100",3,"dataTable",4,"ngIf"],["bc-link","","sizeLink","default",3,"click"],["size","xs","aria-hidden","true","aria-label","prueba",1,"bc-line"],["size","xs","aria-hidden","true","aria-label","prueba"],[1,"d-flex","justify-content-center","col-2"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngIf"],["matInput","",3,"dateChange","matDatepicker","formControl"],["name","foundation","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputNivel",3,"formControl"],["name","directions","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputEstado",3,"formControl"],["name","file-number","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","number","name","quantity","min","1","max","100","step","1","id","inputCantidad","pattern","\\d+",3,"formControl"],["name","document-search","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputAnalisis",3,"formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-5"],[3,"diameter"],[1,"bc-col-12","bc-w-100",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false","pairPaginators","true","dropdownHtml","true","scroll","true"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){i&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),_("keyup.enter",function(){return o.getIngresos()}),r(4,"div",6)(5,"div",7)(6,"bc-form-field")(7,"em"),C(8,"bc-icon",8),s(),C(9,"input",9),r(10,"span"),c(11,"ID Solicitud"),s()()(),r(12,"div",7)(13,"bc-form-field")(14,"em"),C(15,"bc-icon",10),s(),C(16,"input",11),r(17,"span"),c(18,"Lider"),s()()(),r(19,"div",7)(20,"bc-form-field")(21,"em"),C(22,"bc-icon",12),s(),C(23,"input",13),r(24,"span"),c(25,"Origen Solicitud"),s()()(),r(26,"div",7)(27,"bc-form-field")(28,"em"),C(29,"bc-icon",14),s(),C(30,"input",15),r(31,"span"),c(32,"Categoria"),s()()(),r(33,"div",16)(34,"bc-icon-button",17),_("click",function(){return o.getIngresos()}),s(),r(35,"bc-icon-button",18),_("click",function(){return o.cleanSearchGeneralEntranceData()}),s()(),h(36,$x,7,0,"a",19)(37,Qx,7,0,"a",19),s(),h(38,Xx,48,13,"div",20),r(39,"div",2),C(40,"div",21),r(41,"div",21)(42,"bc-input-file",22),_("getFilesAdded",function(l){return o.subirArchivo(l)}),s()()()()()()(),h(43,Zx,6,1,"div",23)(44,tw,29,5,"bc-table-container",24)),i&2&&(m(9),p("formControl",o.searchForm.controls.entranceIdFormControl),m(7),p("formControl",o.searchForm.controls.leaderFormControl),m(7),p("formControl",o.searchForm.controls.originEntranceFormControl),m(7),p("formControl",o.searchForm.controls.categoryFormControl),m(6),p("ngIf",!o.visibleAdvancedSearch),m(),p("ngIf",o.visibleAdvancedSearch),m(),p("ngIf",o.visibleAdvancedSearch),m(4),p("maxSize",1e3)("validType",Te(13,Ux))("dropArea",!1)("maxFiles",1),m(),p("ngIf",o.showSpinner),m(),p("ngIf",o.dataSource.length>0))},dependencies:[ja,ri,si,li,X,Ee,_e,ve,et,ai,En,ae,V,q,Li,H,Aa,ka,A0,G,er,Mo,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,wn,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:15%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}.mat-icon-button[_ngcontent-%COMP%]{width:36px!important;height:36px!important}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}#divGeneralEntranceFilterButtons[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;gap:10px}mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0}.pequenio[_ngcontent-%COMP%]{font-size:9pt;color:#00000061}.flex-container[_ngcontent-%COMP%]{display:flex;width:300px;justify-content:space-between}.alert-text[_ngcontent-%COMP%]{font-weight:700;font-size:9pt;color:red}[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#e4e4e4;border-radius:100px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:100px;border:2px solid transparent;background-clip:content-box;background-color:#fdda24}.hide[_ngcontent-%COMP%]{display:none!important}.labelUpload[_ngcontent-%COMP%]{border:1px solid #ffffff;background:#673ab7;color:#fff;display:inline-block;padding:6px 12px;cursor:pointer;height:30px;border-radius:8px;max-width:150px;max-height:30px}#uploadButton[_ngcontent-%COMP%]{height:30px;left:15%}.custom[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:6px 12px;cursor:pointer}#file[_ngcontent-%COMP%]{position:absolute!important;width:174px;height:39px;padding:0;border:0;overflow:hidden;white-space:nowrap;opacity:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent}.pequenio[_ngcontent-%COMP%]{font-size:11pt;color:#00000061}.myGridList[_ngcontent-%COMP%]{height:100%}#uploadDiagnosticResul[_ngcontent-%COMP%]{top:0;left:0;width:100%;z-index:9;opacity:0;height:100%;cursor:pointer;position:absolute}  .mat-menu-panel{overflow:hidden!important}@media(max-width:1537px){.fileTarifas[_ngcontent-%COMP%]{left:87%}#uploadButton[_ngcontent-%COMP%]{height:30px;left:13%}}@media(min-width:1538px)and (max-width:1920px){.fileTarifas[_ngcontent-%COMP%]{left:90%}}@media(min-width:426px)and (max-width:767px){.fileTarifas[_ngcontent-%COMP%]{left:83%}#uploadButton[_ngcontent-%COMP%]{height:30px;left:13%}}@media(min-width:768px)and (max-width:1023px){.fileTarifas[_ngcontent-%COMP%]{left:68%}#uploadButton[_ngcontent-%COMP%]{height:30px;left:6%}}@media(min-width:1024px)and (max-width:1280px){.fileTarifas[_ngcontent-%COMP%]{left:78%}#uploadButton[_ngcontent-%COMP%]{height:30px;left:7%}}@media(min-width:320px)and (max-width:425px){.fileTarifas[_ngcontent-%COMP%]{left:59%}#uploadButton[_ngcontent-%COMP%]{height:30px;left:0%}}"]})}}return t})();var Kd=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.celulaService=l,this.dialogService=d,this.codigoFormControl=new O("",[A.required]),this.nombreFormControl=new O("",[A.required]),this.estructuraFuncionalFormControl=new O("",[A.required]),this.asignacionRunFormControl=new O(1,[A.pattern(/^\d{1,3}(\.\d{1,3})*(\d+)?$/),A.required,A.min(0),A.max(1)]),this.asignacionChangeFormControl=new O(0,[A.pattern(/^\d{1,3}(\.\d{1,3})*(\d+)?$/),A.required,A.min(0),A.max(1)]),this.categorizacionFormControl=new O(!1,[A.required]),this.datosTemp=null}ngOnInit(){this.celulaService.getParametrosCelula(this.data.idCelula).subscribe(e=>{e==null?(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})):this.buildForms(e)})}onNoClick(){this.dialogRef.close()}validateData(){if(this.codigoFormControl.markAsTouched(),this.nombreFormControl.markAsTouched(),this.estructuraFuncionalFormControl.markAsTouched(),this.codigoFormControl.value==""||this.nombreFormControl.value==""||this.estructuraFuncionalFormControl.value==""||!this.asignacionRunFormControl.valid||!this.asignacionChangeFormControl.valid)this.showMessage("Existen campos requeridos sin diligenciar o incorrectos","warning","\xA1Atenci\xF3n!");else{let e=Number(this.asignacionRunFormControl.value)+Number(this.asignacionChangeFormControl.value);e!=1?this.showMessage("Los porcentajes de asignaci\xF3n deben sumar 1 y actualmente suman "+e+", por favor corrija la suma antes de continuar.","warning","\xA1Atenci\xF3n!"):this.onYesClick()}}onYesClick(){let e="";this.data.mode=="update"?(this.codigoFormControl.value!=this.data.codigo&&(e+="codigo="+this.codigoFormControl.value,this.data.codigo=this.codigoFormControl.value),this.nombreFormControl.value!=this.data.nombre&&(e+=(e==""?"":",")+"nombre="+this.nombreFormControl.value),this.estructuraFuncionalFormControl.value!=this.data.idEstructuraFuncional&&(e+=(e==""?"":",")+"idEstructuraFuncional="+this.estructuraFuncionalFormControl.value),this.asignacionRunFormControl.value!=this.datosTemp.asignacionRun&&(e+=(e==""?"":",")+"asignacionRun="+this.asignacionRunFormControl.value),this.asignacionChangeFormControl.value!=this.datosTemp.asignacionChange&&(e+=(e==""?"":",")+"asignacionChange="+this.asignacionChangeFormControl.value),this.categorizacionFormControl.value!=this.datosTemp.categorizacion&&(e+=(e==""?"":",")+"categorizacion="+this.categorizacionFormControl.value)):(this.data.codigo=this.codigoFormControl.value,e+="codigo="+this.codigoFormControl.value,e+=",nombre="+this.nombreFormControl.value,e+=",idEstructuraFuncional="+this.estructuraFuncionalFormControl.value,e+=",asignacionRun="+this.asignacionRunFormControl.value,e+=",asignacionChange="+this.asignacionChangeFormControl.value,e+=",categorizacion="+this.categorizacionFormControl.value),this.data.parametros=e,this.dialogRef.close({data:this.data})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"functionSurvey",type:i,text:e,title:o,timeout:1e4})}buildForms(e){this.estructuraList=e.estructuraList.map(i=>({value:i.idEstructura,label:i.dsEstructura})),this.data.mode=="update"&&(this.datosTemp=e,this.codigoFormControl.setValue(this.data.codigo),this.nombreFormControl.setValue(this.data.nombre.trim()),this.estructuraFuncionalFormControl.setValue(this.data.idEstructuraFuncional),this.asignacionRunFormControl.setValue(e.asignacionRun==""?0:e.asignacionRun),this.asignacionChangeFormControl.setValue(e.asignacionChange==""?0:e.asignacionChange),this.categorizacionFormControl.setValue(this.data.categorizacion))}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(K),g(W),g(Y),g(Qa),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-celula"]],decls:61,vars:11,consts:[["message",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-10"],["mat-dialog-title",""],[1,"container"],[1,"col-3"],["bc-input","","aria-label","Input","type","text","id","inputCodigo","maxlength","100","value","","required","",3,"formControl"],["for","inputCodigo"],["bc-input","","aria-label","Input","type","text","id","inputName","maxlength","100","value","","required","",3,"formControl"],["for","inputName"],[1,"col-6"],["tabindex","0",1,"bc-switch-container"],["type","checkbox","id","idCategorization","ngDefaultControl","",3,"formControl"],[1,"bc-switch"],[1,"bc-switch-round"],["label","Componente Funcional","ngDefaultControl","","icon","components","componentId","functionalComponent","required","",3,"formControl","formatType","filter","values"],["bc-input","","aria-label","Input","type","number","id","inputAssignmentRun","maxlength","4","value","","required","",3,"formControl"],["for","inputAssignmentRun"],["bc-input","","aria-label","Input","type","number","id","inputAssignmentChange","maxlength","4","value","","required","",3,"formControl"],["for","inputAssignmentChange"],[1,"bc-button-small","bc-button-secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4)(4,"strong"),c(5),s()()()()(),r(6,"div",5)(7,"div",2)(8,"div",6)(9,"bc-form-field")(10,"em"),c(11,"car-id"),s(),C(12,"input",7,0),r(14,"label",8),c(15,"C\xF3digo"),s()()(),r(16,"div",6)(17,"bc-form-field")(18,"em"),c(19,"constructor-team"),s(),C(20,"input",9,0),r(22,"label",10),c(23,"Nombre"),s()()(),r(24,"div",11)(25,"label"),c(26,"\xBFAplica Categorizaci\xF3n?"),s(),r(27,"bc-form-field")(28,"label",12),C(29,"input",13),r(30,"div",14),C(31,"div",15),s(),r(32,"span"),c(33),s()()()()(),r(34,"div",2)(35,"div",11)(36,"bc-form-field"),C(37,"bc-input-select",16),s()(),r(38,"div",6)(39,"bc-form-field")(40,"em"),c(41,"percentage"),s(),C(42,"input",17,0),r(44,"label",18),c(45,"Asignaci\xF3n Run"),s()()(),r(46,"div",6)(47,"bc-form-field")(48,"em"),c(49,"percentage"),s(),C(50,"input",19,0),r(52,"label",20),c(53,"Asignaci\xF3n Change"),s()()()(),r(54,"div",2)(55,"div",11)(56,"button",21),_("click",function(){return v(a),S(o.onNoClick())}),c(57,"Cancelar"),s()(),r(58,"div",11)(59,"button",22),_("click",function(){return v(a),S(o.validateData())}),c(60,"Guardar"),s()()()()}i&2&&(m(5),I(o.data.title),m(7),p("formControl",o.codigoFormControl),m(8),p("formControl",o.nombreFormControl),m(9),p("formControl",o.categorizacionFormControl),m(4),I(o.categorizacionFormControl.value?"Si":"No"),m(4),p("formControl",o.estructuraFuncionalFormControl)("formatType","simple")("filter",!0)("values",o.estructuraList),m(5),p("formControl",o.asignacionRunFormControl),m(8),p("formControl",o.asignacionChangeFormControl))},dependencies:[le,q,Li,yl,H,At,$t,G,te,ee,It],styles:['[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.bc-switch-container[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]:before{position:absolute;z-index:1;left:1px;top:1px;content:"";height:28px;width:28px;background-color:#fdda24;border-color:#fdda24;transition-property:background-color,transform,opacity;transition-duration:.4s;border-radius:32px}.bc-switch-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .bc-switch[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]{background-color:#fdda24;border-color:#fdda24;border-width:2px}.bc-switch-container[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]{position:absolute;inset:0;border-width:1px;border-radius:32px;background-color:transparent;border-style:solid;border-color:#fdda24;box-shadow:0 1px 2px #2c2a2914;width:52px;display:inline-block}']})}}return t})();var iw=()=>[5,10];function ow(t,n){t&1&&(r(0,"th",19),c(1," C\xE9dula "),s())}function nw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function aw(t,n){t&1&&(r(0,"th",19),c(1," Nombre "),s())}function rw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),Uo(" ",e.nombre," ",e.apellido1!=null?" "+e.apellido1:""," ",e.apellido2!=null?" "+e.apellido2:""," ")}}function sw(t,n){t&1&&(r(0,"th",21),c(1," Unidad Organizativa"),s())}function lw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.estructura," ")}}function cw(t,n){t&1&&(r(0,"th",22),c(1," L\xEDder Administrativo "),s())}function mw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.lider," ")}}function dw(t,n){t&1&&(r(0,"th",21),c(1," Empresa "),s())}function pw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsEmpresa," ")}}function uw(t,n){t&1&&(r(0,"th",19),c(1," Nivel "),s())}function fw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivel," ")}}function hw(t,n){t&1&&(r(0,"th",19),c(1," Cargo "),s())}function gw(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCargo," ")}}function _w(t,n){t&1&&C(0,"tr",23)}function Cw(t,n){t&1&&C(0,"tr",24)}var Zh=(()=>{class t{constructor(e,i,o,a){this.router=e,this.dialogRef=i,this.data=o,this.personaService=a,this.displayedColumns=["cedula","nombre","estructura","lider","empresa","nivel","cargo"]}ngOnInit(){this.personaService.getTablaPersonasCelula(this.data.idCelula).subscribe(e=>{e==null&&this.router.navigate(["/login"]),e!=null&&(this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator&&this.dataSource.paginator.firstPage())})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-mostrar-persona-celula"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:30,vars:6,consts:[["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","estructura"],["mat-header-cell","","mat-sort-header","","class","estructura",4,"matHeaderCellDef"],["matColumnDef","lider"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","empresa"],["matColumnDef","nivel"],["matColumnDef","cargo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"estructura"],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"h2",0),c(1),s(),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"table",4),F(6,5),h(7,ow,2,0,"th",6)(8,nw,2,1,"td",7),R(),F(9,8),h(10,aw,2,0,"th",6)(11,rw,2,3,"td",7),R(),F(12,9),h(13,sw,2,0,"th",10)(14,lw,2,1,"td",7),R(),F(15,11),h(16,cw,2,0,"th",12)(17,mw,2,1,"td",7),R(),F(18,13),h(19,dw,2,0,"th",10)(20,pw,2,1,"td",7),R(),F(21,14),h(22,uw,2,0,"th",6)(23,fw,2,1,"td",7),R(),F(24,15),h(25,hw,2,0,"th",6)(26,gw,2,1,"td",7),R(),h(27,_w,1,0,"tr",16)(28,Cw,1,0,"tr",17),s(),C(29,"mat-paginator",18),s()()()),i&2&&(m(),T("Personas de la c\xE9lula ",o.data.nombre,""),m(4),p("dataSource",o.dataSource),m(22),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,iw)))},dependencies:[le,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.estructura[_ngcontent-%COMP%]{width:15%}.accion[_ngcontent-%COMP%]{width:20%}.persona[_ngcontent-%COMP%]{width:10%}.check[_ngcontent-%COMP%]{width:3%}.correo[_ngcontent-%COMP%]{width:4%}"]})}}return t})();var wc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idCelulaAplicativo=e)}};var en=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetAplicativo="/aplicativo"}getAll(){return this.http.get(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/getall`)}getAllByIdCelula(e){let i=new be().set("idCelula",e);return this.http.get(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/getbyidCelula`,{params:i})}getById(e){let i=new be().set("idAplicativo",e);return this.http.get(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/getbyid`,{params:i})}insert(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.post(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/add`,o)}update(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.put(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/update`,o)}updateEstado(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.put(`${this.configService.settings.apiUrl+this.urlGetAplicativo}/updateEstado`,o)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ec=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetCelulaAplicativo="/celulaaplicativo"}getAllActivosByIdCelula(e){let i=new be().set("idCelula",e);return this.http.get(`${this.configService.settings.apiUrl+this.urlGetCelulaAplicativo}/getallactivosbycelula`,{params:i})}getHistoricoByIdCelula(e){let i=new be().set("idCelula",e);return this.http.get(`${this.configService.settings.apiUrl+this.urlGetCelulaAplicativo}/getallHistorialbycelula`,{params:i})}insert(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.post(`${this.configService.settings.apiUrl+this.urlGetCelulaAplicativo}/add`,o)}inactivarCelulaAplicativo(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.put(`${this.configService.settings.apiUrl+this.urlGetCelulaAplicativo}/inactivarcelulaaplicativo`,o)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bw=t=>({hide:t});function vw(t,n){if(t&1&&(r(0,"mat-option",16),c(1),s()),t&2){let e=n.$implicit;p("value",e)("ngClass",yi(4,bw,!e.show)),m(),Ht(" ",e.dsAplicativo," - ",e.aw,"")}}function Sw(t,n){t&1&&(r(0,"mat-error"),c(1," Aplicativo requerido "),s())}function yw(t,n){if(t&1&&(r(0,"button",17),c(1,"Guardar"),s()),t&2){let e=x();p("disabled",e.disabledSave)}}var eg=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.dialogRef=i,this.data=o,this.aplicativoService=a,this.celulaAplicativoService=l,this._snackBar=d,this.disabledSave=!1,this.filterControl=new O,this.buildForm()}ngOnInit(){this.getAplicativosByCedula()}onPanelClose(){this.filterControl.setValue("")}buildForm(){this.celulaAplicativo=this.fb.group({aplicativo:["",[A.required]]})}getAplicativosByCedula(){this.aplicativoService.getAllByIdCelula(this.data.idCelula).pipe(Ce(()=>{this.optionItems=this.aplicativosListSearch.map(e=>({idAplicativo:e.idAplicativo,dsAplicativo:e.dsAplicativo,dsModulo:e.dsModulo,aw:e.aw,estado:e.estado,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,show:!0})),this.filteredOptions=this.filterControl.valueChanges.pipe(ho(""),eo(e=>(this.optionItems.forEach(i=>{i.show=(i.dsAplicativo+" - "+i.aw).toLocaleLowerCase().includes(e.toLowerCase())}),this.optionItems)))})).subscribe(e=>{this.aplicativosListSearch=e})}onSubmit(){let e=new wc(this.celulaAplicativo.value),i=new nf;i.idCelula=this.data.idCelula,e.celula=i,this.disabledSave=!0,this.celulaAplicativoService.insert(e).pipe(Ce(()=>{this.disabledSave=!1})).subscribe(o=>{o.error?this.showMessage(o.error):(this.showMessage(o.response),this.dialogRef.close(o.response))},o=>{this.disabledSave=!1,this.showMessage("Error: "+o.toString()),this.dialogRef.close()})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(en),g(Ec),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-celula-aplicativo"]],decls:25,vars:9,consts:[["fontSize",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","justify-content-start"],[1,"col-12"],[3,"closed","formControl"],[1,"example-full-width"],["matInput","","type","text","name","filter-options","id","filter-options","placeholder","Buscar",3,"formControl"],[3,"value","ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["class","bc-button-small bc-button-primary","type","submit",3,"disabled",4,"ngIf"],[3,"value","ngClass"],["type","submit",1,"bc-button-small","bc-button-primary",3,"disabled"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",7),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(10,"div",8)(11,"div",9)(12,"mat-form-field")(13,"mat-label"),c(14,"Aplicativo"),s(),r(15,"mat-select",10,0),_("closed",function(){return v(a),S(o.onPanelClose())}),r(17,"mat-form-field",11),C(18,"input",12),s(),h(19,vw,2,6,"mat-option",13),Mt(20,"async"),s(),h(21,Sw,2,0,"mat-error",14),s()()(),r(22,"div",8)(23,"div",9),h(24,yw,2,1,"button",15),s()()()()}i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.celulaAplicativo),m(6),p("formControl",o.celulaAplicativo.controls.aplicativo),m(3),p("formControl",o.filterControl),m(),p("ngForOf",Pi(20,7,o.filteredOptions)),m(2),p("ngIf",o.celulaAplicativo.controls.aplicativo.hasError("required")),m(3),p("ngIf",o.celulaAplicativo.valid))},dependencies:[gt,le,X,Ee,_e,ve,et,St,Ut,ae,V,Ye,q,H,Ke,G,Je,Eo],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.hide[_ngcontent-%COMP%]{display:none!important}"]})}}return t})();var xw=()=>[6,10,100,1e3];function ww(t,n){if(t&1){let e=E();r(0,"button",24),_("click",function(){v(e);let o=x();return S(o.openDialog("Add",o.loginService.getData()))}),r(1,"mat-icon"),c(2,"add"),s()()}}function Ew(t,n){t&1&&(r(0,"th",25),c(1," Aplicativo "),s())}function Mw(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsAplicativo,"")}}function Iw(t,n){t&1&&(r(0,"th",25),c(1," M\xF3dulo "),s())}function Tw(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsModulo,"")}}function Pw(t,n){t&1&&(r(0,"th",25),c(1," AW "),s())}function Dw(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.aw," ")}}function Fw(t,n){t&1&&(r(0,"th",25),c(1," Fecha de inicio "),s())}function Rw(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaInicio," ")}}function kw(t,n){t&1&&(F(0,27),h(1,Fw,2,0,"th",14)(2,Rw,2,1,"td",15),R())}function Aw(t,n){t&1&&(r(0,"th",25),c(1," Fecha Final "),s())}function Ow(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function Vw(t,n){t&1&&(F(0,28),h(1,Aw,2,0,"th",14)(2,Ow,2,1,"td",15),R())}function Nw(t,n){t&1&&(r(0,"th",31),c(1,"Acciones"),s())}function Bw(t,n){if(t&1){let e=E();r(0,"td",26)(1,"div")(2,"button",32),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.openDialog("UpdateState",o))}),r(3,"mat-icon",33),c(4,"clear"),s()()()()}}function Lw(t,n){t&1&&(F(0,29),h(1,Nw,2,0,"th",30)(2,Bw,5,0,"td",15),R())}function jw(t,n){t&1&&C(0,"tr",34)}function zw(t,n){t&1&&C(0,"tr",35)}var Xd=(()=>{class t{constructor(e,i,o,a,l,d,u){this.celulaAplicativoService=e,this.loginService=i,this.dialog=o,this.dialogRef=a,this._snackBar=l,this.router=d,this.data=u,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsAplicativo","dsModulo","aw","fechaInicio","fechaFin","acciones"]}ngOnInit(){this.data.action=="history"?(this.getHistoricoCelulaAplicativos(null),this.displayedColumns=this.displayedColumns.filter(e=>e!="acciones")):(this.getCelulaAplicativos(null),this.displayedColumns=this.displayedColumns.filter(e=>e!="fechaInicio"&&e!="fechaFin"))}getCelulaAplicativos(e){let i=this.paginator.pageIndex;this.celulaAplicativoService.getAllActivosByIdCelula(this.data.idCelula).pipe(Ce(()=>{this.applyFilter(this.filtroFormControl.value),this.dataSource.sort=this.sort,this.paginator.pageIndex=i,this.paginator.page.next({pageIndex:i,pageSize:this.paginator.pageSize,length:this.paginator.length})})).subscribe(o=>{o&&(this.dataSource=new Se(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()))},o=>(this.showMessage("Error "+o),!1))}getHistoricoCelulaAplicativos(e){let i=this.paginator.pageIndex;this.celulaAplicativoService.getHistoricoByIdCelula(this.data.idCelula).pipe(Ce(()=>{this.applyFilter(this.filtroFormControl.value),this.dataSource.sort=this.sort,this.paginator.pageIndex=i,this.paginator.page.next({pageIndex:i,pageSize:this.paginator.pageSize,length:this.paginator.length})})).subscribe(o=>{o&&(this.dataSource=new Se(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()))},o=>(this.showMessage("Error "+o),!1))}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDialog(e,i){i.action=e,i.action=="UpdateState"?this.openEstadoDialog(i):i.action=="Add"&&this.openAddDialog(i)}openEstadoDialog(e){e.mensaje="\xBFRealmente desea inactivar el aplicativo de la c\xE9lula?",e.boton="Inactivar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.celulaAplicativoService.inactivarCelulaAplicativo(e).subscribe(a=>{a.error?this.showMessage(a.error):(this.showMessage(a.response),this.ngOnInit())},a=>{this.showMessage("Error: "+a.toString()),this.router.navigate(["/login"])})})}openAddDialog(e){e.title="Agregar aplicativo c\xE9lula",this.dialog.open(eg,{width:"400px",data:this.data}).afterClosed().subscribe(o=>{this.getCelulaAplicativos(null)})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ec),g(he),g(Z),g(W),g(K),g(Ze),g(Y))}}static{this.\u0275cmp=D({type:t,selectors:[["app-celula-aplicativo"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:35,vars:11,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-11"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-1"],["class","bc-fab-button-mini","matTooltip","Agregar c\xE9lula aplicativo",3,"click",4,"ngIf"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsAplicativo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsModulo"],["matColumnDef","aw"],["matColumnDef","fechaInicio",4,"ngIf"],["matColumnDef","fechaFin",4,"ngIf"],["matColumnDef","acciones",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["matTooltip","Agregar c\xE9lula aplicativo",1,"bc-fab-button-mini",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matColumnDef","fechaInicio"],["matColumnDef","fechaFin"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",1,"accion"],["matTooltip","Inactivar estado c\xE9lula aplicativo",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",6)(10,"div",7)(11,"mat-form-field")(12,"mat-label"),c(13,"Filtro"),s(),r(14,"input",8),_("keyup",function(l){return o.applyFilter(l.target.value)}),s()()(),r(15,"div",9),h(16,ww,3,0,"button",10),s()(),r(17,"div",6)(18,"div",11)(19,"table",12),F(20,13),h(21,Ew,2,0,"th",14)(22,Mw,2,1,"td",15),R(),F(23,16),h(24,Iw,2,0,"th",14)(25,Tw,2,1,"td",15),R(),F(26,17),h(27,Pw,2,0,"th",14)(28,Dw,2,1,"td",15),R(),h(29,kw,3,0,"ng-container",18)(30,Vw,3,0,"ng-container",19)(31,Lw,3,0,"ng-container",20)(32,jw,1,0,"tr",21)(33,zw,1,0,"tr",22),s(),C(34,"mat-paginator",23),s()()()),i&2&&(m(4),I(o.data.title),m(10),p("formControl",o.filtroFormControl),m(2),p("ngIf",o.data.action!="history"),m(3),p("dataSource",o.dataSource),m(10),p("ngIf",o.data.action=="history"),m(),p("ngIf",o.data.action=="history"),m(),p("ngIf",o.data.action!="history"),m(),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(10,xw)))},dependencies:[le,X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();function Hw(t,n){t&1&&C(0,"img",19)}function qw(t,n){t&1&&(r(0,"div",8),C(1,"br")(2,"div",20),r(3,"div",21),C(4,"mat-spinner",22),s(),C(5,"div",20),s()),t&2&&(m(4),p("diameter",50))}var ig=(()=>{class t{constructor(e,i,o,a){this.formBuilder=e,this.dialogRef=i,this.cellService=o,this.dialogService=a,this.successStatusCode=200,this.showFileErrorMessage=!1,this.fileUploadTextMessage="Seleccionar archivo de excel",this.fileName=this.fileUploadTextMessage,this.MAXIMO_TAMANIO_BYTES=1e6,this.showSpinner=!1}ngOnInit(){this.buildForm()}buildForm(){this.assigmentsCellForms=this.formBuilder.group({fileFormControl:[this.fileName,A.required]})}getAssigmentsCellFile(e){e.target.files[0]!=null&&(e.target.files[0].size<this.MAXIMO_TAMANIO_BYTES?(this.assigmentsCellForms.controls.fileFormControl.setValue(e.target.files[0].name),this.fileObject=e.target.files[0]):(this.assigmentsCellForms.controls.fileFormControl.setValue(""),this.showMessage("El documento no puede superar 1MB de informaci\xF3n","warning","Actualizar asignaciones c\xE9lula")))}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"functionSurvey",type:i,text:e,title:o,timeout:5e3})}closePopupWindow(){this.dialogRef.close()}validateFileExcel(){return this.assigmentsCellForms.controls.fileFormControl.value===this.fileUploadTextMessage}updateCellAssigments(){this.showSpinner=!0,this.cellService.sendUpdateAssigmentsCellFile(this.fileObject).pipe(Ce(()=>{this.showSpinner=!1})).subscribe(e=>{e!==void 0&&(e.statusCode===this.successStatusCode?(this.showMessage(e.body.data.message,"success","Actualizar asignaciones c\xE9lula"),this.dialogRef.close(!0)):this.showMessage(e.body.data.message,"error","Actualizar asignaciones c\xE9lula"))})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Qa),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-actualizar-asignaciones-celula"]],decls:32,vars:4,consts:[["fileInput",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["autosize",""],["src","assets/iconos/excel.png","width","30px","alt","",4,"ngIf"],["matInput","","readonly","","name","nameFile",1,"pequenio",3,"formControl"],["type","file","id","fileUpload","name","uploadFile","accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"change"],["mat-button",""],["class","row justify-content-start",4,"ngIf"],[1,"col-6"],["id","btnSave","matTooltip","Guardar",1,"bc-button-primary",3,"click","disabled"],["id","btnCancel","matTooltip","Cancelar","cdkFocusInitial","",1,"bc-button-secondary",3,"click"],["src","assets/iconos/excel.png","width","30px","alt",""],[1,"col-5"],[1,"col-2"],[3,"diameter"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4,"Actualizar asignaciones celulas"),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.closePopupWindow())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"mat-drawer-container",10)(13,"mat-toolbar"),h(14,Hw,1,0,"img",11),C(15,"input",12),r(16,"input",13,0),_("change",function(d){return v(a),S(o.getAssigmentsCellFile(d))}),s(),r(18,"button",14)(19,"mat-icon"),c(20,"file_upload"),s(),c(21," Seleccionar "),s()()()()(),C(22,"br"),h(23,qw,6,1,"div",15),C(24,"br"),r(25,"div",8)(26,"div",16)(27,"button",17),_("click",function(){return v(a),S(o.updateCellAssigments())}),c(28,"Guardar"),s()(),r(29,"div",16)(30,"button",18),_("click",function(){return v(a),S(o.closePopupWindow())}),c(31,"Cancelar"),s()()()()}i&2&&(m(14),p("ngIf",!o.validateFileExcel()),m(),p("formControl",o.assigmentsCellForms.controls.fileFormControl),m(8),p("ngIf",o.showSpinner),m(4),p("disabled",o.validateFileExcel()))},dependencies:[Ri,le,X,Ee,En,dr,Xo,oe,V,q,H,G],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{font-size:80%}#fileUpload[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;z-index:9;opacity:0;cursor:pointer;position:absolute}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fdc82a!important}"]})}}return t})();var Gw=["inputstring"];function Uw(t,n){t&1&&(F(0),c(1,"ACTIVO"),R())}function $w(t,n){t&1&&(F(0),c(1,"INACTIVO"),R())}function Qw(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",26),_("onChange",function(o){v(e);let a=x(3);return S(a.openDialog(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function Ww(t,n){if(t&1&&(r(0,"tr")(1,"td",21),c(2),s(),r(3,"td",21),c(4),s(),r(5,"td",21),c(6),s(),r(7,"td",21),c(8),s(),r(9,"td",21),c(10),s(),r(11,"td",22),h(12,Uw,2,0,"ng-container",23)(13,$w,2,0,"ng-container",23),s(),r(14,"td",21),c(15),s(),r(16,"td",24),h(17,Qw,1,2,"bc-table-dropdown",25),s()()),t&2){let e=n.$implicit;m(2),I(e.codigo),m(2),I(e.nombre),m(2),I(e.estructuraFuncional),m(2),I(e.liderFuncional),m(2),I(e.analistaFuncional),m(),p("ngSwitch",e.estado),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I"),m(2),I(e.tipologiaEquipo),m(2),p("ngIf",e.option.length>0)}}function Kw(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"C\xF3digo"),s(),r(9,"th",18),c(10,"Nombre"),s(),r(11,"th",18),c(12,"Componente Funcional"),s(),r(13,"th",18),c(14,"L\xEDder Funcional"),s(),r(15,"th",18),c(16,"Analista Capacidad"),s(),r(17,"th",18),c(18,"Estado"),s(),r(19,"th",18),c(20,"Tipolog\xEDa Equipo"),s(),C(21,"th",19),s()(),r(22,"tbody"),h(23,Ww,18,10,"tr",20),s()()(),C(24,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("dropdownHtml",!0)("pairPaginators",!0),m(19),p("ngForOf",e.dataSource)}}var og=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.loginService=i,this.celulaService=o,this.dialog=a,this.dialogService=l,this.dataSource=[],this.successStatusCode=200,this.filter=null,this.page=1,this.limit=6}ngOnInit(){this.getCelulas()}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getCelulas()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getCelulas())}openDialog(e){e.optionSeleted.indexOf("Delete")!==-1?this.openDeleteDialog(e.rowData):e.optionSeleted.indexOf("Update")!==-1?this.openUpdateDialog(e.rowData):e.optionSeleted.indexOf("People")!==-1?this.openPepopleDialog(e.rowData):e.optionSeleted.indexOf("display")!==-1?this.openDisplayeApplicationsDialog(e.rowData):e.optionSeleted.indexOf("history")!==-1?this.openHistoryApplicationsDialog(e.rowData):e.optionSeleted.indexOf("Activate")!==-1&&this.activarCelula(e.rowData)}openDisplayeApplicationsDialog(e){e.title="C\xE9lula: "+e.nombre,e.action=="admin";let i=this.dialog.open(Xd,{width:"900px",data:e})}openHistoryApplicationsDialog(e){e.title="C\xE9lula: "+e.nombre,e.action=="history";let i=this.dialog.open(Xd,{width:"900px",data:e})}openPepopleDialog(e){this.dialog.open(Zh,{width:"1000px",data:e})}openDeleteDialog(e){e.mensaje="\xBFRealmente desea inactivar la c\xE9lula "+e.nombre+"?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.celulaService.deleteCelula(o.data.idCelula).subscribe(a=>{a==null?this.router.navigate(["/login"]):(this.getCelulas(),this.showMessage(a.mensaje,"success","Eliminar c\xE9lula"))})})}openUpdateDialog(e){e.mode="update",e.title="Editar C\xE9lula:",this.dialog.open(Kd,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.celulaService.updateCelula(o.data.idCelula,o.data.parametros).subscribe(a=>{a.statusCode!=200&&a.body.data.id==null?this.showMessage(a.body.data.mensaje,"error","Editar C\xE9lula"):(this.getCelulas(),this.showMessage(a.body.data.mensaje,"success","Editar C\xE9lula"))})})}openAddDialog(e){e.mode="add",e.title="Agregar C\xE9lula:",this.dialog.open(Kd,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.celulaService.setCelula(o.data.parametros).subscribe(a=>{a.statusCode!=200&&a.body.data.id==null?this.showMessage(a.body.data.mensaje,"error","Agregar C\xE9lula"):(this.getCelulas(),this.showMessage(a.body.data.mensaje,"success","Agregar C\xE9lula"))})})}getCelulas(){this.celulaService.getCelulas(this.filter,this.page,this.limit).subscribe(e=>{e.statusCode==200?(this.dataSource=e.body.data.cells.map(i=>rt(it({},i),{option:this.getOptions(i.estado)})),this.totalRegisters=e.body.data.totalRegisters):this.showMessage("Error al obtener las c\xE9lulas","error","Obtener C\xE9lulas")})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"functionSurvey",type:i,text:e,title:o,timeout:5e3})}submitFile(){this.dialog.open(ig,{width:"600px"})}activarCelula(e){this.celulaService.activateCell(e.idCelula).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.getCelulas(),this.showMessage(i.body.data.message,"success","Activar/Inactivar c\xE9lula")):this.showMessage(i.body.data.message,"error","Activar/Inactivar c\xE9lula"):this.showMessage("Error al activar/inactivar rol","error","Activar/Inactivar rol")})}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getCelulas()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getCelulas())}getOptions(e){let i=[{id:"Update",text:"Editar",icon:"edit",action:this.openDialog},{id:"People",text:"Ver Personas",icon:"people",action:this.openDialog},{id:"display",text:"Relaci\xF3n Aplicativo C\xE9lula",icon:"widget",action:this.openDialog},{id:"history",text:"Hist\xF3rico Aplicativo C\xE9lula",icon:"news",action:this.openDialog}];return e=="I"?i.push({id:"Activate",text:"Activar C\xE9lula",icon:"check",action:this.activarCelula}):i.push({id:"Delete",text:"Inactivar C\xE9lula",icon:"error",action:this.openDialog}),i}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(he),g(Qa),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-celula"]],viewQuery:function(i,o){if(i&1&&L(Gw,7),i&2){let a;j(a=z())&&(o.uploadFileInput=a.first)}},decls:23,vars:11,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"col-8"],["id","inputParameterFilter","bc-input","","state","default","type","text","value","","required","",3,"keyup"],["for","50"],[1,"col-1"],["id","searchButton",2,"align-self","center",3,"click","type","size","color","shadow","customIcon"],[1,"col-2"],["bc-button","","id","btnUploadFile","typebutton","primary","sizebutton","small",1,"bc-button-fill","bc-button-primary","bc-button-small",3,"click"],["aria-hidden","true","aria-label","icono","role","img",1,"bc-icon","bc-sm"],["id","btnCreateCell",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","dropdownHtml","pairPaginators"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["bc-cell","","type","action"],["id","optionSelected",3,"row","options","onChange",4,"ngIf"],["id","optionSelected",3,"onChange","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4)(5,"bc-form-field")(6,"em"),c(7,"filter"),s(),r(8,"input",5,0),_("keyup",function(d){v(a);let u=re(9);return S(o.applyFilter(d,u.value))}),s(),C(10,"label",6),r(11,"span"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",7)(14,"bc-icon-button",8),_("click",function(){return v(a),S(o.searchInTable())}),s()(),r(15,"div",9)(16,"button",10),_("click",function(){return v(a),S(o.submitFile())}),c(17,"Run/Change "),r(18,"i",11),c(19,"upload"),s()()(),r(20,"div",7)(21,"bc-icon-button",12),_("click",function(d){return v(a),S(o.openAddDialog(d))}),s()()()()()(),h(22,Kw,25,8,"bc-table-container",13)}i&2&&(m(14),p("type","solid")("size","small")("color","white")("shadow",!0)("customIcon","search"),m(7),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.totalRegisters>0))},dependencies:[ae,V,ao,ro,kt,te,ee,pt,mt,ct,dt,ut,_t,Kt,lt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.buttons_cell[_ngcontent-%COMP%]{display:flex;margin-right:10px;align-items:center;justify-content:space-between;gap:10px}.accion[_ngcontent-%COMP%]{width:15%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}"]})}}return t})();function Zw(t,n){t&1&&(r(0,"span"),c(1,"Requerido - "),s())}function Jw(t,n){t&1&&(r(0,"span"),c(1,"S\xF3lo alfanum\xE9ricos - "),s())}function eE(t,n){t&1&&(r(0,"span"),c(1,"Requerido - "),s())}function tE(t,n){t&1&&(r(0,"span"),c(1,"Requerido - "),s())}function iE(t,n){t&1&&(r(0,"span"),c(1,"Requerido - "),s())}function oE(t,n){t&1&&(r(0,"span"),c(1,"Correo v\xE1lido - "),s())}function nE(t,n){t&1&&(r(0,"mat-error"),c(1," G\xE9nero obligatorio "),s())}function aE(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function rE(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function sE(t,n){if(t&1&&(r(0,"mat-form-field",42)(1,"mat-label"),c(2,"Fecha Inicio"),s(),C(3,"input",43)(4,"mat-datepicker-toggle",44)(5,"mat-datepicker",null,5),h(7,aE,2,0,"mat-error",15)(8,rE,2,0,"mat-error",15),s()),t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaInicio)("formControl",i.fechaInicioFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaInicioFormControl.hasError("required"))}}var Zd=(()=>{class t{constructor(e,i,o,a,l){this.dialogService=e,this.dialogRef=i,this.data=o,this.personaService=a,this.countryCityStateService=l,this.successfulStatusCode=200,this.listCharges=[],this.origenIngresoList=[],this.countries=[],this.states=[],this.cities=[],this.listCompanies=[],this.modalidadesTrabajo=[{value:"",label:"N/A"},{value:"F",label:"FLEXIWORK"},{value:"P",label:"PRESENCIAL"},{value:"T",label:"TELETRABAJO"}],this.country=new O(null,[A.required]),this.state=new O(null,[A.required]),this.city=new O(null,[A.required]),this.modalidadTrabajo=new O(""),this.cedulaFormControl=new O("",[A.required,A.pattern("^[a-zA-Z0-9\xD1\xF1]*$")]),this.nombreFormControl=new O("",[A.required]),this.apellido1FormControl=new O("",[A.required]),this.apellido2FormControl=new O("",[]),this.correoFormControl=new O("",[A.required,A.email]),this.empresaFormControl=new O("",[A.required]),this.cargoFormControl=new O("",[A.required]),this.origenIngresoFormControl=new O(""),this.esFacturable=!1,this.isBank="false",this.esModalidadServicios=!1,this.cuentaCapacidad=!1,this.esProcesoSkillhacking=!1,this.generoFormControl=new O("",[A.required]),this.fechaInicioFormControl=new O(new Date,[A.required]),this.maxFecha=new Date,this.maxFechaInicio=this.maxFecha,this.datosTemp=null,this.stateIdentificationCard="valid",this.validationIdentificationCard=!1,this.stateName="valid",this.validationName=!1,this.stateLastName="valid",this.validationLastName=!1,this.stateEmail="valid",this.validationEmail=!1,this.statusOrigin="enabled",this.statusCountry="enabled",this.statusState="enabled",this.statusCity="enabled"}ngOnInit(){this.prepareLocationFields(),this.getContries()}getParametersPerson(){this.personaService.getParametrosPersona(this.data.idPersona).pipe(Ce(()=>{this.formatCompany(),this.formatCharges(),this.formatOriginEntry()})).subscribe(e=>{if(this.estructuraList=e.estructuraList,this.listCompanies=e.empresaList,this.nivelRolList=e.nivelRolList,this.listCharges=e.cargoList,this.origenIngresoList=e.origenIngresoList,this.origenIngreso=e.origenIngreso,this.data.mode=="update"){if(this.datosTemp=e,e.pais&&this.country.setValue(e.pais),e.departamento&&this.state.setValue(e.departamento),e.ciudad&&this.city.setValue(e.ciudad),this.modalidadTrabajo.setValue(e.modalidadTrabajo),this.correoFormControl.setValue(e.correo),this.empresaFormControl.setValue(e.idEmpresa),this.cargoFormControl.setValue(e.idCargo),this.esFacturable=e.esFacturable==1,this.cuentaCapacidad=e.cuentaCapacidad==1,this.esModalidadServicios=e.esModalidadServicios==1,this.esProcesoSkillhacking=e.esProcesoSkillhacking==1,this.generoFormControl.setValue(e.genero),this.origenIngresoFormControl.setValue(e.origenIngreso),e.fechaInicio!=null){let i=new Date(e.fechaInicio);i=new Date(i.toUTCString()+"-5"),this.fechaInicioFormControl.setValue(i)}this.cedulaFormControl.setValue(this.data.cedula),this.nombreFormControl.setValue(e.nombre.trim()),this.apellido1FormControl.setValue(e.apellido1.trim()),this.apellido2FormControl.setValue(e.apellido2),this.onChangeCompany(e.idEmpresa),this.onCheckService(),this.onCheckInvoice()}else this.esProcesoSkillhacking=!0,this.generoFormControl.setValue("M");this.validateOrigenIngreso()})}getContries(){this.countryCityStateService.getCountries().pipe(Ce(()=>{this.getParametersPerson()})).subscribe(e=>{e.statusCode===this.successfulStatusCode?this.countries=e.body.data.countries.map(i=>({label:i.name,value:i.shortName})):this.showMessage(e.body.data.message,"error","Listar paises")})}getStatesByCountry(e){this.countryCityStateService.getStatesByCountry(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.states=i.body.data.states.map(o=>({label:o.dsState,value:o.idState})):this.showMessage(i.body.data.message,"error","Listar estados")})}getCitiesByState(e){this.countryCityStateService.getCitiesByState(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.cities=i.body.data.cities.map(o=>({label:o.dsCity,value:o.idCity})):this.showMessage(i.body.data.message,"error","Listar ciudades")})}prepareLocationFields(){this.country.valueChanges.subscribe(e=>{this.state.reset(),this.city.reset(),this.state.setValue(null),this.city.setValue(null),e&&this.getStatesByCountry(e)}),this.state.valueChanges.subscribe(e=>{this.city.reset(),this.city.setValue(null),e&&this.getCitiesByState(e)})}validateOrigenIngreso(){this.esProcesoSkillhacking?(this.origenIngresoFormControl.setValue(""),this.statusOrigin="disabled",this.esModalidadServicios=!1,this.origenIngresoFormControl.setValidators([]),this.origenIngresoFormControl.updateValueAndValidity()):(this.statusOrigin="enabled",this.origenIngresoFormControl.setValidators([A.required]),this.origenIngresoFormControl.updateValueAndValidity())}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.cargoFormControl.markAsTouched(),this.cedulaFormControl.markAsTouched(),this.nombreFormControl.markAsTouched(),this.apellido1FormControl.markAsTouched(),this.correoFormControl.markAsTouched(),this.empresaFormControl.markAsTouched(),this.generoFormControl.markAsTouched(),this.origenIngresoFormControl.markAsTouched(),this.country.markAllAsTouched(),this.state.markAllAsTouched(),this.city.markAllAsTouched(),!this.cedulaFormControl.valid||!this.nombreFormControl.valid||!this.apellido1FormControl.valid||!this.correoFormControl.valid||!this.empresaFormControl.valid||!this.generoFormControl.valid||!this.cargoFormControl.valid||!this.country.valid||!this.state.valid||!this.city.valid||!this.esProcesoSkillhacking&&!this.origenIngresoFormControl.valid)this.showMessage("Por favor diligencie los campos marcados","warning","Guardar persona"),this.validateCountry(),this.validateState(),this.validateCity();else{let e="";this.data.mode=="update"?(this.cedulaFormControl.value!=this.data.cedula&&(e+="cedula="+this.cedulaFormControl.value,this.data.cedula=this.cedulaFormControl.value),this.nombreFormControl.value!=this.data.nombre&&(e+=(e==""?"":",")+"nombre="+this.nombreFormControl.value.trim()),this.apellido1FormControl.value!=this.data.apellido1&&(e+=(e==""?"":",")+"apellido1="+this.apellido1FormControl.value.trim()),this.apellido2FormControl.value!=this.data.apellido2&&(e+=(e==""?"":",")+"apellido2="+(this.apellido2FormControl.value!=""?this.apellido2FormControl.value.trim():"")),this.correoFormControl.value!=this.datosTemp.correo&&(e+=(e==""?"":",")+"correo="+this.correoFormControl.value),this.empresaFormControl.value!=this.datosTemp.idEmpresa&&(e+=(e==""?"":",")+"idEmpresa="+this.empresaFormControl.value),this.cargoFormControl.value!=this.datosTemp.idCargo&&(e+=(e==""?"":",")+"idCargo="+this.cargoFormControl.value),(this.datosTemp.esFacturable==""||this.esFacturable!=(this.datosTemp.esFacturable==1))&&(e+=(e==""?"":",")+"esFacturable="+this.esFacturable),(this.datosTemp.esModalidadServicios==""||this.esModalidadServicios!=(this.datosTemp.esModalidadServicios==1))&&(e+=(e==""?"":",")+"esModalidadServicios="+this.esModalidadServicios),(this.datosTemp.cuentaCapacidad==""||this.cuentaCapacidad!=(this.datosTemp.cuentaCapacidad==1))&&(e+=(e==""?"":",")+"cuentaCapacidad="+this.cuentaCapacidad),(this.datosTemp.esProcesoSkillhacking==""||this.esProcesoSkillhacking!=(this.datosTemp.esProcesoSkillhacking==1))&&(e+=(e==""?"":",")+"esProcesoSkillhacking="+this.esProcesoSkillhacking),this.generoFormControl.value!=this.datosTemp.genero&&(e+=(e==""?"":",")+"genero="+this.generoFormControl.value),this.origenIngresoFormControl.value!=this.datosTemp.origenIngreso&&(e+=(e==""?"":",")+"origenIngreso="+this.origenIngresoFormControl.value),this.country.value!=this.datosTemp.pais&&(e+=(e==""?"":",")+"pais="+this.country.value),this.state.value!=this.datosTemp.departamento&&(e+=(e==""?"":",")+"departamento="+(this.state.value?this.state.value:"")),this.city.value!=this.datosTemp.ciudad&&(e+=(e==""?"":",")+"ciudad="+(this.city.value?this.city.value:"")),this.modalidadTrabajo.value!=this.datosTemp.modalidadTrabajo&&(e+=(e==""?"":",")+"modalidadTrabajo="+this.modalidadTrabajo.value),this.fechaInicioFormControl.value!=this.data.fechaInicio&&(e+=(e==""?"":",")+"fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString("co"))):(this.data.cedula=this.cedulaFormControl.value,e+="cedula="+this.cedulaFormControl.value,e+=",nombre="+this.nombreFormControl.value.trim(),e+=",apellido1="+this.apellido1FormControl.value.trim(),e+=",apellido2="+(this.apellido2FormControl.value!=""?this.apellido2FormControl.value.trim():""),e+=",correo="+this.correoFormControl.value,e+=",idEmpresa="+this.empresaFormControl.value,e+=",idCargo="+this.cargoFormControl.value,e+=",esFacturable="+this.esFacturable,e+=",esModalidadServicios="+this.esModalidadServicios,e+=",cuentaCapacidad="+this.cuentaCapacidad,e+=",esProcesoSkillhacking="+this.esProcesoSkillhacking,e+=",genero="+this.generoFormControl.value,e+=",origenIngreso="+this.origenIngresoFormControl.value,this.country.value&&(e+=",pais="+this.country.value),this.state.value&&(e+=",departamento="+this.state.value),this.city.value&&(e+=",ciudad="+this.city.value),this.modalidadTrabajo.value&&(e+=",modalidadTrabajo="+this.modalidadTrabajo.value)),this.data.parametros=e,this.dialogRef.close({data:this.data})}}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}validateCountry(){this.country.valid?this.statusCountry="valid":this.statusCountry="error"}validateState(){this.state.valid?this.statusState="valid":this.statusState="error"}validateCity(){this.city.valid?this.statusCity="valid":this.statusCity="error"}onChangeCompany(e){this.isBank=e===sa.idEmpresaBancolombia?(this.esFacturable=!1,this.esProcesoSkillhacking=!1,this.esModalidadServicios=!1,this.validateOrigenIngreso(),"true"):"false"}onCheckService(){this.esModalidadServicios&&(this.esProcesoSkillhacking=!1,this.esFacturable=!1,this.validateOrigenIngreso())}onCheckInvoice(){this.esFacturable&&(this.esModalidadServicios=!1)}validateIdentificationCard(){this.cedulaFormControl.valid?this.stateIdentificationCard="valid":this.stateIdentificationCard="error",this.validationIdentificationCard=!0}validateName(){this.nombreFormControl.valid?this.stateName="valid":this.stateName="error",this.validationName=!0}validateLastName(){this.apellido1FormControl.valid?this.stateLastName="valid":this.stateLastName="error",this.validationLastName=!0}validateEmail(){this.correoFormControl.valid?this.stateEmail="valid":this.stateEmail="error",this.validationEmail=!0}formatCompany(){this.listCompanies=this.listCompanies.map(e=>({label:e.dsEmpresa,value:e.idEmpresa}))}formatCharges(){this.listCharges=this.listCharges.map(e=>({label:e.dsCargo,value:e.idCargo}))}formatOriginEntry(){this.origenIngresoList=this.origenIngresoList.map(e=>({label:e.dsOrigenIngreso,value:e.idOrigenIngreso}))}static{this.\u0275fac=function(i){return new(i||t)(g(ue),g(W),g(Y),g(ot),g(Ll))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona"]],decls:105,vars:63,consts:[["messageCedula",""],["messageNombre",""],["messageApellido1",""],["messageApellido2",""],["messageCorreo",""],["pickerFechaInicio",""],[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-3"],["bc-input","","aria-label","custom-aria-label","placeholder","C\xE9dula","type","text","id","inputIdentificationCard","maxlength","20","ngDefaultControl","",3,"focusout","formControl","state"],[4,"ngIf"],[1,"col-2"],["bc-input","","aria-label","custom-aria-label","placeholder","Nombre","type","text","id","inputName","maxlength","100","ngDefaultControl","",3,"focusout","formControl","state"],["bc-input","","aria-label","custom-aria-label","placeholder","Apellido 1","type","text","id","inputLastName","maxlength","100","ngDefaultControl","",3,"focusout","formControl","state"],["bc-input","","aria-label","custom-aria-label","placeholder","Apellido 2","type","text","id","inputLastName2","maxlength","100","ngDefaultControl","",3,"formControl"],["bc-input","","aria-label","custom-aria-label","placeholder","Correo","type","text","id","inputEmail","maxlength","100","ngDefaultControl","",3,"focusout","formControl","state"],[1,"col-4"],["componentId","countrySelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","formControl","status"],["componentId","stateSelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","formControl","status"],["componentId","citySelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","formControl","status"],["componentId","workModalitySelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","formControl"],["componentId","companySelect","formatType","'simple'","ngDefaultControl","",3,"valueOutput","filter","values","label","formControl"],["componentId","chargesSelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","formControl"],[1,"row"],[1,"col-12"],["ngDefaultControl","","name","esFacturable",1,"example-radio-button",3,"ngModelChange","change","ngModel","disabled"],["ngDefaultControl","","name","cuentaCapacidad",1,"example-radio-button",3,"ngModelChange","ngModel"],["ngDefaultControl","","name","esModalidadServicios",1,"example-radio-button",3,"ngModelChange","change","ngModel","disabled"],["ngDefaultControl","","name","esProcesoSkillhacking",1,"example-radio-button",3,"ngModelChange","change","ngModel","disabled"],["ngDefaultControl","",1,"genero",3,"formControl"],["value","F",1,"example-radio-button"],["value","M",1,"example-radio-button"],["componentId","originSelect","formatType","'simple'","ngDefaultControl","",3,"filter","values","label","status","formControl"],["class","fecha",4,"ngIf"],[1,"col-6"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnConfirmUpdatePerson",1,"bc-button-small","bc-button-primary",3,"click"],[1,"fecha"],["matInput","","ngDefaultControl","","id","calendarPersonInitialDate",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"]],template:function(i,o){if(i&1){let a=E();r(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9),c(4),s()(),r(5,"div",10)(6,"button",11),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",12)(10,"div",13)(11,"bc-form-field")(12,"input",14,0),_("focusout",function(){return v(a),S(o.validateIdentificationCard())}),s(),r(14,"span"),h(15,Zw,2,0,"span",15)(16,Jw,2,0,"span",15),c(17),s()()(),r(18,"div",16)(19,"bc-form-field")(20,"input",17,1),_("focusout",function(){return v(a),S(o.validateName())}),s(),r(22,"span"),h(23,eE,2,0,"span",15),c(24),s()()(),r(25,"div",16)(26,"bc-form-field")(27,"input",18,2),_("focusout",function(){return v(a),S(o.validateLastName())}),s(),r(29,"span"),h(30,tE,2,0,"span",15),c(31),s()()(),r(32,"div",16)(33,"bc-form-field"),C(34,"input",19,3),r(36,"span"),c(37),s()()(),r(38,"div",13)(39,"bc-form-field")(40,"input",20,4),_("focusout",function(){return v(a),S(o.validateEmail())}),s(),r(42,"span"),h(43,iE,2,0,"span",15)(44,oE,2,0,"span",15),c(45),s()()()(),r(46,"div",12)(47,"div",21)(48,"bc-form-field"),C(49,"bc-input-select",22),s()(),r(50,"div",21)(51,"bc-form-field"),C(52,"bc-input-select",23),s()(),r(53,"div",21)(54,"bc-form-field"),C(55,"bc-input-select",24),s()()(),r(56,"div",12)(57,"div",21)(58,"bc-form-field"),C(59,"bc-input-select",25),s()(),r(60,"div",21)(61,"bc-form-field")(62,"bc-input-select",26),_("valueOutput",function(d){return v(a),S(o.onChangeCompany(d))}),s()()(),r(63,"div",21)(64,"bc-form-field"),C(65,"bc-input-select",27),s()()(),r(66,"div",12)(67,"div",21)(68,"div",28)(69,"div",29)(70,"mat-checkbox",30),rs("ngModelChange",function(d){return v(a),as(o.esFacturable,d)||(o.esFacturable=d),S(d)}),_("change",function(){return v(a),S(o.onCheckInvoice())}),c(71,"Facturable"),s()()(),r(72,"div",28)(73,"div",29)(74,"mat-checkbox",31),rs("ngModelChange",function(d){return v(a),as(o.cuentaCapacidad,d)||(o.cuentaCapacidad=d),S(d)}),c(75,"Cuenta en Capacidad"),s()()()(),r(76,"div",21)(77,"div",28)(78,"div",29)(79,"mat-checkbox",32),rs("ngModelChange",function(d){return v(a),as(o.esModalidadServicios,d)||(o.esModalidadServicios=d),S(d)}),_("change",function(){return v(a),S(o.onCheckService())}),c(80,"Modalidad Servicios"),s()()(),r(81,"div",28)(82,"div",29)(83,"mat-checkbox",33),rs("ngModelChange",function(d){return v(a),as(o.esProcesoSkillhacking,d)||(o.esProcesoSkillhacking=d),S(d)}),_("change",function(){return v(a),S(o.validateOrigenIngreso())}),c(84,"Proceso Skillhacking"),s()()()(),r(85,"div",21)(86,"mat-radio-group",34)(87,"mat-radio-button",35),c(88,"Femenino"),s(),r(89,"mat-radio-button",36),c(90,"Masculino"),s()(),h(91,nE,2,0,"mat-error",15),s()(),r(92,"div",12)(93,"div",21)(94,"bc-form-field"),C(95,"bc-input-select",37),s()(),r(96,"div",21),h(97,sE,9,6,"mat-form-field",38),s()(),r(98,"div",12)(99,"div",39)(100,"button",40),_("click",function(){return v(a),S(o.onNoClick())}),c(101,"Cancelar"),s()(),r(102,"div",39)(103,"button",41),_("click",function(){return v(a),S(o.onYesClick())}),c(104,"Guardar"),s()()()()}if(i&2){let a=re(13),l=re(21),d=re(28),u=re(35),f=re(41);m(4),I(o.data.title),m(8),p("formControl",o.cedulaFormControl)("state",o.stateIdentificationCard),m(3),p("ngIf",o.cedulaFormControl.hasError("required")&&o.validationIdentificationCard),m(),p("ngIf",o.cedulaFormControl.hasError("pattern")&&o.validationIdentificationCard),m(),T(" ",a.value.length," / 16 "),m(3),p("formControl",o.nombreFormControl)("state",o.stateName),m(3),p("ngIf",o.nombreFormControl.hasError("required")&&o.validationName),m(),T(" ",l.value.length," / 100 "),m(3),p("formControl",o.apellido1FormControl)("state",o.stateLastName),m(3),p("ngIf",o.apellido1FormControl.hasError("required")&&o.validationLastName),m(),T(" ",d.value.length," / 100 "),m(3),p("formControl",o.apellido2FormControl),m(3),T("",u.value.length," / 100"),m(3),p("formControl",o.correoFormControl)("state",o.stateEmail),m(3),p("ngIf",o.correoFormControl.hasError("required")&&o.validationEmail),m(),p("ngIf",o.correoFormControl.hasError("email")),m(),T(" ",f.value.length," / 100 "),m(4),p("filter",!0)("values",o.countries)("label","Pa\xEDs")("formControl",o.country)("status",o.statusCountry),m(3),p("filter",!0)("values",o.states)("label","Departamento")("formControl",o.state)("status",o.statusState),m(3),p("filter",!0)("values",o.cities)("label","Ciudad")("formControl",o.city)("status",o.statusCity),m(4),p("filter",!0)("values",o.modalidadesTrabajo)("label","Modalidad de trabajo")("formControl",o.modalidadTrabajo),m(3),p("filter",!0)("values",o.listCompanies)("label","Empresa")("formControl",o.empresaFormControl),m(3),p("filter",!0)("values",o.listCharges)("label","Cargo")("formControl",o.cargoFormControl),m(5),ns("ngModel",o.esFacturable),p("disabled",o.isBank),m(4),ns("ngModel",o.cuentaCapacidad),m(5),ns("ngModel",o.esModalidadServicios),p("disabled",o.isBank),m(4),ns("ngModel",o.esProcesoSkillhacking),p("disabled",o.isBank),m(3),p("formControl",o.generoFormControl),m(5),p("ngIf",o.generoFormControl.hasError("required")),m(4),p("filter",!0)("values",o.origenIngresoList)("label","Origen Ingreso")("status",o.statusOrigin)("formControl",o.origenIngresoFormControl),m(2),p("ngIf",o.origenIngreso!="OIN002"&&o.data.mode=="update")}},dependencies:[Io,ri,si,li,le,X,Ee,_e,ve,et,ai,ar,rr,V,q,H,$t,P0,G,te,ee,It],styles:["mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0}.pequenio[_ngcontent-%COMP%]{font-size:9pt;color:#00000061}.cedula[_ngcontent-%COMP%]{width:100px}.nombre[_ngcontent-%COMP%]{width:140px}.lista[_ngcontent-%COMP%]{width:360px}.lista2[_ngcontent-%COMP%]{width:330px}.asignacion[_ngcontent-%COMP%]{width:125px;margin-right:10px}.example-section[_ngcontent-%COMP%], .example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.genero[_ngcontent-%COMP%]{display:flex;flex-direction:column}.location[_ngcontent-%COMP%]{width:32%}.hide[_ngcontent-%COMP%]{display:none!important}.example-full-width[_ngcontent-%COMP%]{width:100%}"]})}}return t})();function lE(t,n){if(t&1&&(r(0,"mat-option",11),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCausal),m(),I(e.dsCausal)}}function cE(t,n){t&1&&(r(0,"mat-error"),c(1," Causal de movimiento requerido "),s())}var ag=(()=>{class t{constructor(e,i,o,a){this._snackBar=e,this.dialogRef=i,this.data=o,this.loginService=a,this.causalMovimientoFormControl=new O("",[A.required])}ngOnInit(){}onNoClick(){this.dialogRef.close()}onYesClick(){this.causalMovimientoFormControl.markAsTouched(),this.causalMovimientoFormControl.hasError("required")?this.showMessage("Por favor seleccione la causal de movimiento"):(this.data.idCausal=this.causalMovimientoFormControl.value,this.dialogRef.close({data:this.data}))}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-inactivar-persona-celula"]],decls:19,vars:5,consts:[["fontSize",""],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-6"],[1,"bc-button-small","bc-button-primary",3,"click"],["cdkFocusInitial","",1,"bc-button-small","bc-button-secondary",3,"click"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1),s(),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field")(6,"mat-label"),c(7,"Causal de Movimiento"),s(),r(8,"mat-select",5,0),h(10,lE,2,2,"mat-option",6),s(),h(11,cE,2,0,"mat-error",7),s()()(),r(12,"div",3)(13,"div",8)(14,"button",9),_("click",function(){return v(a),S(o.onYesClick())}),c(15),s()(),r(16,"div",8)(17,"button",10),_("click",function(){return v(a),S(o.onNoClick())}),c(18,"Cancelar"),s()()()()}i&2&&(m(),I(o.data.title),m(7),p("formControl",o.causalMovimientoFormControl),m(2),p("ngForOf",o.data.causalList),m(),p("ngIf",o.causalMovimientoFormControl.hasError("required")),m(4),I(o.data.boton))},dependencies:[gt,le,_e,ve,et,St,ae,V,H,G]})}}return t})();function mE(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function dE(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function pE(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function uE(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function fE(t,n){if(t&1){let e=E();r(0,"mat-form-field")(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",13),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",8)(5,"mat-datepicker",null,1),h(7,pE,2,0,"mat-error",9)(8,uE,2,0,"mat-error",9),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}function hE(t,n){if(t&1&&(r(0,"mat-option",16),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCausal),m(),T("",e.dsCausal," ")}}function gE(t,n){t&1&&(r(0,"mat-error"),c(1," Causal de movimiento requerida "),s())}function _E(t,n){if(t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Causal Movimiento"),s(),r(3,"mat-select",14,2),h(5,hE,2,2,"mat-option",15),s(),h(6,gE,2,0,"mat-error",9),s()),t&2){let e=x();m(3),p("formControl",e.causalMovimientoFormControl),m(2),p("ngForOf",e.causalMovimientoList),m(),p("ngIf",e.causalMovimientoFormControl.hasError("required"))}}var rg=(()=>{class t{constructor(e,i,o,a,l,d){this._snackBar=e,this.dialogRef=i,this.data=o,this.personaService=a,this.loginService=l,this.dateAdapter=d,this.fechaInicioFormControl=new O(new Date,[A.required]),this.fechaFinFormControl=new $i("",[A.required]),this.causalMovimientoFormControl=new O("",[A.required]),this.maxFechaFin=new Date,this.maxFechaInicio=this.maxFechaFin,this.datosTemp=null,this.fechaInicioTemp=null,this.fechaFinTemp=null}ngOnInit(){this.dateAdapter.setLocale("co");let e=this.maxFechaFin.getTimezoneOffset();this.maxFechaFin.setUTCMinutes(this.maxFechaFin.getUTCMinutes()+e+-300),this.personaService.getParametrosPersonaCelula2(this.data.idPersonaCelula).subscribe(o=>{this.datosTemp=o,this.causalMovimientoList=o.causalMovimientoList,this.causalMovimientoFormControl.setValue(o.idCausal);let a=null;o.fechaInicio!=null&&(a=new Date(o.fechaInicio),a=new Date(a.toUTCString()+"-5"),this.fechaInicioTemp=a),this.fechaInicioFormControl.setValue(a);let l=null;o.fechaFin!=null&&(l=new Date(o.fechaFin),l=new Date(l.toUTCString()+"-5"),this.fechaFinTemp=l),this.fechaFinFormControl.setValue(l),this.restringirFechaInicio()})}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.causalMovimientoFormControl.markAsTouched(),this.fechaInicioFormControl.markAsTouched(),this.fechaFinFormControl.markAsTouched(),!this.fechaInicioFormControl.valid||!this.causalMovimientoFormControl.valid&&this.datosTemp.estado=="I"||!this.fechaFinFormControl.valid&&this.datosTemp.estado=="I")this.showMessage("Existen campos requeridos sin diligenciar");else{let e="";this.fechaInicioFormControl.value!=this.fechaInicioTemp&&(e+="fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString("co")),this.fechaFinFormControl.value!=this.fechaFinTemp&&(e+=(e==""?"":",")+"fechaFin="+this.fechaFinFormControl.value.toLocaleDateString("co")),this.causalMovimientoFormControl.value!=this.datosTemp.idCausal&&(e+=(e==""?"":",")+"idCausal="+this.causalMovimientoFormControl.value),this.data.parametros=e,this.dialogRef.close({data:this.data})}}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(ot),g(he),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-celula"]],decls:26,vars:9,consts:[["pickerFechaInicio",""],["pickerFechaFin",""],["fontSize",""],["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["matInput","",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],[1,"col-12"],[1,"bc-button-small","bc-button-secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",3),c(1),s(),r(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field")(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",7)(9,"mat-datepicker-toggle",8)(10,"mat-datepicker",null,0),h(12,mE,2,0,"mat-error",9)(13,dE,2,0,"mat-error",9),s()(),r(14,"div",6),h(15,fE,9,6,"mat-form-field",9),s()(),r(16,"div",5)(17,"div",10),h(18,_E,7,3,"mat-form-field",9),s()(),r(19,"div",5)(20,"div",6)(21,"button",11),_("click",function(){return v(a),S(o.onNoClick())}),c(22,"Cancelar"),s()(),r(23,"div",6)(24,"button",12),_("click",function(){return v(a),S(o.onYesClick())}),c(25,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.codigo,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",o.data.estado=="I"),m(3),p("ngIf",o.data.estado=="I")}},dependencies:[gt,ri,si,li,le,Ee,_e,ve,et,ai,St,ae,V,q,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}.fecha[_ngcontent-%COMP%]{width:47%}"]})}}return t})();var CE=()=>[3,6];function bE(t,n){if(t&1&&(r(0,"mat-option",30),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCelula),m(),Ht("",e.codigo,"-",e.dsCelula,"")}}function vE(t,n){t&1&&(r(0,"mat-error"),c(1," C\xE9lula requerido "),s())}function SE(t,n){t&1&&(r(0,"th",31),c(1," C\xF3digo "),s())}function yE(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.codigo," ")}}function xE(t,n){t&1&&(r(0,"th",31),c(1," C\xE9lula "),s())}function wE(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCelula," ")}}function EE(t,n){t&1&&(r(0,"th",33),c(1," Fecha Inicio "),s())}function ME(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaIni," ")}}function IE(t,n){t&1&&(r(0,"th",33),c(1," Fecha Fin "),s())}function TE(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function PE(t,n){t&1&&(r(0,"th",34),c(1," Causal Movimiento "),s())}function DE(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCausal," ")}}function FE(t,n){t&1&&(r(0,"th",35),c(1,"Acciones"),s())}function RE(t,n){if(t&1){let e=E();r(0,"button",39),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.rollback(o))}),r(1,"mat-icon"),c(2,"undo"),s()()}}function kE(t,n){if(t&1){let e=E();r(0,"button",40),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.retirarDeCelula(o))}),r(1,"mat-icon",41),c(2,"delete_forever"),s()()}}function AE(t,n){if(t&1){let e=E();r(0,"td",32)(1,"div")(2,"button",36),_("click",function(){let o=v(e).$implicit,a=x();return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()(),h(5,RE,3,0,"button",37)(6,kE,3,0,"button",38),s()()}if(t&2){let e=n.$implicit;m(5),p("ngIf",e.fechaFin),m(),p("ngIf",!e.dsCausal)}}function OE(t,n){t&1&&C(0,"tr",42)}function VE(t,n){t&1&&C(0,"tr",43)}var sg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.personaService=d,this.celulaFormControl=new O("",[A.required]),this.displayedColumns=["codigo","celula","fechaIni","fechaFin","causal","acciones"],this.getTablaPersonaCelula(this.data.idPersona)}ngOnInit(){this.personaService.getParametrosPersonaCelula(this.data.idPersona).subscribe(e=>{e==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.celulaList=e.celulaList,this.causalList=e.causalList})}onYesClick(){if(this.celulaFormControl.markAsTouched(),this.celulaFormControl.hasError("required"))this.showMessage("Por favor diligencie los campos marcados");else{let e={mensaje:"\xBFRealmente desea agregar la c\xE9lula a "+this.data.nombre+"?",boton:"Aceptar"};this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updatePersonaCelula(this.data.idPersona,this.celulaFormControl.value).subscribe(a=>{a==null&&this.router.navigate(["/login"]),this.getTablaPersonaCelula(this.data.idPersona),this.showMessage(a.mensaje)})})}}retirarDeCelula(e){e.boton="Retirar de C\xE9lula",e.title="\xBFRealmente desea retirar de la c\xE9lula a "+this.data.nombre+"?",e.causalList=this.causalList,this.dialog.open(ag,{width:"500px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.inactivarPersonaCelula(e.idPersonaCelula,o.data.idCausal).subscribe(a=>{a==null&&this.router.navigate(["/login"]),this.getTablaPersonaCelula(this.data.idPersona),this.showMessage(a.mensaje)})})}getTablaPersonaCelula(e){this.personaService.getTablaPersonaCelula(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}rollback(e){e.mensaje="\xBFRealmente desea deshacer la finalizaci\xF3n de "+this.data.nombre+" en la c\xE9lula "+e.codigo+"?, esta acci\xF3n tambi\xE9n dejar\xE1 activa a la persona.",e.boton="Aceptar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.rollbackPersonaCelula(e.idPersonaCelula).subscribe(a=>{this.getTablaPersonaCelula(this.data.idPersona),this.showMessage(a.mensaje)})})}edit(e){this.dialog.open(rg,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updatePersonaCelula2(e.idPersonaCelula,o.data.parametros).subscribe(a=>{this.getTablaPersonaCelula(this.data.idPersona),this.showMessage(a.mensaje)})})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Z),g(K),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-celula"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:45,vars:9,consts:[["fontSize",""],[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-8"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-4"],[1,"bc-button-small","bc-button-primary",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","","class","estructura",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","celula"],["matColumnDef","fechaIni"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","fechaFin"],["matColumnDef","causal"],["mat-header-cell","","mat-sort-header","","class","causal",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header","",1,"estructura"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-cell","","mat-sort-header","",1,"causal"],["mat-header-cell","",1,"accion"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click"],["class","bc-button-icon","matTooltip","Reactivar el registro",3,"click",4,"ngIf"],["class","bc-button-icon","matTooltip","Retirar de C\xE9lula",3,"click",4,"ngIf"],["matTooltip","Reactivar el registro",1,"bc-button-icon",3,"click"],["matTooltip","Retirar de C\xE9lula",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",7)(10,"div",8)(11,"mat-form-field")(12,"mat-label"),c(13,"C\xE9lula"),s(),r(14,"mat-select",9,0),h(16,bE,2,3,"mat-option",10),s(),h(17,vE,2,0,"mat-error",11),s()(),r(18,"div",12)(19,"button",13),_("click",function(){return v(a),S(o.onYesClick())}),c(20,"Agregar a C\xE9lula"),s()()(),r(21,"div",7)(22,"div",14)(23,"table",15),F(24,16),h(25,SE,2,0,"th",17)(26,yE,2,1,"td",18),R(),F(27,19),h(28,xE,2,0,"th",17)(29,wE,2,1,"td",18),R(),F(30,20),h(31,EE,2,0,"th",21)(32,ME,2,1,"td",18),R(),F(33,22),h(34,IE,2,0,"th",21)(35,TE,2,1,"td",18),R(),F(36,23),h(37,PE,2,0,"th",24)(38,DE,2,1,"td",18),R(),F(39,25),h(40,FE,2,0,"th",26)(41,AE,7,2,"td",18),R(),h(42,OE,1,0,"tr",27)(43,VE,1,0,"tr",28),s(),C(44,"mat-paginator",29),s()()()}i&2&&(m(4),T("Historial de c\xE9lulas de ",o.data.nombre,""),m(10),p("formControl",o.celulaFormControl),m(2),p("ngForOf",o.celulaList),m(),p("ngIf",o.celulaFormControl.hasError("required")),m(6),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(8,CE)))},dependencies:[gt,le,X,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.example-section[_ngcontent-%COMP%]{padding-bottom:10px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.causal[_ngcontent-%COMP%]{width:30%}"]})}}return t})();function NE(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function BE(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function LE(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function jE(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function zE(t,n){if(t&1){let e=E();r(0,"mat-form-field")(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",15),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",8)(5,"mat-datepicker",null,2),h(7,LE,2,0,"mat-error",9)(8,jE,2,0,"mat-error",9),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}function HE(t,n){if(t&1&&(r(0,"mat-option",16),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCausal),m(),I(e.dsCausal)}}function qE(t,n){t&1&&(r(0,"mat-error"),c(1," Causal ingreso requerida "),s())}function GE(t,n){if(t&1&&(r(0,"mat-option",16),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCausal),m(),I(e.dsCausal)}}function UE(t,n){t&1&&(r(0,"mat-error"),c(1," Causal retiro requerida "),s())}function $E(t,n){if(t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Causal Retiro"),s(),r(3,"mat-select",10,1),h(5,GE,2,2,"mat-option",11),s(),h(6,UE,2,0,"mat-error",9),s()),t&2){let e=x();m(3),p("formControl",e.causalRetiroFormControl),m(2),p("ngForOf",e.causalRetiroList),m(),p("ngIf",e.causalRetiroFormControl.hasError("required"))}}function QE(t,n){if(t&1&&(r(0,"mat-option",16),c(1),s()),t&2){let e=n.$implicit;p("value",e.idTipoRetiro),m(),I(e.dsTipoRetiro)}}function WE(t,n){if(t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Tipo Retiro"),s(),r(3,"mat-select",10,1),h(5,QE,2,2,"mat-option",11),s()()),t&2){let e=x();m(3),p("formControl",e.tipoRetiroFormControl),m(2),p("ngForOf",e.tipoRetiroList)}}var lg=(()=>{class t{constructor(e,i,o,a,l,d){this._snackBar=e,this.dialogRef=i,this.data=o,this.personaService=a,this.loginService=l,this.dateAdapter=d,this.fechaInicioFormControl=new O(new Date,[A.required]),this.fechaFinFormControl=new $i("",[A.required]),this.causalIngresoFormControl=new O("",[A.required]),this.causalRetiroFormControl=new O("",[A.required]),this.tipoRetiroFormControl=new O("",[]),this.maxFechaFin=new Date,this.maxFechaInicio=this.maxFechaFin,this.datosTemp=null,this.fechaInicioTemp=null,this.fechaFinTemp=null}ngOnInit(){this.dateAdapter.setLocale("co");let e=this.maxFechaFin.getTimezoneOffset();this.maxFechaFin.setUTCMinutes(this.maxFechaFin.getUTCMinutes()+e+-300),this.personaService.getParametrosPersonaEstructura2(this.data.idPersonaEstructura).subscribe(o=>{this.datosTemp=o,this.causalIngresoList=o.causalIngresoList,this.causalRetiroList=o.causalRetiroList,this.tipoRetiroList=o.tipoRetiroList,this.tipoRetiroList.unshift({idTipoRetiro:"",dsTipoRetiro:"N/A"}),this.causalIngresoFormControl.setValue(o.idCausalIngreso),this.causalRetiroFormControl.setValue(o.idCausalRetiro),this.tipoRetiroFormControl.setValue(o.idTipoRetiro);let a=null;o.fechaInicio!=null&&(a=new Date(o.fechaInicio),a=new Date(a.toUTCString()+"-5"),this.fechaInicioTemp=a),this.fechaInicioFormControl.setValue(a);let l=null;o.fechaFin!=null&&(l=new Date(o.fechaFin),l=new Date(l.toUTCString()+"-5"),this.fechaFinTemp=l),this.fechaFinFormControl.setValue(l),this.restringirFechaInicio()})}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.fechaInicioFormControl.markAsTouched(),this.fechaFinFormControl.markAsTouched(),this.causalIngresoFormControl.markAsTouched(),this.causalRetiroFormControl.markAsTouched(),!this.fechaInicioFormControl.valid||!this.causalIngresoFormControl.valid||!this.causalRetiroFormControl.valid&&this.datosTemp.estado=="I"||!this.fechaFinFormControl.valid&&this.datosTemp.estado=="I")this.showMessage("Existen campos requeridos sin diligenciar");else{let e="";this.fechaInicioFormControl.value!=this.fechaInicioTemp&&(e+="fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString("co")),this.fechaFinFormControl.value!=this.fechaFinTemp&&(e+=(e==""?"":",")+"fechaFin="+this.fechaFinFormControl.value.toLocaleDateString("co")),this.causalIngresoFormControl.value!=this.datosTemp.idCausalIngreso&&(e+=(e==""?"":",")+"idCausalIngreso="+this.causalIngresoFormControl.value),this.causalRetiroFormControl.value!=this.datosTemp.idCausalRetiro&&(e+=(e==""?"":",")+"idCausalRetiro="+this.causalRetiroFormControl.value),this.tipoRetiroFormControl.value!=this.datosTemp.idTipoRetiro&&(e+=(e==""?"":",")+"idTipoRetiro="+this.tipoRetiroFormControl.value),this.data.parametros=e,this.dialogRef.close({data:this.data})}}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(ot),g(he),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-estructura"]],decls:37,vars:13,consts:[["pickerFechaInicio",""],["fontSize",""],["pickerFechaFin",""],["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["matInput","",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[1,"bc-button-small","bc-button-secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","formControl"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",3),c(1),s(),r(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field")(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",7)(9,"mat-datepicker-toggle",8)(10,"mat-datepicker",null,0),h(12,NE,2,0,"mat-error",9)(13,BE,2,0,"mat-error",9),s()(),r(14,"div",6),h(15,zE,9,6,"mat-form-field",9),s()(),r(16,"div",5)(17,"div",6)(18,"mat-form-field")(19,"mat-label"),c(20,"Causal Ingreso"),s(),r(21,"mat-select",10,1),h(23,HE,2,2,"mat-option",11),s(),h(24,qE,2,0,"mat-error",9),s()(),r(25,"div",6),h(26,$E,7,3,"mat-form-field",9),s()(),r(27,"div",5)(28,"div",12),h(29,WE,6,2,"mat-form-field",9),s()(),r(30,"div",5)(31,"div",6)(32,"button",13),_("click",function(){return v(a),S(o.onNoClick())}),c(33,"Cancelar"),s()(),r(34,"div",6)(35,"button",14),_("click",function(){return v(a),S(o.onYesClick())}),c(36,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.dsEstructura,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",o.data.estado=="I"),m(6),p("formControl",o.causalIngresoFormControl),m(2),p("ngForOf",o.causalIngresoList),m(),p("ngIf",o.causalIngresoFormControl.hasError("required")),m(2),p("ngIf",o.data.estado=="I"),m(3),p("ngIf",o.data.estado=="I")}},dependencies:[gt,ri,si,li,le,Ee,_e,ve,et,ai,St,ae,V,q,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}.fecha[_ngcontent-%COMP%]{width:47%}"]})}}return t})();var KE=()=>[3,6];function YE(t,n){if(t&1&&(r(0,"mat-option",31),c(1),s()),t&2){let e=n.$implicit;Bt("id","optionStructure",e.idEstructura,""),p("value",e.idEstructura),m(),I(e.dsEstructura)}}function XE(t,n){t&1&&(r(0,"mat-error"),c(1," Debe seleccionar una Unidad Organizativa diferente al actual "),s())}function ZE(t,n){t&1&&(r(0,"mat-error"),c(1," Unidad Organizativa requerida "),s())}function JE(t,n){if(t&1&&(r(0,"mat-option",31),c(1),s()),t&2){let e=n.$implicit;Bt("id","optionCausalEntrance",e.idCausal,""),p("value",e.idCausal),m(),I(e.dsCausal)}}function eM(t,n){t&1&&(r(0,"mat-error"),c(1," Tipo de ingreso requerido "),s())}function tM(t,n){if(t&1&&(r(0,"mat-option",31),c(1),s()),t&2){let e=n.$implicit;Bt("id","optionCausalRetreat",e.idCausal,""),p("value",e.idCausal),m(),I(e.dsCausal)}}function iM(t,n){t&1&&(r(0,"mat-error"),c(1," Causal de retiro requerido "),s())}function oM(t,n){if(t&1&&(r(0,"div",8)(1,"mat-form-field")(2,"mat-label"),c(3,"Causal de Retiro"),s(),r(4,"mat-select",32,0),h(6,tM,2,4,"mat-option",10),s(),h(7,iM,2,0,"mat-error",11),s()()),t&2){let e=x();m(4),p("formControl",e.causalRetiroFormControl),m(2),p("ngForOf",e.causalRetiroList),m(),p("ngIf",e.causalRetiroFormControl.hasError("required"))}}function nM(t,n){t&1&&(r(0,"th",33),c(1," Unidad Organizativa"),s())}function aM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsEstructura," ")}}function rM(t,n){t&1&&(r(0,"th",33),c(1," Fecha Inicio "),s())}function sM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaIni," ")}}function lM(t,n){t&1&&(r(0,"th",33),c(1," Fecha Fin "),s())}function cM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function mM(t,n){t&1&&(r(0,"th",35),c(1," Causal Ingreso "),s())}function dM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCausalIngreso," ")}}function pM(t,n){t&1&&(r(0,"th",35),c(1," Causal Retiro "),s())}function uM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCausalRetiro," ")}}function fM(t,n){t&1&&(r(0,"th",35),c(1," Tipo Retiro "),s())}function hM(t,n){if(t&1&&(r(0,"td",34),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsTipoRetiro," ")}}function gM(t,n){t&1&&(r(0,"th",36),c(1,"Acciones"),s())}function _M(t,n){if(t&1){let e=E();r(0,"button",39),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.rollback(o))}),r(1,"mat-icon"),c(2,"undo"),s()()}}function CM(t,n){if(t&1){let e=E();r(0,"td",34)(1,"div")(2,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()(),h(5,_M,3,0,"button",38),s()()}if(t&2){let e=n.$implicit;m(5),p("ngIf",e.fechaFin)}}function bM(t,n){t&1&&C(0,"tr",40)}function vM(t,n){t&1&&C(0,"tr",41)}var cg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.dialog=i,this.dialogService=o,this.dialogRef=a,this.data=l,this.personaService=d,this.personaActiva=!1,this.displayedColumns=["estructura","fechaIni","fechaFin","causalIngreso","causalRetiro","tipoRetiro","acciones"],this.estructuraFormControl=new O("",[A.required]),this.causalIngresoFormControl=new O("",[A.required]),this.causalRetiroFormControl=new O("",[A.required]),this.getTablaPersonaEstructura(this.data.idPersona)}ngOnInit(){this.personaService.getParametrosPersonaEstructura(this.data.idPersona).subscribe(e=>{e==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.estructuraList=e.estructuraList,this.causalRetiroList=e.causalRetiroList,this.causalIngresoList=e.causalIngresoList,this.estructuraFormControl.setValue(e.idEstructura),this.estructuraActual=e.idEstructura})}onYesClick(){if(this.estructuraActual==this.estructuraFormControl.value&&this.estructuraFormControl.setErrors({same:!0}),this.estructuraFormControl.markAsTouched(),this.causalIngresoFormControl.markAsTouched(),this.causalRetiroFormControl.markAsTouched(),this.estructuraFormControl.hasError("required")||this.causalIngresoFormControl.hasError("required")||this.causalRetiroFormControl.hasError("required")&&this.personaActiva||this.estructuraFormControl.hasError("same"))this.showMessage("Por favor diligencie los campos marcados","warning","Estructura");else{let e={mensaje:"\xBFRealmente desea cambiar el componente a "+this.data.nombre+"?",boton:"Aceptar"};this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&(this.personaActiva?this.positionConfirm():this.updateStructure("0"))})}}positionConfirm(){let e={mensaje:"\xBFDesea mover la posici\xF3n?",boton:"Si"};this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{let a="0";o!=null&&(a="1"),this.updateStructure(a)})}updateStructure(e){this.personaService.updatePersonaEstructura(this.data.idPersona,this.estructuraFormControl.value,this.causalIngresoFormControl.value,this.causalRetiroFormControl.value,e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),this.getTablaPersonaEstructura(this.data.idPersona),this.showMessage(i.mensaje,"info","Estructura"),this.causalRetiroFormControl.markAsUntouched(),this.estructuraActual=this.estructuraFormControl.value})}getTablaPersonaEstructura(e){this.personaService.getTablaPersonaEstructura(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.personaActiva=this.dataSource.data.find(o=>{if(o.estado=="A")return!0})!=null)})}rollback(e){e.mensaje="\xBFRealmente desea deshacer la finalizaci\xF3n de "+this.data.nombre+" en el componente "+e.dsEstructura+"?, esta acci\xF3n tambi\xE9n dejar\xE1 activa a la persona.",e.boton="Aceptar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.rollbackPersonaEstructura(e.idPersonaEstructura).subscribe(a=>{this.getTablaPersonaEstructura(this.data.idPersona),this.showMessage(a.mensaje,"info","Estructura")})})}edit(e){e.mode="update",e.title="Editar Posici\xF3n:",this.dialog.open(lg,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updatePersonaEstructura2(o.data.idPersonaEstructura,o.data.parametros).subscribe(a=>{this.getTablaPersonaEstructura(this.data.idPersona),this.showMessage(a.mensaje,"info","Estructura")})})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:6e4})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Z),g(ue),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-estructura"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:59,vars:14,consts:[["fontSize",""],[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-6"],["id","selectStructure",3,"formControl"],[3,"value","id",4,"ngFor","ngForOf"],[4,"ngIf"],["id","selectCausalEntrance",3,"formControl"],["class","col-6",4,"ngIf"],["id","btnUpdateComponent",1,"bc-button-small","bc-button-primary",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","estructura"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaIni"],["matColumnDef","fechaFin"],["matColumnDef","causalIngreso"],["mat-header-cell","","mat-sort-header","","class","causal",4,"matHeaderCellDef"],["matColumnDef","causalRetiro"],["matColumnDef","tipoRetiro"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value","id"],["id","selectCausalRetreat",3,"formControl"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"causal"],["mat-header-cell","",1,"accion"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click"],["class","bc-button-icon","matTooltip","Reactivar el registro",3,"click",4,"ngIf"],["matTooltip","Reactivar el registro",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",7)(10,"div",8)(11,"mat-form-field")(12,"mat-label"),c(13,"Unidad Organizativa"),s(),r(14,"mat-select",9,0),h(16,YE,2,4,"mat-option",10),s(),h(17,XE,2,0,"mat-error",11)(18,ZE,2,0,"mat-error",11),s()(),r(19,"div",8)(20,"mat-form-field")(21,"mat-label"),c(22,"Causal de Ingreso"),s(),r(23,"mat-select",12,0),h(25,JE,2,4,"mat-option",10),s(),h(26,eM,2,0,"mat-error",11),s()()(),r(27,"div",7),h(28,oM,8,3,"div",13),r(29,"div",8)(30,"button",14),_("click",function(){return v(a),S(o.onYesClick())}),c(31,"Actualizar Unidad Organizativa"),s()()(),r(32,"div",7)(33,"div",15)(34,"table",16),F(35,17),h(36,nM,2,0,"th",18)(37,aM,2,1,"td",19),R(),F(38,20),h(39,rM,2,0,"th",18)(40,sM,2,1,"td",19),R(),F(41,21),h(42,lM,2,0,"th",18)(43,cM,2,1,"td",19),R(),F(44,22),h(45,mM,2,0,"th",23)(46,dM,2,1,"td",19),R(),F(47,24),h(48,pM,2,0,"th",23)(49,uM,2,1,"td",19),R(),F(50,25),h(51,fM,2,0,"th",23)(52,hM,2,1,"td",19),R(),F(53,26),h(54,gM,2,0,"th",27)(55,CM,6,1,"td",19),R(),h(56,bM,1,0,"tr",28)(57,vM,1,0,"tr",29),s(),C(58,"mat-paginator",30),s()()()}i&2&&(m(4),T("Historial de unidades organizativas de ",o.data.nombre,""),m(10),p("formControl",o.estructuraFormControl),m(2),p("ngForOf",o.estructuraList),m(),p("ngIf",o.estructuraFormControl.hasError("same")),m(),p("ngIf",o.estructuraFormControl.hasError("required")),m(5),p("formControl",o.causalIngresoFormControl),m(2),p("ngForOf",o.causalIngresoList),m(),p("ngIf",o.causalIngresoFormControl.hasError("required")),m(2),p("ngIf",o.personaActiva),m(6),p("dataSource",o.dataSource),m(22),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(13,KE)))},dependencies:[gt,le,X,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}"]})}}return t})();var mg=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlUpdateNivelRolPersona="/nivelrolpersona/updateNivelRolPersona"}updateNivelRolPersona(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateNivelRolPersona,e)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yM(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function xM(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function wM(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function EM(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function MM(t,n){if(t&1){let e=E();r(0,"mat-form-field")(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",12),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",7)(5,"mat-datepicker",null,1),h(7,wM,2,0,"mat-error",8)(8,EM,2,0,"mat-error",8),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("min",i.fechaInicioFormControl.value)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}var dg=(()=>{class t{constructor(e,i,o,a,l){this._snackBar=e,this.dialogRef=i,this.data=o,this.loginService=a,this.nivelRolPersonaService=l,this.fechaInicioFormControl=new O(this.formatDate(this.data.fechaIni),[A.required]),this.fechaFinFormControl=new O(this.formatDate(this.data.fechaFin),[A.required]),this.minFechaInicio=this.formatDate(this.data.fechaIni),this.maxFechaInicio=new Date,this.maxFechaFin=this.maxFechaInicio}ngOnInit(){}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}onNoClick(){this.dialogRef.close()}onYesClick(){let e=this.fechaInicioFormControl.valid,i=this.data.fechaFin?this.fechaFinFormControl.valid:!0;if(e&&i){let o=this.data.idNivelRolPersona,a=this.fechaInicioFormControl.value,l=this.fechaFinFormControl.value,d={idNivelRolPersona:o,fechaInicio:a,fechaFin:l};this.nivelRolPersonaService.updateNivelRolPersona(d).subscribe(u=>{u.statusCode==200?(this.showMessage(u.body.data.message),this.dialogRef.close()):this.showMessage(u.body.data.message)})}else this.fechaFinFormControl.value&&this.fechaInicioFormControl.value>this.fechaFinFormControl.value?this.showMessage("La fecha de inicio no puede ser mayor a la fecha fin"):this.showMessage("Existen campos inv\xE1lidos")}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}formatDate(e){return e?new Date(e+"T05:00:00.000Z"):null}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(he),g(mg))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-nivel-rol"]],decls:23,vars:8,consts:[["pickerFechaInicio",""],["pickerFechaFin",""],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],["matInput","","id","inputInitDate",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],[1,"row","justify-content-start"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnSaveProfile",1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","min","formControl"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",2),c(1),s(),r(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-form-field")(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",6)(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,0),h(12,yM,2,0,"mat-error",8)(13,xM,2,0,"mat-error",8),s()(),r(14,"div",5),h(15,MM,9,7,"mat-form-field",8),s()(),r(16,"div",9)(17,"div",5)(18,"button",10),_("click",function(){return v(a),S(o.onNoClick())}),c(19,"Cancelar"),s()(),r(20,"div",5)(21,"button",11),_("click",function(){return v(a),S(o.onYesClick())}),c(22,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.nivel,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",!!o.data.fechaFin)}},dependencies:[ri,si,li,le,Ee,_e,ve,et,ai,V,q,H,G]})}}return t})();var IM=()=>[3,6];function TM(t,n){if(t&1&&(r(0,"mat-option",27),c(1),s()),t&2){let e=n.$implicit;p("value",e.idNivelRol),m(),I(e.dsNivelRol)}}function PM(t,n){t&1&&(r(0,"mat-error"),c(1," Debe seleccionar un perfil diferente al actual "),s())}function DM(t,n){t&1&&(r(0,"mat-error"),c(1," Perfil requerido "),s())}function FM(t,n){t&1&&(r(0,"th",28),c(1," Perfil "),s())}function RM(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivel," ")}}function kM(t,n){t&1&&(r(0,"th",28),c(1," Fecha Inicio "),s())}function AM(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaIni," ")}}function OM(t,n){t&1&&(r(0,"th",28),c(1," Fecha Fin "),s())}function VM(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function NM(t,n){t&1&&(r(0,"th",30),c(1,"Acciones"),s())}function BM(t,n){if(t&1){let e=E();r(0,"button",32),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.edit(o))}),r(1,"mat-icon"),c(2,"edit"),s()()}if(t&2){let e=x().index;Bt("id","btnEditNivelRolRow",e,"")}}function LM(t,n){if(t&1&&(r(0,"td",29)(1,"div"),h(2,BM,3,2,"button",31),s()()),t&2){let e=x();m(2),p("ngIf",e.editProfile)}}function jM(t,n){t&1&&C(0,"tr",33)}function zM(t,n){t&1&&C(0,"tr",34)}var Ic=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.dialog=i,this.dialogService=o,this.dialogRef=a,this.data=l,this.personaService=d,this.nivelRolFormControl=new O("",[A.required]),this.getTablaNivelRolPersona(this.data.idPersona)}ngOnInit(){this.data.sourceComponent==="EQP"?(this.editProfile=!1,this.displayedColumns=["nivel","fechaIni","fechaFin"],this.personaService.getUpdateNivelRolPersona(this.data.idPersona).subscribe(e=>{e==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.nivelRolList=e.nivelRolList,this.nivelRolFormControl.setValue(e.idNivelRol),this.nivelActual=e.idNivelRol})):(this.editProfile=!0,this.displayedColumns=["nivel","fechaIni","fechaFin","acciones"],this.personaService.getParametrosNivelRolPersona(this.data.idPersona).subscribe(e=>{e==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.nivelRolList=e.nivelRolList,this.nivelRolFormControl.setValue(e.idNivelRol),this.nivelActual=e.idNivelRol}))}onYesClick(){if(this.nivelActual==this.nivelRolFormControl.value&&this.nivelRolFormControl.setErrors({same:!0}),this.nivelRolFormControl.markAsTouched(),this.nivelRolFormControl.hasError("required")||this.nivelRolFormControl.hasError("same"))this.showMessage("Por favor diligencie los campos marcados","warning","Cambiar perfil");else{let e={mensaje:"\xBFRealmente desea cambiar el perfil a "+this.data.nombre+"? Se inactivar\xE1 cualquier perfil/perfil proveedor asociado.",boton:"Aceptar"};this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updateNivelRolPersona(this.data.idPersona,this.nivelRolFormControl.value).subscribe(a=>{a==null&&this.router.navigate(["/login"]),this.getTablaNivelRolPersona(this.data.idPersona),this.showMessage(a.mensaje,"success","Actualizar Perfil"),this.nivelActual=this.nivelRolFormControl.value,this.dialogRef.close("success")})})}}getTablaNivelRolPersona(e){this.personaService.getTablaNivelRolPersona(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}edit(e){e.mode="update",e.title="Editar nivel rol:",this.dialog.open(dg,{width:"450px",data:e}).afterClosed().subscribe(o=>{this.getTablaNivelRolPersona(this.data.idPersona)})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Z),g(ue),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-nivel-rol"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:40,vars:10,consts:[["fontSize",""],[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-8"],[1,"matformfield"],["panelClass","nivelSelect",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-4"],[1,"bc-button-small","bc-button-primary",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nivel"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaIni"],["matColumnDef","fechaFin"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["class","bc-button-icon","matTooltip","Editar Registro",3,"id","click",4,"ngIf"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),c(13,"Perfil"),s(),r(14,"mat-select",10,0),h(16,TM,2,2,"mat-option",11),s(),h(17,PM,2,0,"mat-error",12)(18,DM,2,0,"mat-error",12),s()(),r(19,"div",13)(20,"button",14),_("click",function(){return v(a),S(o.onYesClick())}),c(21,"Cambiar Perfil"),s()()(),r(22,"div",7)(23,"div",15)(24,"table",16),F(25,17),h(26,FM,2,0,"th",18)(27,RM,2,1,"td",19),R(),F(28,20),h(29,kM,2,0,"th",18)(30,AM,2,1,"td",19),R(),F(31,21),h(32,OM,2,0,"th",18)(33,VM,2,1,"td",19),R(),F(34,22),h(35,NM,2,0,"th",23)(36,LM,3,1,"td",19),R(),h(37,jM,1,0,"tr",24)(38,zM,1,0,"tr",25),s(),C(39,"mat-paginator",26),s()()()}i&2&&(m(4),T("Historial de perfiles de ",o.data.nombre,""),m(10),p("formControl",o.nivelRolFormControl),m(2),p("ngForOf",o.nivelRolList),m(),p("ngIf",o.nivelRolFormControl.hasError("same")),m(),p("ngIf",o.nivelRolFormControl.hasError("required")),m(6),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(9,IM)))},dependencies:[gt,le,X,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,H,G],styles:[`table{width:100%}.example-section{padding-bottom:10px}.example-margin{margin:0 10px}.nivel{width:570px}::ng-deep .mat-select-panel{width:auto;max-width:100%}.matformfield{font-size:14px;width:100%}.example-spacer{align-items:center;display:flex;justify-content:space-between}.line-breaker{white-space:pre-line}
`],encapsulation:2})}}return t})();function HM(t,n){if(t&1&&(r(0,"mat-option",20),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCausal),m(),T("",e.dsCausal," ")}}function qM(t,n){t&1&&(r(0,"mat-error"),c(1," Causal de inactivaci\xF3n requerida "),s())}function GM(t,n){if(t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Causal de Inactivaci\xF3n"),s(),r(3,"mat-select",18,1),h(5,HM,2,2,"mat-option",19),s(),h(6,qM,2,0,"mat-error",11),s()),t&2){let e=x();m(3),p("formControl",e.causalRetiroFormControl),m(2),p("ngForOf",e.causalRetiroList),m(),p("ngIf",e.causalRetiroFormControl.hasError("required"))}}function UM(t,n){if(t&1&&(r(0,"mat-option",20),c(1),s()),t&2){let e=n.$implicit;p("value",e.idTipoRetiro),m(),T(" ",e.dsTipoRetiro,"")}}function $M(t,n){t&1&&(r(0,"mat-error"),c(1," Tipo de retiro requerido "),s())}function QM(t,n){if(t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Tipo de Retiro"),s(),r(3,"mat-select",18,1),h(5,UM,2,2,"mat-option",19),s(),h(6,$M,2,0,"mat-error",11),s()),t&2){let e=x();m(3),p("formControl",e.tipoRetiroFormControl),m(2),p("ngForOf",e.tipoRetiroList),m(),p("ngIf",e.tipoRetiroFormControl.hasError("required"))}}function WM(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas de aplicaci\xF3n futuras "),s())}var pg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.personaService=l,this.dateAdapter=d,this.causalRetiroFormControl=new O("",[A.required]),this.tipoRetiroFormControl=new O("",[A.required]),this.fechaFinFormControl=new $i("",[]),this.conservarPosicionFormControl=new O(!1,[]),this.maxDate=new Date}ngOnInit(){this.dateAdapter.setLocale("co");let e=this.maxDate.getTimezoneOffset();this.maxDate.setUTCMinutes(this.maxDate.getUTCMinutes()+e+-300),this.personaService.getParametrosInactivacionPersona(this.data.idPersona).subscribe(o=>{o==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.causalRetiroList=o.causalRetiroList,this.tipoRetiroList=o.tipoRetiroList})}onNoClick(){this.dialogRef.close()}onYesClick(){this.causalRetiroFormControl.markAsTouched(),this.fechaFinFormControl.markAsTouched(),this.tipoRetiroFormControl.markAsTouched(),!this.causalRetiroFormControl.valid||!this.fechaFinFormControl.valid||!this.tipoRetiroFormControl.valid?this.showMessage("Existen campos requeridos sin diligenciar"):(this.data.idCausal=this.causalRetiroFormControl.value,this.data.idTipoRetiro=this.tipoRetiroFormControl.value,this.data.fechaFin=this.fechaFinFormControl.value==""?"":this.fechaFinFormControl.value.toLocaleDateString("co"),this.data.conservarPosicion=this.conservarPosicionFormControl.value?"S":"N",this.dialogRef.close({data:this.data}))}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(K),g(W),g(Y),g(ot),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-activacion"]],decls:34,vars:12,consts:[["picker",""],["fontSize",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],[4,"ngIf"],["appearance","fill"],["matInput","","ngDefaultControl","",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],["ngDefaultControl","",3,"formControl","checked"],[1,"col-4"],[1,"bc-button-small","bc-button-primary",3,"click"],["ngDefaultControl","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),c(4),s()(),r(5,"div",6)(6,"button",7),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",8)(10,"div",9)(11,"div",10),h(12,GM,7,3,"mat-form-field",11),s(),r(13,"div",10),h(14,QM,7,3,"mat-form-field",11),s()(),r(15,"div",9)(16,"div",10)(17,"mat-form-field",12)(18,"mat-label"),c(19,"Fecha de Aplicaci\xF3n"),s(),C(20,"input",13)(21,"mat-datepicker-toggle",14)(22,"mat-datepicker",null,0),h(24,WM,2,0,"mat-error",11),s()(),r(25,"div",10)(26,"mat-label"),c(27,"\xBFDesea conservar posici\xF3n? "),s(),r(28,"mat-slide-toggle",15),c(29),s()()(),r(30,"div",9)(31,"div",16)(32,"button",17),_("click",function(){return v(a),S(o.onYesClick())}),c(33),s()()()()}if(i&2){let a=re(23);m(4),I(o.data.title),m(8),p("ngIf",o.data.estado=="Activado"),m(2),p("ngIf",o.data.estado=="Activado"),m(6),p("matDatepicker",a)("max",o.maxDate)("formControl",o.fechaFinFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaFinFormControl.hasError("matDatepickerMax")),m(4),p("formControl",o.conservarPosicionFormControl)("checked",o.conservarPosicionFormControl.value),m(),T(" ",o.conservarPosicionFormControl.value?"SI":"NO"," "),m(4),I(o.data.boton)}},dependencies:[gt,ri,si,li,le,X,Ee,_e,ve,et,ai,St,Ko,ae,V,q,H,G],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();function YM(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function XM(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function ZM(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function JM(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function eI(t,n){if(t&1){let e=E();r(0,"mat-form-field",7)(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",15),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",9)(5,"mat-datepicker",null,1),h(7,ZM,2,0,"mat-error",10)(8,JM,2,0,"mat-error",10),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("min",i.fechaInicioFormControl.value)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}function tI(t,n){if(t&1&&(r(0,"mat-option",19),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCategoria),m(),I(e.dsCategoria)}}function iI(t,n){if(t&1&&(r(0,"mat-option",19),c(1),s()),t&2){let e=n.$implicit;p("value",e.idNivelCategoria),m(),I(e.dsNivelCategoria)}}function oI(t,n){if(t&1&&(r(0,"div",5)(1,"div",6)(2,"mat-form-field",16)(3,"mat-label"),c(4,"Categor\xEDa"),s(),r(5,"mat-select",17,2),h(7,tI,2,2,"mat-option",18),s()()(),r(8,"div",6)(9,"mat-form-field",16)(10,"mat-label"),c(11,"Nivel Categor\xEDa"),s(),r(12,"mat-select",17,2),h(14,iI,2,2,"mat-option",18),s()()()()),t&2){let e=x();m(5),p("formControl",e.categoriaFormControl),m(2),p("ngForOf",e.categoriaList),m(5),p("formControl",e.nivelCategoriaFormControl),m(2),p("ngForOf",e.nivelCategoriaList)}}var ug=(()=>{class t{constructor(e,i,o,a,l){this.dialog=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.perfilProveedorService=l,this.fechaInicioFormControl=new O(this.formatDate(this.data.fechaIni),[A.required]),this.fechaFinFormControl=new O(this.formatDate(this.data.fechaFin),[A.required]),this.minFechaInicio=this.formatDate(this.data.fechaIni),this.maxFechaInicio=new Date,this.maxFechaFin=this.maxFechaInicio,this.categoriaFormControl=new O("",[]),this.nivelCategoriaFormControl=new O("",[]),this.datosTemp=null}ngOnInit(){this.perfilProveedorService.getParametrosPerfilProveedorPersona(this.data.idPerfilProveedorPersona).subscribe(e=>{this.datosTemp=e,this.categoriaList=e.categoriaList,this.categoriaList.unshift({idCategoria:"",dsCategoria:"N/A"}),this.nivelCategoriaList=e.nivelCategoriaList,this.nivelCategoriaList.unshift({idNivelCategoria:"",dsNivelCategoria:"N/A"}),this.categoriaFormControl.setValue(e.idCategoria),this.nivelCategoriaFormControl.setValue(e.idNivelCategoria)})}onNoClick(){this.dialogRef.close()}onYesClick(){let e="";this.categoriaFormControl.value&&(e+="idCategoria="+this.categoriaFormControl.value),this.nivelCategoriaFormControl.value&&(e+=(e==""?"":",")+"idNivelCategoria="+this.nivelCategoriaFormControl.value),this.fechaInicioFormControl.value&&(e+=(e==""?"":",")+"fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString()),this.fechaFinFormControl.value&&(e+=(e==""?"":",")+"fechaFin="+this.fechaFinFormControl.value.toLocaleDateString()),this.perfilProveedorService.updatePerfilProveedorPersona2(this.data.idPerfilProveedorPersona,e).subscribe(i=>{this.showMessage(i.mensaje),i.statusCode==200&&this.dialogRef.close()})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}formatDate(e){return e?new Date(e+"T05:00:00.000Z"):null}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(K),g(W),g(Y),g(Wl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-perfil-proveedor-persona"]],decls:24,vars:9,consts:[["pickerFechaInicio",""],["pickerFechaFin",""],["fontSize",""],["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],[1,"fecha"],["matInput","",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],["class","fecha",4,"ngIf"],["class","row justify-content-start",4,"ngIf"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnSaveProfileProvider",1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","min","formControl"],[1,"example-margin"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",3),c(1),s(),r(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-form-field",7)(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",8)(9,"mat-datepicker-toggle",9)(10,"mat-datepicker",null,0),h(12,YM,2,0,"mat-error",10)(13,XM,2,0,"mat-error",10),s()(),r(14,"div",6),h(15,eI,9,7,"mat-form-field",11),s()(),h(16,oI,15,4,"div",12),r(17,"div",5)(18,"div",6)(19,"button",13),_("click",function(){return v(a),S(o.onNoClick())}),c(20,"Cancelar"),s()(),r(21,"div",6)(22,"button",14),_("click",function(){return v(a),S(o.onYesClick())}),c(23,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.codigo,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",!!o.data.fechaFin),m(),p("ngIf",!o.data.esEstandar)}},dependencies:[gt,ri,si,li,le,Ee,_e,ve,et,ai,St,ae,V,q,H,G],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.fecha[_ngcontent-%COMP%]{width:100%}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();var nI=()=>[3,6];function aI(t,n){if(t&1&&(r(0,"mat-option",26),c(1),s()),t&2){let e=n.$implicit;p("value",e.idPerfilProveedor),m(),I(e.dsPerfilProveedor)}}function rI(t,n){t&1&&(r(0,"mat-error"),c(1," Debe seleccionar un perfil diferente al actual "),s())}function sI(t,n){t&1&&(r(0,"mat-error"),c(1," Perfil requerido "),s())}function lI(t,n){t&1&&(r(0,"th",27),c(1," Perfil "),s())}function cI(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsPerfilProveedor," ")}}function mI(t,n){t&1&&(r(0,"th",27),c(1," Fecha Inicio "),s())}function dI(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaIni," ")}}function pI(t,n){t&1&&(r(0,"th",27),c(1," Fecha Fin "),s())}function uI(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function fI(t,n){t&1&&(r(0,"th",29),c(1," Subcategor\xEDa "),s())}function hI(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.categoria," ")}}function gI(t,n){t&1&&(r(0,"th",30),c(1," Nivel Subcategor\xEDa "),s())}function _I(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivelCategoria," ")}}function CI(t,n){t&1&&(r(0,"th",31),c(1,"Acciones"),s())}function bI(t,n){if(t&1){let e=E();r(0,"td",28)(1,"div")(2,"button",32),_("click",function(){let o=v(e).$implicit,a=x();return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()()()()}if(t&2){let e=n.index;m(2),Bt("id","btnEditPerfilProveedorRow",e,"")}}function vI(t,n){t&1&&C(0,"tr",33)}function SI(t,n){t&1&&C(0,"tr",34)}var fg=(()=>{class t{constructor(e,i,o,a,l){this.dialog=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.perfilProveedorService=l,this.displayedColumns=["dsPerfilProveedor","fechaIni","fechaFin","categoria","nivelCategoria","acciones"],this.perfilProveedoFormControl=new O("",[A.required]),this.getTablaPerfilProveedorPersona(this.data.idPersona)}ngOnInit(){this.perfilProveedorService.getParametrosPerfilProveedor(this.data.idPersona).subscribe(e=>{this.perfilProveedorList=e.perfilProveedorList,this.perfilProveedoFormControl.setValue(e.idPerfilProveedor),this.perfilProveedorActual=e.idPerfilProveedor})}onYesClick(){if(this.perfilProveedorActual==this.perfilProveedoFormControl.value&&this.perfilProveedoFormControl.setErrors({same:!0}),this.perfilProveedoFormControl.markAsTouched(),!this.perfilProveedoFormControl.valid)this.showMessage("Por favor diligencie los campos marcados");else{let e={mensaje:"\xBFRealmente desea cambiar el perfil a "+this.data.nombre+"? Se inactivar\xE1 cualquier perfil/perfil proveedor asociado.",boton:"Aceptar"};this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.perfilProveedorService.updatePerfilProveedorPersona(this.data.idPersona,this.perfilProveedoFormControl.value).subscribe(a=>{this.getTablaPerfilProveedorPersona(this.data.idPersona),this.showMessage(a.mensaje),this.perfilProveedorActual=this.perfilProveedoFormControl.value})})}}getTablaPerfilProveedorPersona(e){this.perfilProveedorService.getTablaPerfilProveedorPersona(e).subscribe(i=>{i!=null&&(this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}edit(e){this.dialog.open(ug,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getTablaPerfilProveedorPersona(this.data.idPersona)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(K),g(W),g(Y),g(Wl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-perfil-proveedor"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:40,vars:10,consts:[["fontSize",""],["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-8"],["panelClass","nivelSelect",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-4"],[1,"bc-button-small","bc-button-primary",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsPerfilProveedor"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaIni"],["matColumnDef","fechaFin"],["matColumnDef","categoria"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","nivelCategoria"],["mat-header-cell","","mat-sort-header","","class","causal",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-cell","","mat-sort-header","",1,"causal"],["mat-header-cell","",1,"accion"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1),s(),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field")(6,"mat-label"),c(7,"Perfil"),s(),r(8,"mat-select",5,0),h(10,aI,2,2,"mat-option",6),s(),h(11,rI,2,0,"mat-error",7)(12,sI,2,0,"mat-error",7),s()(),r(13,"div",8)(14,"button",9),_("click",function(){return v(a),S(o.onYesClick())}),c(15,"Cambiar Perfil"),s()()(),r(16,"div",3)(17,"div",10)(18,"table",11),F(19,12),h(20,lI,2,0,"th",13)(21,cI,2,1,"td",14),R(),F(22,15),h(23,mI,2,0,"th",13)(24,dI,2,1,"td",14),R(),F(25,16),h(26,pI,2,0,"th",13)(27,uI,2,1,"td",14),R(),F(28,17),h(29,fI,2,0,"th",18)(30,hI,2,1,"td",14),R(),F(31,19),h(32,gI,2,0,"th",20)(33,_I,2,1,"td",14),R(),F(34,21),h(35,CI,2,0,"th",22)(36,bI,5,2,"td",14),R(),h(37,vI,1,0,"tr",23)(38,SI,1,0,"tr",24),s(),C(39,"mat-paginator",25),s()()()}i&2&&(m(),T("Historial de perfiles proveedor de ",o.data.nombre,""),m(7),p("formControl",o.perfilProveedoFormControl),m(2),p("ngForOf",o.perfilProveedorList),m(),p("ngIf",o.perfilProveedoFormControl.hasError("same")),m(),p("ngIf",o.perfilProveedoFormControl.hasError("required")),m(6),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(9,nI)))},dependencies:[gt,le,X,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}.example-section[_ngcontent-%COMP%]{padding-bottom:10px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.nivel[_ngcontent-%COMP%]{width:570px}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();var Tc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idSecRolPersona=e)}};var pn=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idSecRol=e)}};var hg=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetSecRolPersonByPersonId="/secrolpersona/getsecrolpersonbypersonid",this.urlInsertSecRolPerson="/secrolpersona/insertsecrolperson",this.urlDeleteSecRolePerson="/secrolpersona/deletesecroleperson"}getSecRolPersonByPersonId(e){let i=new be().set("personId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetSecRolPersonByPersonId,{params:i})}insertSecRol(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertSecRolPerson,e)}deleteSecRolOperation(e){let i=new be().set("secRolePersonId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteSecRolePerson,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cr=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetAllSecRol="/secrol/getallsecrol",this.urlGetSecRolById="/secrol/getsecrolbyid",this.urlInsertSecRol="/secrol/insertsecrol",this.urlUpdateSecRol="/secrol/updatesecrol",this.urlDeleteSecRol="/secrol/deletesecrol",this.urlGetAllSecRolExcludingByPersonId="/secrol/getallsecrolexcludingbypersonid"}getAllSecRol(){return this.http.get(this.configService.settings.apiUrl+this.urlGetAllSecRol)}getSecRolById(e){let i=new be().set("secRoleId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetSecRolById,{params:i})}getAllSecRolExcludingByPersonId(e){let i=new be().set("personId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetAllSecRolExcludingByPersonId,{params:i})}insertSecRol(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertSecRol,e)}updateSecRol(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateSecRol,e)}deleteSecRol(e){let i=new be().set("secRoleId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteSecRol,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xI=()=>[6,10,100,1e3];function wI(t,n){if(t&1&&(r(0,"mat-option",26),c(1),s()),t&2){let e=n.$implicit;p("value",e.idSecRol),m(),T(" ",e.dsSecRol,"")}}function EI(t,n){t&1&&(r(0,"mat-error"),c(1," Rol requerido "),s())}function MI(t,n){if(t&1){let e=E();r(0,"div",10)(1,"button",27),_("click",function(){v(e);let o=x();return S(o.onYesClick())}),c(2,"Agregar rol"),s()()}}function II(t,n){t&1&&(r(0,"th",28),c(1," Rol "),s())}function TI(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsSecRol,"")}}function PI(t,n){t&1&&(r(0,"th",30),c(1,"Acciones"),s())}function DI(t,n){if(t&1){let e=E();r(0,"td",29)(1,"div")(2,"button",31),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialogDelete(o))}),r(3,"mat-icon",32),c(4,"delete_forever"),s()()()()}}function FI(t,n){t&1&&C(0,"tr",33)}function RI(t,n){t&1&&C(0,"tr",34)}var gg=(()=>{class t{constructor(e,i,o,a,l,d){this.dialog=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.secRolPersonaService=l,this.secRolService=d,this.filtroFormControl=new O("",[]),this.rolFormControl=new O("",[A.required]),this.roleList=[],this.displayedColumns=["dsSecRol","acciones"],this.successfulStatusCode=200}ngOnInit(){this.getSecRolPersonByPersonId(null)}getSecRolPersonByPersonId(e){let i=[];this.secRolPersonaService.getSecRolPersonByPersonId(this.data.idPersona).pipe(Ce(()=>{this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.getAllSecRolExcludingByPersonId(),e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.secRolePerson:this.showMessage(o.body.data.message)})}getAllSecRolExcludingByPersonId(){this.rolFormControl.setValue(""),this.secRolService.getAllSecRolExcludingByPersonId(this.data.idPersona).subscribe(e=>{e.statusCode===this.successfulStatusCode?this.roleList=e.body.data.secRoles:(this.showMessage(e.body.data.message),this.roleList=[])})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onYesClick(){let e=new pn(null,this.rolFormControl.value),i=new ra(null,this.data.idPersona),o=new Tc({persona:i,secRol:e});this.secRolPersonaService.insertSecRol(o).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message),this.getSecRolPersonByPersonId(null)):this.showMessage(a.body.data.message)})}openDialogDelete(e){e.mensaje="\xBFRealmente desea eliminar el rol de la persona?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.secRolPersonaService.deleteSecRolOperation(e.idSecRolPersona).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message),this.getSecRolPersonByPersonId(null)):this.showMessage(a.body.data.message)})})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(K),g(W),g(Y),g(hg),g(Cr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-rol-persona"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:36,vars:11,consts:[["fontSize",""],[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-6"],["matInput","","placeholder","Escriba el texto a buscar","ngDefaultControl","",3,"keyup","formControl"],[1,"col-3"],[1,"example-margin"],["ngDefaultControl","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-3",4,"ngIf"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsSecRol"],["mat-header-cell","","id","dsSecRol","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-cell","","id","acciones","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],[1,"bc-button-small","bc-button-primary",3,"click"],["mat-header-cell","","id","dsSecRol","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","id","acciones","mat-sort-header","",1,"accion"],["matTooltip","Eliminar rol persona",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",7)(10,"div",8)(11,"mat-form-field")(12,"mat-label"),c(13,"Filtro"),s(),r(14,"input",9),_("keyup",function(d){return v(a),S(o.applyFilter(d.target.value))}),s()()(),r(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),c(18,"Rol"),s(),r(19,"mat-select",12,0),h(21,wI,2,2,"mat-option",13),s(),h(22,EI,2,0,"mat-error",14),s()(),h(23,MI,3,0,"div",15),s(),r(24,"div",7)(25,"div",16)(26,"table",17),F(27,18),h(28,II,2,0,"th",19)(29,TI,2,1,"td",20),R(),F(30,21),h(31,PI,2,0,"th",22)(32,DI,5,0,"td",20),R(),h(33,FI,1,0,"tr",23)(34,RI,1,0,"tr",24),s(),C(35,"mat-paginator",25),s()()()}i&2&&(m(4),I(o.data.title),m(10),p("formControl",o.filtroFormControl),m(5),p("formControl",o.rolFormControl),m(2),p("ngForOf",o.roleList),m(),p("ngIf",o.rolFormControl.hasError("required")),m(),p("ngIf",o.rolFormControl.valid),m(3),p("dataSource",o.dataSource),m(7),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(10,xI)))},dependencies:[gt,le,X,Ee,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:17%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return t})();var ga=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idPersonaGestionGasto=e)}};var Pc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlInsertExpensePerson="/personagestiongasto/insert-expense-person",this.urlListExpensePerson="/personagestiongasto/get-expenses-person",this.urlUpdateExpensePerson="/personagestiongasto/update-expense-person",this.urlGetExpensePersonById="/personagestiongasto/get-expense-person",this.urlUpdateStatusExpensePerson="/personagestiongasto/inactivate-expense-person"}listExpensePerson(e){let i=new be().set("personId",e);return this.http.get(this.configService.settings.apiUrl+this.urlListExpensePerson,{params:i})}getExpensePersonById(e){let i=new be().set("expensePersonId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetExpensePersonById,{params:i})}insertExpensePerson(e){return this.http.post(`${this.configService.settings.apiUrl+this.urlInsertExpensePerson}`,e)}updateExpensePerson(e){return this.http.put(`${this.configService.settings.apiUrl+this.urlUpdateExpensePerson}`,e)}updateStatusExpensePerson(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateStatusExpensePerson,e)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kI=(t,n)=>({"col-6":t,"col-12":n});function AI(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicial es requerida "),s())}function OI(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha final es requerida "),s())}function VI(t,n){if(t&1&&(r(0,"div",16)(1,"mat-form-field",11)(2,"mat-label"),c(3,"Fecha final"),s(),C(4,"input",19)(5,"mat-datepicker-toggle",20)(6,"mat-datepicker",null,1),h(8,OI,2,0,"mat-error",14),s()()),t&2){let e=re(7),i=x();m(4),p("matDatepicker",e)("min",i.setMinDate())("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("required"))}}var NI={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Cg=(()=>{class t{constructor(e,i,o,a){this.dialog=e,this.dialogRef=i,this.data=o,this.personaGestionGastoService=a,this.fechaInicioFormControl=new O(new Date,[A.required]),this.fechaFinFormControl=new $i("",[A.required]),this.successfulStatusCode=200,this.visibleEndDate=!1,this.estadoUtil={ACTIVO:"A",INACTIVO:"I"}}ngOnInit(){this.fechaInicio=this.data.fechaInicioIngreso,this.loadExpensePerson()}loadExpensePerson(){this.personaGestionGastoService.getExpensePersonById(this.data.idPersonaGestionGasto).subscribe(e=>{if(e)if(e.statusCode==this.successfulStatusCode){let i=e.body.data.fechaInicio,o=e.body.data.fechaFin;this.fechaInicioFormControl.setValue(new Date(i.split("-")[1]+"-"+i.split("-")[2]+"-"+i.split("-")[0])),o&&this.fechaFinFormControl.setValue(new Date(o.split("-")[1]+"-"+o.split("-")[2]+"-"+o.split("-")[0])),this.visibleEndDate=e.body.data.estado===this.estadoUtil.INACTIVO}else this.data.message=e.body.data.message,this.dialogRef.close(this.data);else this.dialogRef.close()})}setMinDate(){return this.minDate=new Date(this.fechaInicioFormControl.value)}setMaxDate(){return new Date(this.fechaFinFormControl.value)}validateFromControl(){return[this.fechaInicioFormControl.valid,this.visibleEndDate?this.fechaFinFormControl.valid:!0].includes(!1)}onYesClick(){let e=new ga({idGestionGasto:this.data.idGestionGasto,idPersona:this.data.idPersona,fechaInicio:this.fechaInicioFormControl.value.toISOString(),fechaFin:this.fechaFinFormControl.value},this.data.idPersonaGestionGasto);this.personaGestionGastoService.updateExpensePerson(e).subscribe(i=>{i?(this.data.message=i.body.data.message,this.dialogRef.close(this.data)):this.dialogRef.close()})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(W),g(Y),g(Pc))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-gasto"]],features:[na([{provide:Ii,useClass:Ga},{provide:mn,useValue:Ua},{provide:Ii,useClass:Ka,deps:[Ba,Wa]},{provide:mn,useValue:NI}])],decls:28,vars:13,consts:[["picker1",""],["picker2",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[3,"ngClass"],[1,"example-margin"],["matInput","","id","inputDate",3,"matDatepicker","min","max","formControl"],["matSuffix","","id","initialCalendarIcon",3,"for"],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnSaveEditedExpense",1,"bc-button-small","bc-button-primary",3,"click","disabled"],["matInput","",3,"matDatepicker","min","formControl"],["matSuffix","","id","finalCalendarIcon",3,"for"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),c(4),s()(),r(5,"div",6)(6,"button",7),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",8)(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),c(14,"Fecha inicial"),s(),C(15,"input",12)(16,"mat-datepicker-toggle",13)(17,"mat-datepicker",null,0),h(19,AI,2,0,"mat-error",14),s()(),h(20,VI,9,5,"div",15),s(),r(21,"div",9)(22,"div",16)(23,"button",17),_("click",function(){return v(a),S(o.onNoClick())}),c(24,"Cancelar"),s()(),r(25,"div",16)(26,"button",18),_("click",function(){return v(a),S(o.onYesClick())}),c(27,"Guardar"),s()()()()}if(i&2){let a=re(18);m(4),I(o.data.title),m(7),p("ngClass",no(10,kI,o.visibleEndDate,!o.visibleEndDate)),m(4),p("matDatepicker",a)("min",o.fechaInicio)("max",o.setMaxDate())("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(),p("ngIf",o.visibleEndDate),m(6),p("disabled",o.validateFromControl())}},dependencies:[ri,si,li,le,X,Ee,_e,ve,et,ai,Ut,V,q,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}"]})}}return t})();var BI=()=>[3,6];function LI(t,n){if(t&1&&(r(0,"mat-option",25),c(1),s()),t&2){let e=n.$implicit;vt("id",e.dsGestionGasto),p("value",e.idGestionGasto),m(),I(e.dsGestionGasto)}}function jI(t,n){t&1&&(r(0,"mat-error"),c(1," Gasto requerido "),s())}function zI(t,n){t&1&&(r(0,"th",26),c(1," Gasto "),s())}function HI(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsGestionGasto," ")}}function qI(t,n){t&1&&(r(0,"th",26),c(1," Fecha Inicio "),s())}function GI(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaInicio," ")}}function UI(t,n){t&1&&(r(0,"th",26),c(1," Fecha Fin "),s())}function $I(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function QI(t,n){t&1&&(r(0,"th",30),c(1,"Acciones"),s())}function WI(t,n){if(t&1){let e=E();r(0,"button",33),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.inactivate(o))}),r(1,"mat-icon",34),c(2,"delete_forever"),s()()}}function KI(t,n){if(t&1){let e=E();r(0,"td",27)(1,"div")(2,"button",31),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()(),h(5,WI,3,0,"button",32),s()()}if(t&2){let e=n.$implicit,i=n.index;m(2),Bt("id","editExpenseHistory",i,""),m(3),p("ngIf",e.estado=="A")}}function YI(t,n){t&1&&(F(0,28),h(1,QI,2,0,"th",29)(2,KI,6,3,"td",18),R())}function XI(t,n){t&1&&C(0,"tr",35)}function ZI(t,n){t&1&&C(0,"tr",36)}var Dc=(()=>{class t{constructor(e,i,o,a,l,d){this.dialog=e,this.data=i,this.personaGestionGastoService=o,this.gestionGastoService=a,this.dialogRef=l,this.dialogService=d,this.expenseFormControl=new O("",[A.required]),this.successfulStatusCode=200}ngOnInit(){this.chargeExpensePerson(),this.data.sourceComponent==="EQP"?(this.editExpense=!1,this.displayedColumns=["dsGestionGasto","fechaInicio","fechaFin"]):(this.editExpense=!0,this.displayedColumns=["dsGestionGasto","fechaInicio","fechaFin","acciones"]),this.editExpense=this.data.sourceComponent!=="EQP"}chargeExpense(){this.gestionGastoService.getAllExpenseActive().subscribe(e=>{e.statusCode===this.successfulStatusCode?this.expensePersonActive?this.expenseManagementList=e.body.data.expenses.filter(i=>i.idGestionGasto!=this.expensePersonActive.idGestionGasto):this.expenseManagementList=e.body.data.expenses:this.showMessage(e.body.data.message,"error","Obtener gastos")})}chargeExpensePerson(){let e=this.paginator.pageIndex;this.personaGestionGastoService.listExpensePerson(this.data.idPersona).pipe(Ce(()=>{this.dataSource.sort=this.sort,this.paginator.pageIndex=e,this.paginator.page.next({pageIndex:e,pageSize:this.paginator.pageSize,length:this.paginator.length}),this.chargeExpense()})).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.expensePersonActive=i.body.data.find(o=>o.estado==="A"),this.dataSource=new Se(i.body.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):(this.showMessage(i.body.data.message,"error","Obtener gasto persona"),this.dataSource=new Se([]),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onYesClick(){let e=new ga({idGestionGasto:this.expenseFormControl.value,idPersona:this.data.idPersona});this.personaGestionGastoService.insertExpensePerson(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Agregar gasto"),this.chargeExpensePerson()):this.showMessage(i.body.data.message,"error","Agregar gasto")})}edit(e){e.title="Editar fecha gesti\xF3n gasto",e.fechaInicioIngreso=this.data.fechaInicio,this.dialog.open(Cg,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.chargeExpensePerson()})}inactivate(e){let i=new ga(null,e.idPersonaGestionGasto);this.personaGestionGastoService.updateStatusExpensePerson(i).subscribe(o=>{o&&(o.statusCode===this.successfulStatusCode?(this.chargeExpensePerson(),this.showMessage(o.body.data.message,"success","Inactivar gastos")):this.showMessage(o.body.data.message,"error","Inactivar gastos"))})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(Y),g(Pc),g($a),g(W),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-persona-gasto"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:37,vars:10,consts:[["fontSize",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-8"],["id","listOfPossibleExpenses","ngDefaultControl","",3,"formControl"],[3,"id","value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-4"],["id","btnAddNewExpense",1,"bc-button-small","bc-button-primary",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsGestionGasto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaInicio"],["matColumnDef","fechaFin"],["matColumnDef","acciones",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"id","value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-cell","",1,"accion"],["matTooltip","Editar historial gasto",1,"bc-button-icon",3,"click","id"],["class","bc-button-icon","id","inactivateExpensePerson","matTooltip","Inactivar gasto",3,"click",4,"ngIf"],["id","inactivateExpensePerson","matTooltip","Inactivar gasto",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",7)(10,"div",8)(11,"mat-form-field")(12,"mat-label"),c(13,"Gasto"),s(),r(14,"mat-select",9,0),h(16,LI,2,3,"mat-option",10),s(),h(17,jI,2,0,"mat-error",11),s()(),r(18,"div",12)(19,"button",13),_("click",function(){return v(a),S(o.onYesClick())}),c(20,"Agregar Gasto"),s()()(),r(21,"div",7)(22,"div",14)(23,"table",15),F(24,16),h(25,zI,2,0,"th",17)(26,HI,2,1,"td",18),R(),F(27,19),h(28,qI,2,0,"th",17)(29,GI,2,1,"td",18),R(),F(30,20),h(31,UI,2,0,"th",17)(32,$I,2,1,"td",18),R(),h(33,YI,3,0,"ng-container",21)(34,XI,1,0,"tr",22)(35,ZI,1,0,"tr",23),s(),C(36,"mat-paginator",24),s()()()}i&2&&(m(4),I(o.data.title),m(10),p("formControl",o.expenseFormControl),m(2),p("ngForOf",o.expenseManagementList),m(),p("ngIf",o.expenseFormControl.hasError("required")),m(6),p("dataSource",o.dataSource),m(10),p("ngIf",o.editExpense),m(),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(9,BI)))},dependencies:[gt,le,X,_e,ve,et,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}.example-section[_ngcontent-%COMP%]{padding-bottom:10px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();function JI(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function e3(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function t3(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function i3(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function o3(t,n){if(t&1){let e=E();r(0,"mat-form-field")(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",11),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",7)(5,"mat-datepicker",null,1),h(7,t3,2,0,"mat-error",8)(8,i3,2,0,"mat-error",8),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}var vg=(()=>{class t{constructor(e,i,o,a,l,d){this._snackBar=e,this.dialogRef=i,this.data=o,this.personaService=a,this.loginService=l,this.dateAdapter=d,this.fechaInicioFormControl=new O(new Date,[A.required]),this.fechaFinFormControl=new $i("",[A.required]),this.maxFechaFin=new Date,this.maxFechaInicio=this.maxFechaFin,this.datosTemp=null,this.fechaInicioTemp=null,this.fechaFinTemp=null}ngOnInit(){this.dateAdapter.setLocale("co");let e=this.maxFechaFin.getTimezoneOffset();this.maxFechaFin.setUTCMinutes(this.maxFechaFin.getUTCMinutes()+e+-300),this.personaService.getParametrosPersonaEmpresa(this.data.idPersonaEmpresa).subscribe(o=>{this.datosTemp=o.body.data;let a=null;this.datosTemp.fechaInicio!=null&&(a=new Date(this.datosTemp.fechaInicio),a=new Date(a.toUTCString()+"-5"),this.fechaInicioTemp=a),this.fechaInicioFormControl.setValue(a);let l=null;this.datosTemp.fechaFin!=null&&(l=new Date(this.datosTemp.fechaFin),l=new Date(l.toUTCString()+"-5"),this.fechaFinTemp=l),this.fechaFinFormControl.setValue(l),this.restringirFechaInicio()})}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.fechaInicioFormControl.markAsTouched(),this.fechaFinFormControl.markAsTouched(),!this.fechaInicioFormControl.valid&&!this.fechaFinFormControl.valid)this.showMessage("Existen campos requeridos sin diligenciar");else{let e="";this.fechaInicioFormControl.value!=this.fechaInicioTemp&&(e+="fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString("co")),this.fechaFinFormControl.value!=this.fechaFinTemp&&(e+=(e==""?"":",")+"fechaFin="+this.fechaFinFormControl.value.toLocaleDateString("co")),this.data.parametros=e,this.dialogRef.close({data:this.data})}}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(ot),g(he),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-empresa"]],decls:23,vars:8,consts:[["pickerFechaInicio",""],["pickerFechaFin",""],["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["matInput","","id","calendarCompanyPersonInitialDate",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnConfirmUpdateFechasPersonaEmpresa",1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","formControl"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",2),c(1),s(),r(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-form-field")(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",6)(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,0),h(12,JI,2,0,"mat-error",8)(13,e3,2,0,"mat-error",8),s()(),r(14,"div",5),h(15,o3,9,6,"mat-form-field",8),s()(),r(16,"div",4)(17,"div",5)(18,"button",9),_("click",function(){return v(a),S(o.onNoClick())}),c(19,"Cancelar"),s()(),r(20,"div",5)(21,"button",10),_("click",function(){return v(a),S(o.onYesClick())}),c(22,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.idPersonaEmpresa,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",o.data.fechaFin)}},dependencies:[ri,si,li,le,Ee,_e,ve,et,ai,V,q,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}.fecha[_ngcontent-%COMP%]{width:47%}"]})}}return t})();var n3=()=>[3,6];function a3(t,n){t&1&&(r(0,"th",19),c(1," Nombre Empresa"),s())}function r3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombreEmpresa," ")}}function s3(t,n){t&1&&(r(0,"th",21),c(1," Fecha Inicio"),s())}function l3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaInicio," ")}}function c3(t,n){t&1&&(r(0,"th",21),c(1," Fecha Fin"),s())}function m3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFin," ")}}function d3(t,n){t&1&&(r(0,"th",22),c(1,"Acciones"),s())}function p3(t,n){if(t&1){let e=E();r(0,"td",20)(1,"div")(2,"button",23),_("click",function(){let o=v(e).$implicit,a=x();return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()()()()}if(t&2){let e=n.index;m(2),Bt("id","btnUpdateCompanyByDates",e,"")}}function u3(t,n){t&1&&C(0,"tr",24)}function f3(t,n){t&1&&C(0,"tr",25)}var Sg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.personaService=d,this.displayedColumns=["empresa","fechaInicio","fechaFin","acciones"],this.getTablaEmpresa(this.data.idPersona)}ngOnInit(){}getTablaEmpresa(e){this.personaService.getTablaPersonaEmpresa(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i.body.data.companyPersonList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}edit(e){this.dialog.open(vg,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updatePersonaEmpresa(o.data.parametros,e.idPersonaEmpresa).subscribe(a=>{a.body.data?(this.getTablaEmpresa(this.data.idPersona),this.showMessage(a.body.data.message)):this.showMessage(a.message)})})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Z),g(K),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-empresa"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:27,vars:6,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","empresa"],["mat-header-cell","","mat-sort-header","","class","estructura",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaInicio"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","fechaFin"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"estructura"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-cell","",1,"accion"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",1)(10,"div",6)(11,"table",7),F(12,8),h(13,a3,2,0,"th",9)(14,r3,2,1,"td",10),R(),F(15,11),h(16,s3,2,0,"th",12)(17,l3,2,1,"td",10),R(),F(18,13),h(19,c3,2,0,"th",12)(20,m3,2,1,"td",10),R(),F(21,14),h(22,d3,2,0,"th",15)(23,p3,5,2,"td",10),R(),h(24,u3,1,0,"tr",16)(25,f3,1,0,"tr",17),s(),C(26,"mat-paginator",18),s()()()),i&2&&(m(4),T("Historial de empresas de ",o.data.nombre,""),m(7),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,n3)))},dependencies:[le,X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.example-section[_ngcontent-%COMP%]{padding-bottom:10px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}"]})}}return t})();function h3(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser anterior a fecha fin "),s())}function g3(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicio requerida "),s())}function _3(t,n){t&1&&(r(0,"mat-error"),c(1," No es posible asignar fechas futuras "),s())}function C3(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha fin requerida "),s())}function b3(t,n){if(t&1){let e=E();r(0,"mat-form-field")(1,"mat-label"),c(2,"Fecha Fin"),s(),r(3,"input",12),_("dateChange",function(){v(e);let o=x();return S(o.restringirFechaInicio())}),s(),C(4,"mat-datepicker-toggle",7)(5,"mat-datepicker",null,1),h(7,_3,2,0,"mat-error",8)(8,C3,2,0,"mat-error",8),s()}if(t&2){let e=re(6),i=x();m(3),p("matDatepicker",e)("max",i.maxFechaFin)("formControl",i.fechaFinFormControl),m(),p("for",e),m(3),p("ngIf",i.fechaFinFormControl.hasError("matDatepickerMax")),m(),p("ngIf",i.fechaFinFormControl.hasError("required"))}}var yg=(()=>{class t{constructor(e,i,o,a,l){this._snackBar=e,this.dialogRef=i,this.data=o,this.personaService=a,this.dateAdapter=l,this.fechaInicioFormControl=new O(new Date,[A.required]),this.fechaFinFormControl=new $i("",[A.required]),this.maxFechaFin=new Date,this.maxFechaInicio=this.maxFechaFin,this.datosTemp=null,this.fechaInicioTemp=null,this.fechaFinTemp=null}ngOnInit(){this.dateAdapter.setLocale("co");let e=this.maxFechaFin.getTimezoneOffset();this.maxFechaFin.setUTCMinutes(this.maxFechaFin.getUTCMinutes()+e+-300),this.personaService.getParametrosHistoricoModalidadServicio(this.data.idHistoricoModalidadServicio).subscribe(o=>{this.datosTemp=o.body.data;let a=null;this.datosTemp.fechaInicio!=null&&(a=new Date(this.datosTemp.fechaInicio),a=new Date(a.toUTCString()+"-5"),this.fechaInicioTemp=a),this.fechaInicioFormControl.setValue(a);let l=null;this.datosTemp.fechaFin!=null&&(l=new Date(this.datosTemp.fechaFin),l=new Date(l.toUTCString()+"-5"),this.fechaFinTemp=l),this.fechaFinFormControl.setValue(l),this.restringirFechaInicio()})}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.fechaInicioFormControl.markAsTouched(),this.fechaFinFormControl.markAsTouched(),!this.fechaInicioFormControl.valid&&!this.fechaFinFormControl.valid)this.showMessage("Existen campos requeridos sin diligenciar");else{let e="";this.fechaInicioFormControl.value!=this.fechaInicioTemp&&(e+="fechaInicio="+this.fechaInicioFormControl.value.toLocaleDateString("co")),this.fechaFinFormControl.value!=this.fechaFinTemp&&(e+=(e==""?"":",")+"fechaFin="+this.fechaFinFormControl.value.toLocaleDateString("co")),this.data.parametros=e,this.dialogRef.close({data:this.data})}}restringirFechaInicio(){this.maxFechaInicio=this.fechaFinFormControl.value==null?this.maxFechaFin:this.fechaFinFormControl.value,this.fechaInicioFormControl.markAsTouched()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(ot),g(Ii))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-persona-historico-modalidad"]],decls:23,vars:8,consts:[["pickerFechaInicio",""],["pickerFechaFin",""],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],["matInput","","id","calendarHistoricalModServInitialDate",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],[4,"ngIf"],[1,"row","justify-content-start"],[1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnConfirmUpdateFechasHistoricoModServ",1,"bc-button-small","bc-button-primary",3,"click"],["matInput","",3,"dateChange","matDatepicker","max","formControl"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",2),c(1),s(),r(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-form-field")(6,"mat-label"),c(7,"Fecha Inicio"),s(),C(8,"input",6)(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,0),h(12,h3,2,0,"mat-error",8)(13,g3,2,0,"mat-error",8),s()(),r(14,"div",5),h(15,b3,9,6,"mat-form-field",8),s()(),r(16,"div",9)(17,"div",5)(18,"button",10),_("click",function(){return v(a),S(o.onNoClick())}),c(19,"Cancelar"),s()(),r(20,"div",5)(21,"button",11),_("click",function(){return v(a),S(o.onYesClick())}),c(22,"Guardar"),s()()()()}if(i&2){let a=re(11);m(),T("Editar registro ",o.data.idPersonaEmpresa,""),m(7),p("matDatepicker",a)("max",o.maxFechaInicio)("formControl",o.fechaInicioFormControl),m(),p("for",a),m(3),p("ngIf",o.fechaInicioFormControl.hasError("matDatepickerMax")),m(),p("ngIf",o.fechaInicioFormControl.hasError("required")),m(2),p("ngIf",o.data.fechaFinString)}},dependencies:[ri,si,li,le,Ee,_e,ve,et,ai,V,q,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}.fecha[_ngcontent-%COMP%]{width:47%}"]})}}return t})();var v3=()=>[3,6];function S3(t,n){t&1&&(r(0,"th",19),c(1," Tipo Modalidad Servicio"),s())}function y3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.tipoModalidadServicio," ")}}function x3(t,n){t&1&&(r(0,"th",21),c(1," Fecha Inicio"),s())}function w3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaInicioString," ")}}function E3(t,n){t&1&&(r(0,"th",21),c(1," Fecha Fin"),s())}function M3(t,n){if(t&1&&(r(0,"td",20),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaFinString," ")}}function I3(t,n){t&1&&(r(0,"th",22),c(1,"Acciones"),s())}function T3(t,n){if(t&1){let e=E();r(0,"td",20)(1,"div")(2,"button",23),_("click",function(){let o=v(e).$implicit,a=x();return S(a.edit(o))}),r(3,"mat-icon"),c(4,"edit"),s()()()()}if(t&2){let e=n.index;m(2),Bt("id","btnUpdateHistoricModServByDates",e,"")}}function P3(t,n){t&1&&C(0,"tr",24)}function D3(t,n){t&1&&C(0,"tr",25)}var xg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.personaService=d,this.displayedColumns=["tipoModalidadServicio","fechaInicioString","fechaFinString","acciones"],this.getTablaHistoricoModalidad(this.data.idPersona)}ngOnInit(){}getTablaHistoricoModalidad(e){this.personaService.getTablaHistoricoModalidad(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i.body.data.historicalModServList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}edit(e){this.dialog.open(yg,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updateHistoricoModalidadServicio(o.data.parametros,e.idHistoricoModalidadServicio).subscribe(a=>{a.body.data?(this.getTablaHistoricoModalidad(this.data.idPersona),this.showMessage(a.body.data.message)):this.showMessage(a.message)})})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Z),g(K),g(W),g(Y),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cambiar-historico-modalidad"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:27,vars:6,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","tipoModalidadServicio"],["mat-header-cell","","mat-sort-header","","class","estructura",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaInicioString"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","fechaFinString"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"estructura"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-cell","",1,"accion"],["matTooltip","Editar Registro",1,"bc-button-icon",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",1)(10,"div",6)(11,"table",7),F(12,8),h(13,S3,2,0,"th",9)(14,y3,2,1,"td",10),R(),F(15,11),h(16,x3,2,0,"th",12)(17,w3,2,1,"td",10),R(),F(18,13),h(19,E3,2,0,"th",12)(20,M3,2,1,"td",10),R(),F(21,14),h(22,I3,2,0,"th",15)(23,T3,5,2,"td",10),R(),h(24,P3,1,0,"tr",16)(25,D3,1,0,"tr",17),s(),C(26,"mat-paginator",18),s()()()),i&2&&(m(4),T("Historico modalidad servicio de ",o.data.nombre,""),m(7),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,v3)))},dependencies:[le,X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.example-section[_ngcontent-%COMP%]{padding-bottom:10px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}"]})}}return t})();function R3(t,n){t&1&&C(0,"img",22)}function k3(t,n){t&1&&(r(0,"div",9),C(1,"br")(2,"div",23),r(3,"div",24),C(4,"mat-spinner",25),s(),C(5,"div",23),s()),t&2&&(m(4),p("diameter",50))}var wg=(()=>{class t{constructor(e,i,o,a){this.formBuilder=e,this.dialogService=i,this.dialogRef=o,this.matrizConocimientosObservablesService=a,this.assessmentDateFormControl=new O("",[]),this.successStatusCode=200,this.showFileErrorMessage=!1,this.fileUploadTextMessage="Seleccionar archivo de excel",this.fileName=this.fileUploadTextMessage,this.MAXIMO_TAMANIO_BYTES=1e6,this.showSpinner=!1,this.maxDate=new Date}ngOnInit(){this.buildForm()}buildForm(){this.yearlyAssessmentKnowledge=this.formBuilder.group({fileFormControl:[this.fileName,A.required]})}getKnowledgeAssesmentsFile(e){e.target.files[0]!=null&&(e.target.files[0].size<this.MAXIMO_TAMANIO_BYTES?(this.yearlyAssessmentKnowledge.controls.fileFormControl.setValue(e.target.files[0].name),this.fileObject=e.target.files[0]):(this.yearlyAssessmentKnowledge.controls.fileFormControl.setValue(""),this.showMessage("El documento no puede superar 1MB de informaci\xF3n","warning","Advertencia")))}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}closePopupWindow(){this.dialogRef.close()}validateFileExcel(){return this.assessmentDateFormControl.value?this.yearlyAssessmentKnowledge.controls.fileFormControl.value===this.fileUploadTextMessage:!0}updateKnowledgeAssesmentFile(){this.showSpinner=!0,this.matrizConocimientosObservablesService.sendUpdateKnowledgeAssessmentFile(this.assessmentDateFormControl.value,this.fileObject).pipe(Ce(()=>{this.showSpinner=!1})).subscribe(e=>{if(e!==void 0)if(e.statusCode===this.successStatusCode){if(e.body.data.failedData){let i=new Blob([e.body.data.failedData],{type:"text/plain"}),o=URL.createObjectURL(i),a=document.createElement("a");a.href=o;let l=new Date,d=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0"),b=String(l.getHours()).padStart(2,"0"),y=String(l.getMinutes()).padStart(2,"0"),w=String(l.getSeconds()).padStart(2,"0"),M=f+"/"+u+"/"+d+" "+b+":"+y+":"+w;a.download="ERRORES_CARGA_ARCHIVO "+M+".txt",a.click(),URL.revokeObjectURL(o),this.showMessage(e.body.data.message,"warning","Actualizacion Valoraciones Conocimiento")}else this.showMessage(e.body.data.message,"success","Actualizacion Valoraciones Conocimiento");this.dialogRef.close(!0)}else this.showMessage(e.body.data.message,"error","Actualizacion Valoraciones Conocimiento")})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(ue),g(W),g(Yl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-actualizar-matriz-conocimiento"]],decls:40,vars:8,consts:[["picker1",""],["fileInput",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","id","assessmentDate","ngDefaultControl","","matTooltip","Fecha valoracion",3,"matDatepicker","formControl","max"],["matSuffix","",3,"for"],["autosize",""],["src","assets/iconos/excel.png","width","30px","alt","",4,"ngIf"],["matInput","","readonly","","name","nameFile",1,"pequenio",3,"formControl"],["type","file","id","fileUpload","name","uploadFile","accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"change"],["mat-button",""],["class","row justify-content-start",4,"ngIf"],[1,"col-6"],["id","btnSaveAssessmentKnowledge","matTooltip","Guardar",1,"bc-button-primary",3,"click","disabled"],["id","btnCancel","matTooltip","Cancelar","cdkFocusInitial","",1,"bc-button-secondary",3,"click"],["src","assets/iconos/excel.png","width","30px","alt",""],[1,"col-5"],[1,"col-2"],[3,"diameter"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),c(4,"Actualizar valoraciones anuales de conocimiento"),s()(),r(5,"div",6)(6,"button",7),_("click",function(){return v(a),S(o.closePopupWindow())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",8)(10,"div",9)(11,"div",10)(12,"mat-form-field")(13,"mat-label"),c(14,"Fecha valoracion"),s(),C(15,"input",11)(16,"mat-datepicker-toggle",12)(17,"mat-datepicker",null,0),s()(),r(19,"div",10)(20,"mat-drawer-container",13)(21,"mat-toolbar"),h(22,R3,1,0,"img",14),C(23,"input",15),r(24,"input",16,1),_("change",function(d){return v(a),S(o.getKnowledgeAssesmentsFile(d))}),s(),r(26,"button",17)(27,"mat-icon"),c(28,"file_upload"),s(),c(29," Seleccionar "),s()()()()(),C(30,"br"),h(31,k3,6,1,"div",18),C(32,"br"),r(33,"div",9)(34,"div",19)(35,"button",20),_("click",function(){return v(a),S(o.updateKnowledgeAssesmentFile())}),c(36,"Guardar"),s()(),r(37,"div",19)(38,"button",21),_("click",function(){return v(a),S(o.closePopupWindow())}),c(39,"Cancelar"),s()()()()}if(i&2){let a=re(18);m(15),p("matDatepicker",a)("formControl",o.assessmentDateFormControl)("max",o.maxDate),m(),p("for",a),m(6),p("ngIf",!o.validateFileExcel()),m(),p("formControl",o.yearlyAssessmentKnowledge.controls.fileFormControl),m(8),p("ngIf",o.showSpinner),m(4),p("disabled",o.validateFileExcel())}},dependencies:[Ri,ri,si,li,le,X,Ee,_e,ve,ai,En,dr,Xo,oe,V,q,H,G],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{font-size:80%}#fileUpload[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;z-index:9;opacity:0;cursor:pointer;position:absolute}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fdc82a!important}"]})}}return t})();function A3(t,n){if(t&1&&(r(0,"tr")(1,"td",20),c(2),s(),r(3,"td",20),c(4),s(),r(5,"td",20),c(6),s()()),t&2){let e=n.$implicit;m(2),I(e.period),m(2),I(e.assessmentDate),m(2),I(e.levelKnowledge)}}function O3(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"A\xF1o"),s(),r(9,"th",18),c(10,"Fecha"),s(),r(11,"th",18),c(12,"Nivel Conocimiento"),s()()(),r(13,"tbody"),h(14,A3,7,3,"tr",19),s()()(),C(15,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",5),m(2),p("pairPaginators",!0)("dropdownHtml",!0),m(10),p("ngForOf",e.dataSource)}}var Eg=(()=>{class t{constructor(e,i,o,a,l,d){this.dialogService=e,this.dialog=i,this.fb=o,this.data=a,this.dialogRef=l,this.matrizConocimientosObservablesService=d,this.dataSource=[],this.successStatusCode=200,this.page=1,this.limit=5,this.length=0,this.waitTime=500,this.levelKnowledgeObject=[]}ngOnInit(){this.buildForm(),this.getObservableKnowledgesMatrix()}getObservableKnowledgesMatrix(){this.matrizConocimientosObservablesService.getAllByPersonId(this.data.idPersona,this.page,this.limit,this.searchForm.get("filterFormControl").value,this.searchForm.get("levelKnowledgeFormControl").value).subscribe(e=>{e.statusCode===this.successStatusCode&&e.body.data.observableKnowledgesMatrix&&e.body.data.observableKnowledgesMatrix.length>0?(this.dataSource=e.body.data.observableKnowledgesMatrix,this.length=e.body.data.total,this.levelKnowledgeObject=e.body.data.levelKnowledges):this.searchForm.get("filterFormControl").value||this.searchForm.get("levelKnowledgeFormControl").value?(this.dataSource=[],this.length=e.body.data.total,this.showMessage("El listado se encuentra vacio","error","Listar Matriz de Conocimientos Observables.")):(this.dialogRef.close(),this.showMessage("El listado se encuentra vacio","error","Listar Matriz de Conocimientos Observables."))})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getObservableKnowledgesMatrix())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}buildForm(){this.searchForm=this.fb.group({filterFormControl:["",[]],levelKnowledgeFormControl:["",[]]})}cleanSearchGeneralData(){this.page=1,this.limit=5,this.searchForm.get("filterFormControl").reset(),this.searchForm.get("levelKnowledgeFormControl").setValue(""),this.getObservableKnowledgesMatrix()}static{this.\u0275fac=function(i){return new(i||t)(g(ue),g(Z),g(at),g(Y),g(W),g(Yl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-visualizar-matriz-conocimiento"]],decls:22,vars:4,consts:[[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["bc-card",""],[1,"bc-card-body"],[1,"col-6"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","number","name","period","step","1","id","inputCantidad","pattern","\\d+",3,"formControl"],[1,"col-2"],["ngDefaultControl","","componentId","bc-select3","span","Nivel Conocimiento",3,"values","formControl"],["id","divButtonsLevelKnowledge",1,"col-2"],["id","btnSearchObservableKnowledgeMatrix","type","outline","size","small","customIcon","search",3,"click"],["id","btnCleanSearchObservableKnowledgeMatrix","type","outline","size","small","customIcon","refresh",3,"click"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title","Matriz Conocimientos Observables"],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false",3,"pairPaginators","dropdownHtml"],["scope","row","bc-cell",""],[4,"ngFor","ngForOf"],["bc-cell",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"bc-form-field")(8,"em"),C(9,"bc-icon",6),s(),C(10,"input",7),r(11,"span"),c(12,"Periodo (Num\xE9rico)"),s()()(),r(13,"div",8)(14,"bc-form-field"),C(15,"bc-input-select",9),s()(),r(16,"div",10)(17,"bc-icon-button",11),_("click",function(){return o.getObservableKnowledgesMatrix()}),s(),r(18,"bc-icon-button",12),_("click",function(){return o.cleanSearchGeneralData()}),s()()()()()()(),r(19,"div",1)(20,"div",2),h(21,O3,16,7,"bc-table-container",13),s()()()),i&2&&(m(10),p("formControl",o.searchForm.controls.filterFormControl),m(5),p("values",o.levelKnowledgeObject)("formControl",o.searchForm.controls.levelKnowledgeFormControl),m(6),p("ngIf",o.dataSource.length>0))},dependencies:[ae,V,q,Li,H,Aa,G,Mo,te,ee,Me,pt,mt,ct,dt,ut,_t,It,lt,fe],styles:["#divButtonsLevelKnowledge[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}return t})();var V3=["inputstring"];function N3(t,n){if(t&1){let e=E();r(0,"div",14)(1,"button",15),_("click",function(){v(e);let o=x();return S(o.submitFile())}),r(2,"bc-icon"),c(3,"upload"),s(),r(4,"span"),c(5,"MATRIZ CONOCIMIENTOS OBSERVABLES"),s()()()}}function B3(t,n){if(t&1){let e=E();r(0,"div",16)(1,"bc-icon-button",17),_("click",function(){v(e);let o=x();return S(o.openDialog("Add",o.loginService.getData()))}),s()()}t&2&&(m(),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"))}function L3(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",29),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x(),i=e.$implicit,o=e.index;p("id","btnPersonOptions"+o)("row",i)("options",i.option)}}function j3(t,n){if(t&1&&(r(0,"tr")(1,"td",25),c(2),s(),r(3,"td",26),c(4),s(),r(5,"td",26),c(6),s(),r(7,"td",26),c(8),s(),r(9,"td",26),c(10),s(),r(11,"td",26),c(12),s(),r(13,"td",27),h(14,L3,1,3,"bc-table-dropdown",28),s()()),t&2){let e=n.$implicit;m(2),I(e.nombre),m(2),I(e.estructura),m(2),I(e.lider),m(2),I(e.dsEmpresa),m(2),I(e.nivel),m(2),I(e.dsPerfilProveedor),m(2),p("ngIf",e.option.length>0)}}function z3(t,n){if(t&1){let e=E();r(0,"bc-table-container",18)(1,"bc-table-header",19)(2,"bc-paginator",20),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",21)(5,"thead")(6,"tr")(7,"th",22),c(8,"Nombre"),s(),r(9,"th",23),c(10,"Unidad Organizativa"),s(),r(11,"th",23),c(12,"L\xEDder"),s(),r(13,"th",23),c(14,"Empresa"),s(),r(15,"th",23),c(16,"Perfil"),s(),r(17,"th",23),c(18,"Perfil Proveedor"),s(),r(19,"th",23),c(20,"Acciones"),s()()(),r(21,"tbody"),h(22,j3,15,7,"tr",24),s()()(),C(23,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",5),m(20),p("ngForOf",e.dataSource)}}var Fc=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.loginService=i,this.personaService=o,this.dialog=a,this.dialogService=l,this.filtroFormControl=new O("",[]),this.peopleStatusFormControl=new O("",[]),this.displayedColumns=["nombre","estructura","lider","empresa","nivel","perfilProveedor","acciones"],this.dataSource=[],this.page=1,this.limit=5,this.length=0,this.status="ACTIVO",this.peopleStatus=["ACTIVO","INACTIVO","TODOS"],this.filter=null,this.getPersonas()}ngOnInit(){this.peopleStatusFormControl.setValue(this.peopleStatus[0])}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getPersonas()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getPersonas())}search(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getPersonas()):this.showMessage("Escriba el texto a buscar","warning","Buscar")}openDialog(e,i){i.action=e,i.action=="Activate"?this.openActivateDialog(i):i.action=="Update"?this.openUpdateDialog(i):i.action=="Add"?this.openAddDialog(i):i.action=="Celula"?this.openCambiarCelulaDialog(i):i.action=="Estructura"?this.openCambiarEstructuraDialog(i):i.action=="NivelRol"?this.openCambiarNivelRolDialog(i):i.action=="PerfilProveedor"?this.openCambiarPerfilProveedorDialog(i):i.action=="Rol"?this.openAddRoleDialog(i):i.action=="Gasto"?this.openAddExpenseDialog(i):i.action=="Empresa"?this.openCambiarFechaEmpresaDialog(i):i.action=="HistoricoModServ"?this.openCambiarFechaHistoricoModalidadDialog(i):i.action=="NivelConocimiento"&&this.openViewObservableKnowledgesMatriz(i)}openAddRoleDialog(e){e.title="Agregar rol persona: "+e.nombre;let i=this.dialog.open(gg,{width:"1000px",data:e})}openAddExpenseDialog(e){e.title="Agregar gesti\xF3n gasto persona: "+e.nombre;let i=this.dialog.open(Dc,{data:e})}openViewObservableKnowledgesMatriz(e){this.dialog.open(Eg,{maxWidth:"90vw",maxHeight:"90vh",height:"90%",width:"90%",panelClass:"full-screen-modal",data:e})}openActivateDialog(e){let i=null;e.estado=="Activado"?(e.boton="Inactivar",e.title="Inactivando a "+e.nombre,i=this.dialog.open(pg,{width:"1000px",data:e})):(e.boton="Activar",e.mensaje="\xBFRealmente desea activar a "+e.nombre+"?",e.boton=e.estado=="Activado"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e})),i.afterClosed().subscribe(o=>{o!=null&&this.personaService.cambiarEstadoPesona(e.idPersona,o.data.idCausal,o.data.idTipoRetiro,o.data.fechaFin,o.data.conservarPosicion).subscribe(a=>{a==null&&this.router.navigate(["/login"]),this.getPersonas(),this.showMessage(a.mensaje,"success","Cambiar estado persona")})})}openUpdateDialog(e){e.mode="update",e.title="Editar Persona:",this.dialog.open(Zd,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.updatePersona(o.data.idPersona,o.data.parametros).subscribe(a=>{a==null&&this.router.navigate(["/login"]),this.getPersonas(),this.showMessage(a.mensaje,"success","Actualizar persona")})})}openAddDialog(e){e.mode="add",e.title="Agregar Persona:",this.dialog.open(Zd,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.personaService.setPersona(o.data.parametros).subscribe(a=>{a==null&&this.router.navigate(["/login"]),a.id==null?this.showMessage(a.mensaje,"error","Crear persona"):(this.getPersonas(),this.showMessage(a.mensaje,"success","Crear persona"))})})}openCambiarCelulaDialog(e){this.dialog.open(sg,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}openCambiarEstructuraDialog(e){this.dialog.open(cg,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}openCambiarNivelRolDialog(e){this.dialog.open(Ic,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}openCambiarPerfilProveedorDialog(e){this.dialog.open(fg,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}openCambiarFechaEmpresaDialog(e){this.dialog.open(Sg,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}openCambiarFechaHistoricoModalidadDialog(e){this.dialog.open(xg,{width:"1000px",data:e}).afterClosed().subscribe(o=>{this.getPersonas()})}getPersonas(){this.personaService.getTablaPersonas(this.status,this.filter,this.page,this.limit).subscribe(e=>{e==null&&this.router.navigate(["/login"]),e!=null&&(this.dataSource=e.data.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.length=e.total)})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getPersonas())}getStatus(){this.status=this.peopleStatusFormControl.value,this.getPersonas()}submitFile(){this.dialog.open(wg,{width:"600px"})}getOptions(e){let i=[];return e.estado=="Activado"&&this.origen=="capacidad"?i.push({id:"active",text:"Inactivar Persona",icon:"error",action:this.rowSelected}):e.estado=="Inactivo"&&this.origen=="capacidad"&&i.push({id:"active",text:"Activar Persona",icon:"check",action:this.rowSelected}),this.origen=="admin"&&i.push({id:"role",text:"Asignar rol",icon:"add_square",action:this.rowSelected}),this.origen=="capacidad"&&(i.push({id:"edit",text:"Editar Persona",icon:"edit",action:this.rowSelected}),i.push({id:"cell",text:"Agregar C\xE9lula",icon:"plant",action:this.rowSelected}),i.push({id:"structure",text:"Actualizar Unidad Organizativa",icon:"construction",action:this.rowSelected}),i.push({id:"level",text:"Cambiar Perfil",icon:"line-of-people",action:this.rowSelected}),i.push({id:"profileProvider",text:"Cambiar Perfil Proveedor",icon:"people",action:this.rowSelected}),i.push({id:"expense",text:"Agregar Gasto",icon:"user-check-money",action:this.rowSelected}),i.push({id:"company",text:"Editar Empresa",icon:"building",action:this.rowSelected}),i.push({id:"historicModServ",text:"Editar Historico Mod. Servicio",icon:"direct-user",action:this.rowSelected}),i.push({id:"levelKnowledge",text:"Nivel Conocimiento",icon:"layers",action:this.rowSelected})),i}rowSelected(e){e.optionSeleted.indexOf("active")!==-1&&this.openDialog("Activate",e.rowData),e.optionSeleted.indexOf("role")!==-1&&this.openDialog("Rol",e.rowData),e.optionSeleted.indexOf("edit")!==-1&&this.openDialog("Update",e.rowData),e.optionSeleted.indexOf("cell")!==-1&&this.openDialog("Celula",e.rowData),e.optionSeleted.indexOf("structure")!==-1&&this.openDialog("Estructura",e.rowData),e.optionSeleted.indexOf("level")!==-1&&this.openDialog("NivelRol",e.rowData),e.optionSeleted.indexOf("profileProvider")!==-1&&this.openDialog("PerfilProveedor",e.rowData),e.optionSeleted.indexOf("expense")!==-1&&this.openDialog("Gasto",e.rowData),e.optionSeleted.indexOf("company")!==-1&&this.openDialog("Empresa",e.rowData),e.optionSeleted.indexOf("historicModServ")!==-1&&this.openDialog("HistoricoModServ",e.rowData),e.optionSeleted.indexOf("levelKnowledge")!==-1&&this.openDialog("NivelConocimiento",e.rowData)}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(he),g(ot),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-persona"]],viewQuery:function(i,o){if(i&1&&L(V3,7),i&2){let a;j(a=z())&&(o.uploadFileInput=a.first)}},inputs:{origen:"origen"},decls:18,vars:6,consts:[["inputstring",""],["id","initialPersonButtons",1,"container-fluid"],["id","filter-container",1,"row"],[1,"row","justify-content-around","col-8"],[1,"col-2"],["id","status"],["ngDefaultControl","","componentId","statusSelectPerson","span","Estados",3,"click","values","formControl"],[1,"col-8"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","personSearchFilter","bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text",3,"keyup","formControl"],[1,"row","justify-content-around","col-4"],["class","col-11",4,"ngIf"],["class","col-1",4,"ngIf"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"col-11"],["bc-button","","id","btnUploadFileAssessmentKnowledge","typebutton","secondary","sizebutton","small",1,"bc-button-fill","bc-button-secondary","bc-button-small",3,"click"],[1,"col-1"],["id","add-person","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear persona",3,"click","type","color","shadow","size","customIcon"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false","pairPaginators","true","dropdownHtml","true","scroll","true"],["scope","row","bc-cell","","fixed","true"],["scope","row","bc-cell",""],[4,"ngFor","ngForOf"],["bc-cell","","fixed","true"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"bc-form-field",5)(5,"bc-input-select",6),_("click",function(){return v(a),S(o.getStatus())}),s()()(),r(6,"div",7)(7,"bc-form-field")(8,"em"),C(9,"bc-icon",8),s(),r(10,"input",9,0),_("keyup",function(d){v(a);let u=re(11);return S(o.applyFilter(d,u.value))}),s(),r(12,"label"),c(13,"Escriba el texto a buscar"),s()()()(),r(14,"div",10),h(15,N3,6,0,"div",11)(16,B3,2,5,"div",12),s()()(),h(17,z3,24,5,"bc-table-container",13)}i&2&&(m(5),p("values",o.peopleStatus)("formControl",o.peopleStatusFormControl),m(5),p("formControl",o.filtroFormControl),m(5),p("ngIf",o.origen=="capacidad"),m(),p("ngIf",o.origen=="capacidad"),m(),p("ngIf",o.length>0))},dependencies:[ae,V,q,H,G,kt,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,It,lt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.estructura[_ngcontent-%COMP%]{width:15%}.accion[_ngcontent-%COMP%], .persona[_ngcontent-%COMP%]{width:10%}.check[_ngcontent-%COMP%]{width:3%}.correo[_ngcontent-%COMP%]{width:4%}.filter[_ngcontent-%COMP%]{width:40%}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#status[_ngcontent-%COMP%]{width:100%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}#initialPersonButtons[_ngcontent-%COMP%]{margin-top:1%}  .bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();function H3(t,n){if(t&1&&(r(0,"div",14)(1,"bc-form-field")(2,"em"),c(3,"capital"),s(),C(4,"input",27,2),r(6,"label",28),c(7,"Centro de Costos"),s(),r(8,"span"),c(9),s()()()),t&2){let e=re(5),i=x();m(4),p("formControl",i.centroCostosFormControl),m(5),T("",e.value.length," / 10")}}var ep=(()=>{class t{constructor(e,i,o,a){this.dialogService=e,this.dialogRef=i,this.data=o,this.estructuraService=a,this.estructuraFormControl=new O("",[A.required]),this.estructuraPadreFormControl=new O("",[]),this.personaLiderFormControl=new O("",[A.required]),this.personaCapacidadFormControl=new O("",[A.required]),this.nivelFormControl=new O(1,[A.required]),this.centroCostosFormControl=new O("",[A.required]),this.unidadOrganizativaFormControl=new O("",[A.required]),this.successfulStatusCode=200,this.datosTemp=null,this.tipoEstructuraFormControl=new O(!1,[A.required])}ngOnInit(){this.estructuraService.getAllowedLevel().subscribe(e=>{e.statusCode==200?(this.maxLevel=e.body.data.level,this.nivelFormControl=new O(1,[A.required,A.min(1),A.max(this.maxLevel)]),this.enableForm()):this.showMessage(e.body.data.message,"error","Obtener nivel")}),this.estructuraService.getParametrosEstructura(this.data.idEstructura).subscribe(e=>{this.estructuraList=e.body.data.estructuraList.map(i=>({value:i.idEstructura,label:i.dsEstructura})),this.estructuraList.unshift({value:"",label:"N/A"}),this.personaList=e.body.data.personaList.map(i=>({value:i.idPersona,label:i.nombre})),this.data.mode=="update"&&(this.datosTemp=e.body.data,this.estructuraFormControl.setValue(e.body.data.dsEstructura),this.estructuraPadreFormControl.setValue(e.body.data.idEstructuraPadre),this.personaLiderFormControl.setValue(e.body.data.idPersonaLider),this.personaCapacidadFormControl.setValue(e.body.data.idPersonaCapacidad),this.nivelFormControl.setValue(e.body.data.nivel),this.centroCostosFormControl.setValue(e.body.data.structureType?e.body.data.centroCostos:"0"),this.nivelFormControl.markAsTouched(),this.unidadOrganizativaFormControl.setValue(e.body.data.idUnidadOrganizativa),this.unidadOrganizativaFormControl.markAsTouched(),this.tipoEstructuraFormControl.setValue(e.body.data.structureType))})}disableForm(){this.estructuraFormControl.disable(),this.estructuraPadreFormControl.disable(),this.personaLiderFormControl.disable(),this.personaCapacidadFormControl.disable(),this.nivelFormControl.disable(),this.centroCostosFormControl.disable(),this.unidadOrganizativaFormControl.disable()}enableForm(){this.estructuraFormControl.enable(),this.estructuraPadreFormControl.enable(),this.personaLiderFormControl.enable(),this.personaCapacidadFormControl.enable(),this.nivelFormControl.enable(),this.centroCostosFormControl.enable(),this.unidadOrganizativaFormControl.enable()}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.estructuraFormControl.markAsTouched(),this.personaLiderFormControl.markAsTouched(),this.personaCapacidadFormControl.markAsTouched(),this.nivelFormControl.markAsTouched(),this.centroCostosFormControl.markAsTouched(),this.unidadOrganizativaFormControl.markAsTouched(),!this.estructuraFormControl.valid||!this.personaLiderFormControl.valid||!this.personaCapacidadFormControl.valid||!this.nivelFormControl.valid||!this.centroCostosFormControl.valid&&this.tipoEstructuraFormControl.value||!this.unidadOrganizativaFormControl.valid)this.showMessage("Existen campos requeridos sin diligenciar","warning","\xA1Alerta!");else{let e;this.data.mode=="update"?(e=new cs({idUnidadOrganizativa:this.unidadOrganizativaFormControl.value,estructura:this.estructuraPadreFormControl.value?new cs(null,this.estructuraPadreFormControl.value):null,personaByIdPersonaCapacidad:new ra(null,this.personaCapacidadFormControl.value),personaByIdPersonaLider:new ra(null,this.personaLiderFormControl.value),dsEstructura:this.estructuraFormControl.value,nivel:this.nivelFormControl.value,centroCostos:this.tipoEstructuraFormControl.value?this.centroCostosFormControl.value:"0",structureType:this.tipoEstructuraFormControl.value},this.data.idEstructura),this.estructuraService.updateEstructura(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Actualizar estructura"),this.data.filtro=this.estructuraFormControl.value,this.dialogRef.close({data:this.data})):this.showMessage(i.body.data.message,"error","Actualizar estructura")})):(e=new cs({idUnidadOrganizativa:this.unidadOrganizativaFormControl.value,estructura:this.estructuraPadreFormControl.value?new cs(null,this.estructuraPadreFormControl.value):null,personaByIdPersonaCapacidad:new ra(null,this.personaCapacidadFormControl.value),personaByIdPersonaLider:new ra(null,this.personaLiderFormControl.value),dsEstructura:this.estructuraFormControl.value,nivel:this.nivelFormControl.value,centroCostos:this.tipoEstructuraFormControl.value?this.centroCostosFormControl.value:"0",structureType:this.tipoEstructuraFormControl.value}),this.estructuraService.setEstructura(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Crear estructura"),this.data.filtro=this.estructuraFormControl.value,this.dialogRef.close({data:this.data})):this.showMessage(i.body.data.message,"error","Crear estructura")}))}}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"structure",type:i,text:e,title:o,timeout:5e3})}onTipoEstructuraChange(e){e.target.checked||this.centroCostosFormControl.setValue("")}static{this.\u0275fac=function(i){return new(i||t)(g(ue),g(W),g(Y),g(Qo))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-estructura"]],decls:62,vars:22,consts:[["messageEstructura",""],["messageUnidadOrganizativa",""],["messageCentroCostos",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"row","justify-content-start"],[1,"col-6"],["bc-input","","aria-label","Input","type","text","id","inputComponentDescription","value","","maxlength","100","required","",3,"formControl"],["for","inputComponentDescription"],["label","Estructura Superior","ngDefaultControl","","icon","components","componentId","listStructure","required","",3,"formControl","formatType","filter","values"],["label","Lider de Componente","ngDefaultControl","","icon","user","componentId","listLeader","required","",3,"formControl","formatType","filter","values"],["label","Analista de Capacidad","ngDefaultControl","","icon","user","componentId","listAnalyst","required","",3,"formControl","formatType","filter","values"],[1,"col-4"],["bc-input","","aria-label","Input","type","number","id","inputLevel","value","","required","",3,"formControl","maxlength"],["for","inputLevel"],["class","col-4",4,"ngIf"],["tabindex","0",1,"bc-switch-container"],["id","idStructureType","type","checkbox",3,"change","formControl"],[1,"bc-switch"],[1,"bc-switch-round"],[1,"col-12"],["bc-input","","aria-label","Input","type","text","id","inputOrganizationalUnit","value","","maxlength","15","required","",3,"formControl"],["for","inputOrganizationalUnit"],["id","buttonCancel",1,"bc-button-small","bc-button-secondary",3,"click"],["id","btnSave",1,"bc-button-small","bc-button-primary",3,"click"],["bc-input","","aria-label","Input","type","text","id","inputCostCenter","maxlength","10","value","","required","",3,"formControl"],["for","inputCostCenter"]],template:function(i,o){if(i&1){let a=E();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),c(4),s()()()(),r(5,"div",3)(6,"div",7)(7,"div",8)(8,"bc-form-field")(9,"em"),c(10,"pencil-edit"),s(),C(11,"input",9,0),r(13,"label",10),c(14,"Descripci\xF3n Componente"),s(),r(15,"span"),c(16),s()()(),r(17,"div",8)(18,"bc-form-field"),C(19,"bc-input-select",11),s()()(),r(20,"div",7)(21,"div",8)(22,"bc-form-field"),C(23,"bc-input-select",12),s()(),r(24,"div",8)(25,"bc-form-field"),C(26,"bc-input-select",13),s()()(),r(27,"div",7)(28,"div",14)(29,"bc-form-field")(30,"em"),c(31,"chart-lines"),s(),C(32,"input",15),r(33,"label",16),c(34,"Nivel"),s()()(),h(35,H3,10,2,"div",17),r(36,"div",14)(37,"bc-form-field")(38,"label",18)(39,"input",19),_("change",function(d){return v(a),S(o.onTipoEstructuraChange(d))}),s(),r(40,"div",20),C(41,"div",21),s(),r(42,"span"),c(43),s()()()()(),r(44,"div",7)(45,"div",22)(46,"bc-form-field")(47,"em"),c(48,"car-id"),s(),C(49,"input",23,1),r(51,"label",24),c(52,"Id unidad organizativa"),s(),r(53,"span"),c(54),s()()()(),r(55,"div",7)(56,"div",8)(57,"button",25),_("click",function(){return v(a),S(o.onNoClick())}),c(58," Cancelar "),s()(),r(59,"div",8)(60,"button",26),_("click",function(){return v(a),S(o.onYesClick())}),c(61," Guardar "),s()()()()}if(i&2){let a=re(12),l=re(50);m(4),I(o.data.title),m(7),p("formControl",o.estructuraFormControl),m(5),T("",a.value.length," / 100"),m(3),p("formControl",o.estructuraPadreFormControl)("formatType","simple")("filter",!0)("values",o.estructuraList),m(4),p("formControl",o.personaLiderFormControl)("formatType","simple")("filter",!0)("values",o.personaList),m(3),p("formControl",o.personaCapacidadFormControl)("formatType","simple")("filter",!0)("values",o.personaList),m(6),p("formControl",o.nivelFormControl)("maxlength",o.maxLevel),m(3),p("ngIf",o.tipoEstructuraFormControl.value),m(4),p("formControl",o.tipoEstructuraFormControl),m(4),I(o.tipoEstructuraFormControl.value?"Estructura administrativa":"Estructura funcional"),m(6),p("formControl",o.unidadOrganizativaFormControl),m(5),T("",l.value.length," / 100")}},dependencies:[le,V,q,Li,yl,H,At,$t,G,te,ee,It],styles:['[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.hide[_ngcontent-%COMP%]{display:none!important}  .mat-select-panel{width:auto;max-width:100%}.bc-switch-container[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]:before{position:absolute;z-index:1;left:1px;top:1px;content:"";height:28px;width:28px;background-color:#fdda24;border-color:#fdda24;transition-property:background-color,transform,opacity;transition-duration:.4s;border-radius:32px}.bc-switch-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .bc-switch[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]{background-color:#fdda24;border-color:#fdda24;border-width:2px}.bc-switch-container[_ngcontent-%COMP%]   .bc-switch-round[_ngcontent-%COMP%]{position:absolute;inset:0;border-width:1px;border-radius:32px;background-color:transparent;border-style:solid;border-color:#fdda24;box-shadow:0 1px 2px #2c2a2914;width:52px;display:inline-block}']})}}return t})();var br=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetTablaPosicionEstructura="/posicion/gettablaposicionestructura",this.urlGetTablaPosiciones="/posicion/gettablaposiciones",this.urlGetParametrosPosicion="/posicion/getparametrosposicion",this.urlSetPosicion="/posicion/setposicion",this.urlUpdatePosicion="/posicion/updateposicion",this.urlDeletePosicion="/posicion/deleteposicion"}getTablaPosicionEstructura(e){let i=new be().set("idEstructura",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetTablaPosicionEstructura,{params:i})}getTablaPosiciones(e,i,o){let a;return e!=""?a=new be().set("page",i).set("limit",o).set("filter",e):a=new be().set("page",i).set("limit",o),this.http.get(this.configService.settings.apiUrl+this.urlGetTablaPosiciones,{params:a})}getParametrosPosicion(e){let i=new be().set("idPosicion",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetParametrosPosicion,{params:i})}setPosicion(e){let i=new be().set("parametros",e);return this.http.get(this.configService.settings.apiUrl+this.urlSetPosicion,{params:i})}updatePosicion(e,i){let o=new be().set("idPosicion",e).set("parametros",i);return this.http.get(this.configService.settings.apiUrl+this.urlUpdatePosicion,{params:o})}deletePosicion(e){let i=new be().set("idPosicion",e);return this.http.get(this.configService.settings.apiUrl+this.urlDeletePosicion,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q3=()=>[5,10];function G3(t,n){t&1&&(r(0,"th",17),c(1," Posici\xF3n "),s())}function U3(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsPosicion," ")}}function $3(t,n){t&1&&(r(0,"th",17),c(1," Estado Vacante "),s())}function Q3(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsEstadoVacante," ")}}function W3(t,n){t&1&&(r(0,"th",19),c(1," Persona "),s())}function K3(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.persona," ")}}function Y3(t,n){t&1&&(r(0,"th",17),c(1," C\xE9dula "),s())}function X3(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function Z3(t,n){t&1&&(r(0,"th",20),c(1," Correo "),s())}function J3(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.correo," ")}}function eT(t,n){t&1&&C(0,"tr",21)}function tT(t,n){t&1&&C(0,"tr",22)}var Ig=(()=>{class t{constructor(e,i,o){this.dialogRef=e,this.data=i,this.posicionService=o,this.displayedColumns=["dsPosicion","dsEstadoVacante","persona","cedula","correo"]}ngOnInit(){this.posicionService.getTablaPosicionEstructura(this.data.idEstructura).subscribe(e=>{e!=null&&(this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator&&this.dataSource.paginator.firstPage())})}static{this.\u0275fac=function(i){return new(i||t)(g(W),g(Y),g(br))}}static{this.\u0275cmp=D({type:t,selectors:[["app-mostrar-posicion-estructura"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:24,vars:6,consts:[["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsPosicion"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsEstadoVacante"],["matColumnDef","persona"],["mat-header-cell","","mat-sort-header","","class","persona",4,"matHeaderCellDef"],["matColumnDef","cedula"],["matColumnDef","correo"],["mat-header-cell","","mat-sort-header","","class","correo",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"persona"],["mat-header-cell","","mat-sort-header","",1,"correo"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"h2",0),c(1),s(),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"table",4),F(6,5),h(7,G3,2,0,"th",6)(8,U3,2,1,"td",7),R(),F(9,8),h(10,$3,2,0,"th",6)(11,Q3,2,1,"td",7),R(),F(12,9),h(13,W3,2,0,"th",10)(14,K3,2,1,"td",7),R(),F(15,11),h(16,Y3,2,0,"th",6)(17,X3,2,1,"td",7),R(),F(18,12),h(19,Z3,2,0,"th",13)(20,J3,2,1,"td",7),R(),h(21,eT,1,0,"tr",14)(22,tT,1,0,"tr",15),s(),C(23,"mat-paginator",16),s()()()),i&2&&(m(),T("Posiciones de la estructura: ",o.data.dsEstructura,""),m(4),p("dataSource",o.dataSource),m(16),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,q3)))},dependencies:[le,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae],styles:["table[_ngcontent-%COMP%]{width:100%}.maintable[_ngcontent-%COMP%]{padding:10px}.persona[_ngcontent-%COMP%]{width:25%}.correo[_ngcontent-%COMP%]{width:4%}"]})}}return t})();var iT=["inputstring"];function oT(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",22),_("onChange",function(o){v(e);let a=x(3);return S(a.openDialog(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function nT(t,n){if(t&1&&(r(0,"tr")(1,"td",19),c(2),s(),r(3,"td",19),c(4),s(),r(5,"td",19),c(6),s(),r(7,"td",19),c(8),s(),r(9,"td",19),c(10),s(),r(11,"td",19),c(12),s(),r(13,"td",19),c(14),s(),r(15,"td",20),h(16,oT,1,2,"bc-table-dropdown",21),s()()),t&2){let e=n.$implicit;m(2),I(e.dsEstructura),m(2),I(e.nivel),m(2),I(e.centroCostos),m(2),I(e.lider),m(2),I(e.analistaCapacidad),m(2),I(e.dsEstructuraPadre),m(2),I(e.structureType),m(2),p("ngIf",e.option.length>0)}}function aT(t,n){if(t&1){let e=E();r(0,"bc-table-container",12)(1,"bc-table-header",13)(2,"bc-paginator",14),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",15)(5,"thead")(6,"tr")(7,"th",16),c(8,"Descripci\xF3n Estructura (Componente)"),s(),r(9,"th",16),c(10,"Nivel"),s(),r(11,"th",16),c(12,"Centro de Costos"),s(),r(13,"th",16),c(14,"L\xEDder de Componente"),s(),r(15,"th",16),c(16,"Analista Capacidad"),s(),r(17,"th",16),c(18,"Estructura Superior"),s(),r(19,"th",16),c(20,"Tipo de estructura"),s(),C(21,"th",17),s()(),r(22,"tbody"),h(23,nT,17,8,"tr",18),s()()(),C(24,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("dropdownHtml",!0)("pairPaginators",!0),m(19),p("ngForOf",e.dataSource)}}var Tg=(()=>{class t{constructor(e,i,o){this.estructuraService=e,this.dialog=i,this.dialogService=o,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsEstructura","nivel","centroCostos","lider","analistaCapacidad","dsEstructuraPadre","acciones"],this.dataSource=[],this.successfulStatusCode=200,this.filter="",this.page=1,this.limit=6,this.getTablaEstructuras()}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getTablaEstructuras()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter="",this.getTablaEstructuras())}openDialog(e){e.optionSeleted.indexOf("Update")!==-1?this.openUpdateDialog(e.rowData):e.optionSeleted.indexOf("Positions")!==-1?this.openPositionsDialog(e.rowData):e.optionSeleted.indexOf("Activate")!==-1&&this.openActivateDialog(e.rowData)}openPositionsDialog(e){this.dialog.open(Ig,{width:"1000px",data:e})}openUpdateDialog(e){e.mode="update",e.title="Editar Estructura:",this.dialog.open(ep,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.getTablaEstructuras()})}openAddDialog(){let e={mode:"add",title:"Agregar Estructura:"};this.dialog.open(ep,{width:"1000px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.getTablaEstructuras()})}getTablaEstructuras(){this.estructuraService.getTablaEstructuras(this.filter,this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.structures.map(i=>rt(it({},i),{option:this.getOptions(i.estado)})),this.totalRegisters=e.body.data.totalRegisters):this.showMessage(e.body.data.message,"error","Obtener estructuras")})}openActivateDialog(e){e.mensaje=`\xBFRealmente desea ${e.estado=="A"?"INACTIVAR":"ACTIVAR"} la estructura?`,e.boton="Aceptar",this.dialog.open($e,{data:e}).afterClosed().subscribe(o=>{o&&this.estructuraService.updateEstadoEstructura(e.idEstructura).subscribe(a=>{a.error?this.showMessage(a.error,"error","Actualizar estructura"):(this.showMessage(a.response,"success","Actualizar estructura"),this.getTablaEstructuras())})})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"structure",type:i,text:e,title:o,timeout:5e3})}getOptions(e){return[{id:"Update",text:"Editar estructura",icon:"edit",action:this.openDialog},{id:"Positions",text:"Ver posiciones",icon:"widgets",action:this.openDialog},{id:"Activate",text:e=="I"?"Activar estructura":"Inactivar estructura",icon:e=="I"?"check":"error",action:this.openDialog}]}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getTablaEstructuras())}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getTablaEstructuras()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}static{this.\u0275fac=function(i){return new(i||t)(g(Qo),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-estructura"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7),L(iT,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:18,vars:11,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"col-8"],["id","inputParameterFilter","bc-input","","state","default","type","text","value","","required","",3,"keyup"],["for","50"],[1,"col-2"],["id","searchButton",2,"align-self","center",3,"click","type","size","color","shadow","customIcon"],[1,"col-1"],["id","btnAddStructure",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","dropdownHtml","pairPaginators"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","optionSelected",3,"row","options","onChange",4,"ngIf"],["id","optionSelected",3,"onChange","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4)(5,"bc-form-field")(6,"em"),c(7,"filter"),s(),r(8,"input",5,0),_("keyup",function(d){v(a);let u=re(9);return S(o.applyFilter(d,u.value))}),s(),C(10,"label",6),r(11,"span"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",7)(14,"bc-icon-button",8),_("click",function(){return v(a),S(o.searchInTable())}),s()(),r(15,"div",9)(16,"bc-icon-button",10),_("click",function(){return v(a),S(o.openAddDialog())}),s()()()()()(),h(17,aT,25,8,"bc-table-container",11)}i&2&&(m(14),p("type","solid")("size","small")("color","white")("shadow",!0)("customIcon","search"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.totalRegisters>0))},dependencies:[ae,V,te,ee,pt,mt,ct,dt,ut,_t,Kt,lt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:10%}.persona[_ngcontent-%COMP%]{width:20%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}"]})}}return t})();var ip=(()=>{class t{constructor(e,i,o,a){this._snackBar=e,this.dialogRef=i,this.data=o,this.posicionService=a,this.estadoVacanteList=[],this.descripcionPosicionFormControl=new O("",[A.required]),this.estadoVacanteFormControl=new O("",[]),this.estructuraFormControl=new O("",[]),this.personaAsignadaFormControl=new O("",[]),this.stateDescription="valid",this.datosTemp=null}ngOnInit(){this.posicionService.getParametrosPosicion(this.data.idPosicion).subscribe(e=>{this.estructuraList=e.estructuraList.map(i=>({value:i.idEstructura,label:i.dsEstructura})),this.estructuraList.unshift({value:"",label:"N/A"}),this.personaList=e.personaList.map(i=>({value:i.idPersona,label:i.nombre})),this.personaList.unshift({value:"",label:"N/A"}),this.estadoVacanteList=e.estadoVacanteList.map(i=>({value:i.idEstadoVacante,label:i.dsEstadoVacante})),this.estadoVacanteList.unshift({value:"",label:"N/A"}),this.data.mode=="update"&&(this.datosTemp=e,this.descripcionPosicionFormControl.setValue(e.dsPosicion),this.estadoVacanteFormControl.setValue(e.idEstadoVacante),this.estructuraFormControl.setValue(e.idEstructura),this.personaAsignadaFormControl.setValue(e.idPersona))})}onNoClick(){this.dialogRef.close()}onYesClick(){if(this.descripcionPosicionFormControl.markAsTouched(),!this.descripcionPosicionFormControl.valid)this.showMessage("Existen campos requeridos sin diligenciar");else{let e="";this.data.mode=="update"?(this.descripcionPosicionFormControl.value!=this.datosTemp.dsPosicion&&(e+="dsPosicion="+this.descripcionPosicionFormControl.value),this.estadoVacanteFormControl.value!=this.datosTemp.idEstadoVacante&&(e+=(e==""?"":",")+"idEstadoVacante="+this.estadoVacanteFormControl.value),this.estructuraFormControl.value!=this.datosTemp.idEstructura&&(e+=(e==""?"":",")+"idEstructura="+this.estructuraFormControl.value),this.personaAsignadaFormControl.value!=this.datosTemp.idPersona&&(e+=(e==""?"":",")+"idPersona="+this.personaAsignadaFormControl.value)):(e+="dsPosicion="+this.descripcionPosicionFormControl.value,e+=",idEstadoVacante="+this.estadoVacanteFormControl.value,e+=",idEstructura="+this.estructuraFormControl.value,e+=",idPersona="+this.personaAsignadaFormControl.value),this.data.filtro=this.descripcionPosicionFormControl.value,this.data.parametros=e,this.dialogRef.close({data:this.data})}}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}validateDescription(){this.descripcionPosicionFormControl.valid?this.stateDescription="valid":this.stateDescription="error"}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(br))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-posicion"]],decls:26,vars:15,consts:[["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],["bc-input","","aria-label","custom-aria-label","type","text","ngDefaultControl","","id","registrationCity",3,"focusout","state","formControl"],["label","Estado Vacante","ngDefaultControl","","icon","mixed-service","componentId","vacantStatus",3,"formControl","formatType","filter","values"],["label","Componente","ngDefaultControl","","icon","mixed-service","componentId","structureStatus",3,"formControl","formatType","filter","values"],["label","Persona Asignada","ngDefaultControl","","icon","mixed-service","componentId","personStatus",3,"formControl","formatType","filter","values"],[1,"row","justify-content-start"],[1,"col-4"],["cdkFocusInitial","",1,"bc-button-small","bc-button-secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click"]],template:function(i,o){i&1&&(r(0,"h2",0),c(1),s(),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"bc-form-field")(6,"input",4),_("focusout",function(){return o.validateDescription()}),s(),r(7,"span"),c(8,"Descripci\xF3n Posici\xF3n"),s()()(),r(9,"div",3)(10,"bc-form-field"),C(11,"bc-input-select",5),s()()(),r(12,"div",2)(13,"div",3)(14,"bc-form-field"),C(15,"bc-input-select",6),s()(),r(16,"div",3)(17,"bc-form-field"),C(18,"bc-input-select",7),s()()(),r(19,"div",8)(20,"div",9)(21,"button",10),_("click",function(){return o.onNoClick()}),c(22,"Cancelar"),s()(),r(23,"div",9)(24,"button",11),_("click",function(){return o.onYesClick()}),c(25,"Guardar"),s()()()()),i&2&&(m(),I(o.data.title),m(5),p("state",o.stateDescription)("formControl",o.descripcionPosicionFormControl),m(5),p("formControl",o.estadoVacanteFormControl)("formatType","simple")("filter",!0)("values",o.estadoVacanteList),m(4),p("formControl",o.estructuraFormControl)("formatType","simple")("filter",!0)("values",o.estructuraList),m(3),p("formControl",o.personaAsignadaFormControl)("formatType","simple")("filter",!0)("values",o.personaList))},dependencies:[le,q,H,G,te,ee,It],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:10px}.estadoVacante[_ngcontent-%COMP%], .descripcionPosicion[_ngcontent-%COMP%]{width:47%}.matformfield[_ngcontent-%COMP%]{font-size:14px;width:100%}"]})}}return t})();function sT(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",24),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function lT(t,n){if(t&1&&(r(0,"tr")(1,"td",21),c(2),s(),r(3,"td",21),c(4),s(),r(5,"td",21),c(6),s(),r(7,"td",21),c(8),s(),r(9,"td",21),c(10),s(),r(11,"td",21),c(12),s(),r(13,"td",22),h(14,sT,1,2,"bc-table-dropdown",23),s()()),t&2){let e=n.$implicit;m(2),I(e.dsPosicion),m(2),I(e.dsEstadoVacante),m(2),I(e.dsEstructura),m(2),I(e.personaLiderEstructura),m(2),I(e.personaAsignada),m(2),I(e.origen),m(2),p("ngIf",e.option.length>0)}}function cT(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"Descripci\xF3n Posici\xF3n"),s(),r(9,"th",18),c(10,"Estado Vacante"),s(),r(11,"th",18),c(12,"Descripci\xF3n Estructura (Componente)"),s(),r(13,"th",18),c(14,"L\xEDder de Componente"),s(),r(15,"th",18),c(16,"Persona Asignada"),s(),r(17,"th",18),c(18,"ID Solicitud"),s(),C(19,"th",19),s()(),r(20,"tbody"),h(21,lT,15,7,"tr",20),s()()(),C(22,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("dropdownHtml",!0)("pairPaginators",!0),m(17),p("ngForOf",e.dataSource)}}var Pg=(()=>{class t{constructor(e,i,o){this.posicionService=e,this.dialog=i,this.dialogService=o,this.filtroFormControl=new O("",[]),this.dataSource=[],this.successfulStatusCode=200,this.filter="",this.page=1,this.limit=6,this.getTablaPosiciones()}applyFilter(e){this.filter=e.trim().toLowerCase(),this.getTablaPosiciones()}openDialog(e,i){i==null&&(i={}),i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="Add"?this.openAddDialog(i):i.action=="Delete"&&this.openDeleteDialog(i)}openDeleteDialog(e){e.mensaje="\xBFRealmente desea eliminar la posici\xF3n "+e.dsPosicion+"?.  \xA1Esta acci\xF3n descartar\xE1 toda su historia y es irreversible!",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.posicionService.deletePosicion(o.data.idPosicion).subscribe(a=>{a.id==null?this.showMessage(a.mensaje,"success","Operacion exitosa"):(this.getTablaPosiciones(),this.showMessage(a.mensaje,"success","Operacion exitosa"))})})}openUpdateDialog(e){e.mode="update",e.title="Editar Posici\xF3n:",this.dialog.open(ip,{width:"700px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.posicionService.updatePosicion(o.data.idPosicion,o.data.parametros).subscribe(a=>{this.filtroFormControl.setValue(o.data.filtro),this.getTablaPosiciones(),this.showMessage(a.mensaje,"success","Operacion exitosa")})})}openAddDialog(e){e.mode="add",e.title="Agregar Posici\xF3n:",this.dialog.open(ip,{width:"700px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.posicionService.setPosicion(o.data.parametros).subscribe(a=>{a.id==null?this.showMessage(a.mensaje,"success","Operacion exitosa"):(this.filtroFormControl.setValue(o.data.filtro),this.getTablaPosiciones(),this.showMessage(a.mensaje,"success","Operacion exitosa"))})})}getTablaPosiciones(){this.posicionService.getTablaPosiciones(this.filtroFormControl.value.replace(/\s+/g,""),this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.positions.map(i=>rt(it({},i),{option:this.getOptions()})),this.totalRegisters=e.body.data.total):this.showMessage(e.body.data.message,"warning","\xA1Alerta!")})}getOptions(){let e=[];return e.push({id:"edit",text:"Editar Posici\xF3n",icon:"edit-document",action:this.optionSelected}),e.push({id:"delete",text:"Eliminar Posici\xF3n",icon:"error-small",action:this.optionSelected}),e}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getTablaPosiciones())}optionSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.openDialog("Update",e.rowData),e.optionSeleted.indexOf("delete")!==-1&&this.openDialog("Delete",e.rowData)}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"structure",type:i,text:e,title:o,timeout:5e3})}static{this.\u0275fac=function(i){return new(i||t)(g(br),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-posicion"]],decls:20,vars:17,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"col-8"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputPositionFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"bc-col-1"],["id","searchButton","bc-tooltip","","bcTooltipText","Buscar",3,"click","type","size","color","shadow","customIcon"],["id","divGeneralEntranceFilterButtons",1,"col-3"],["id","btnAddPosition","bc-tooltip","","bcTooltipText","Crear",3,"click","type","color","shadow","size","customIcon"],["id","btnAddMassivePosition","bc-tooltip","","bcTooltipText","Adjuntar",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","dropdownHtml","pairPaginators"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","optionSelected",3,"row","options","onChange",4,"ngIf"],["id","optionSelected",3,"onChange","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4)(5,"bc-form-field",5)(6,"em"),C(7,"bc-icon",6),s(),r(8,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(10,"label"),c(11,"Escriba el texto a buscar"),s()(),r(12,"bc-form-field",8)(13,"bc-icon-button",9),_("click",function(){return v(a),S(o.getTablaPosiciones())}),s()()(),r(14,"div",10)(15,"bc-form-field")(16,"bc-icon-button",11),_("click",function(){return v(a),S(o.openDialog("Add",null))}),s()(),r(17,"bc-form-field")(18,"bc-icon-button",12),_("click",function(){return v(a),S(o.openDialog("Masivo",null))}),s()()()()()()(),h(19,cT,23,8,"bc-table-container",13)}i&2&&(m(8),p("formControl",o.filtroFormControl),m(5),p("type","solid")("size","small")("color","white")("shadow",!0)("customIcon","search"),m(3),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","attachment"),m(),p("ngIf",o.totalRegisters>0))},dependencies:[ae,V,q,H,G,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:10%}.persona[_ngcontent-%COMP%]{width:20%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}  .bc-table-container .bc-table-header-top{min-height:0px!important}#divGeneralEntranceFilterButtons[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;gap:10px}"]})}}return t})();var Es=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idAplicativo=e)}};function dT(t,n){t&1&&(r(0,"mat-error"),c(1," Nombre aplicativo requerido "),s())}function pT(t,n){t&1&&(r(0,"mat-error"),c(1," Nombre aw requerido "),s())}function uT(t,n){t&1&&(r(0,"button",19),c(1,"Guardar"),s())}var op=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this.fb=i,this.dialogRef=o,this.data=a,this.aplicativoService=l,this._snackBar=d,this.buildForm()}buildForm(){this.aplicativo=this.fb.group({dsAplicativo:["",[A.required]],dsModulo:[""],aw:["",A.required]})}ngOnInit(){this.data.action=="Update"&&this.load(this.data.idAplicativo)}load(e){let i;this.aplicativoService.getById(e).pipe(Ce(()=>{this.aplicativo.patchValue({dsAplicativo:i.dsAplicativo,dsModulo:i.dsModulo,aw:i.aw})})).subscribe(o=>{o&&(i=o)})}showMessage(e){this._snackBar.open(e,"",{duration:5e4,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new Es(this.aplicativo.value);this.aplicativoService.insert(e).subscribe(i=>{i.error?this.showMessage(i.error):(this.showMessage(i.response),this.dialogRef.close(i.response))},i=>{this.showMessage("Error: "+i.toString()),this.dialogRef.close(),this.router.navigate(["/login"])})}else{let e=new Es(this.aplicativo.value,this.data.idAplicativo);this.aplicativoService.update(e).subscribe(i=>{i.error?this.showMessage(i.error):(this.showMessage(i.response),this.dialogRef.close(i.response))},i=>{this.showMessage("Error: "+i.toString()),this.dialogRef.close(),this.router.navigate(["/login"])})}}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(at),g(W),g(Y),g(en),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-aplicativo"]],decls:42,vars:11,consts:[["messageNombreAplicativo",""],["messageModulo",""],["messageAw",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","id","applicationName","maxlength","100",3,"formControl"],["align","end"],[4,"ngIf"],["matInput","","id","module","maxlength","100",3,"formControl"],["matInput","","id","aw","maxlength","100",3,"input","formControl"],[1,"col-6"],["id","submitAplication","class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],["id","submitAplication","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),c(4),s()(),r(5,"div",7)(6,"button",8),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",9),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(10,"div",10)(11,"div",11)(12,"mat-form-field")(13,"mat-label"),c(14,"Nombre aplicativo"),s(),C(15,"input",12,0),r(17,"mat-hint",13),c(18),s(),h(19,dT,2,0,"mat-error",14),s()()(),r(20,"div",10)(21,"div",11)(22,"mat-form-field")(23,"mat-label"),c(24,"M\xF3dulo"),s(),C(25,"input",15,1),r(27,"mat-hint",13),c(28),s()()()(),r(29,"div",10)(30,"div",11)(31,"mat-form-field")(32,"mat-label"),c(33,"AW"),s(),r(34,"input",16,2),_("input",function(){v(a);let d=re(35);return S(d.value=d.value.toUpperCase().trim())}),s(),r(36,"mat-hint",13),c(37),s(),h(38,pT,2,0,"mat-error",14),s()()(),r(39,"div",10)(40,"div",17),h(41,uT,2,0,"button",18),s()()()()}if(i&2){let a=re(16),l=re(26),d=re(35);m(4),I(o.data.title),m(5),p("formGroup",o.aplicativo),m(6),p("formControl",o.aplicativo.controls.dsAplicativo),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.aplicativo.controls.dsAplicativo.hasError("required")),m(6),p("formControl",o.aplicativo.controls.dsModulo),m(3),T("",l.value.length," / 100"),m(6),p("formControl",o.aplicativo.controls.aw),m(3),T("",d.value.length," / 100"),m(),p("ngIf",o.aplicativo.controls.aw.hasError("required")),m(3),p("ngIf",o.aplicativo.valid)}},dependencies:[le,X,Ee,_e,ve,Fi,et,V,Ye,q,H,Ke,$t,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();var fT=()=>[6,10,100,1e3];function hT(t,n){t&1&&(r(0,"th",18),c(1," Aplicativo "),s())}function gT(t,n){if(t&1&&(r(0,"td",19),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsAplicativo,"")}}function _T(t,n){t&1&&(r(0,"th",18),c(1," M\xF3dulo "),s())}function CT(t,n){if(t&1&&(r(0,"td",19),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsModulo,"")}}function bT(t,n){t&1&&(r(0,"th",18),c(1," AW "),s())}function vT(t,n){if(t&1&&(r(0,"td",19),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.aw," ")}}function ST(t,n){t&1&&(r(0,"th",20),c(1,"Acciones"),s())}function yT(t,n){t&1&&(r(0,"mat-icon",25),c(1,"clear"),s())}function xT(t,n){t&1&&(r(0,"mat-icon"),c(1,"done"),s())}function wT(t,n){if(t&1){let e=E();r(0,"td",19)(1,"div")(2,"button",21),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),r(3,"mat-icon"),c(4,"edit"),s()(),r(5,"button",22),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("UpdateState",o))}),h(6,yT,2,0,"mat-icon",23)(7,xT,2,0,"mat-icon",24),s()()()}if(t&2){let e=n.$implicit;m(2),Bt("id","",e.aw,"_edit"),p("disabled",e.estado!="A"),m(3),Bt("id","",e.aw,"_clear"),m(),p("ngIf",e.estado=="A"),m(),p("ngIf",e.estado=="I")}}function ET(t,n){t&1&&C(0,"tr",26)}function MT(t,n){t&1&&C(0,"tr",27)}var Dg=(()=>{class t{constructor(e,i,o,a,l){this.loginService=e,this.aplicativoService=i,this.dialog=o,this._snackBar=a,this.router=l,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsAplicativo","dsModulo","aw","acciones"]}ngOnInit(){this.getAplicativos(null)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAplicativos(e){let i=this.paginator.pageIndex;this.aplicativoService.getAll().pipe(Ce(()=>{this.applyFilter(this.filtroFormControl.value),this.dataSource.sort=this.sort,this.paginator.pageIndex=i,this.paginator.page.next({pageIndex:i,pageSize:this.paginator.pageSize,length:this.paginator.length})})).subscribe(o=>{o&&(this.dataSource=new Se(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()))},o=>(this.showMessage("Error "+o),!1))}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDialog(e,i){i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="UpdateState"?this.openEstadoDialog(i):i.action=="Add"&&this.openAddDialog(i)}openEstadoDialog(e){e.estado=="A"?(e.mensaje="\xBFRealmente desea inactivar el aplicativo?",e.boton="Inactivar"):(e.mensaje="\xBFRealmente desea activar el aplicativo?",e.boton="Activar"),this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.aplicativoService.updateEstado(e).subscribe(a=>{a.error?this.showMessage(a.error):(this.showMessage(a.response),this.ngOnInit())},a=>{this.showMessage("Error: "+a.toString()),this.router.navigate(["/login"])})})}openUpdateDialog(e){e.title="Modificar aplicativo : "+e.dsAplicativo,e.action="Update",e.boton="Modificar",this.dialog.open(op,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getAplicativos(null)})}openAddDialog(e){e.title="Agregar aplicativo:",e.action="Insert",e.boton="Guardar",this.dialog.open(op,{data:e,disableClose:!0}).afterClosed().subscribe(o=>{o!=null&&this.getAplicativos(null)})}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(en),g(Z),g(K),g(Ze))}}static{this.\u0275cmp=D({type:t,selectors:[["app-aplicativo"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:28,vars:6,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-11"],["matInput","","id","filterApplication","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-1"],["id","addAplication","matTooltip","Agregar Certificacion",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsAplicativo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsModulo"],["matColumnDef","aw"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"accion"],["matTooltip","Editar aplicativo",1,"bc-button-icon",3,"click","disabled","id"],["matTooltip","Cambiar estado aplicativo",1,"bc-button-icon",3,"click","id"],["color","warn",4,"ngIf"],[4,"ngIf"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field")(4,"mat-label"),c(5,"Filtro"),s(),r(6,"input",3),_("keyup",function(l){return o.applyFilter(l.target.value)}),s()()(),r(7,"div",4)(8,"button",5),_("click",function(){return o.openDialog("Add",o.loginService.getData())}),r(9,"mat-icon"),c(10,"add"),s()()()()(),r(11,"div",6)(12,"table",7),F(13,8),h(14,hT,2,0,"th",9)(15,gT,2,1,"td",10),R(),F(16,11),h(17,_T,2,0,"th",9)(18,CT,2,1,"td",10),R(),F(19,12),h(20,bT,2,0,"th",9)(21,vT,2,1,"td",10),R(),F(22,13),h(23,ST,2,0,"th",14)(24,wT,8,7,"td",10),R(),h(25,ET,1,0,"tr",15)(26,MT,1,0,"tr",16),s(),C(27,"mat-paginator",17),s()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(6),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,fT)))},dependencies:[X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:17%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return t})();var _a=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idGestionGasto=e)}};function TT(t,n){t&1&&(r(0,"mat-error"),c(1," Nombre gasto requerido "),s())}function PT(t,n){t&1&&(r(0,"button",14),c(1,"Guardar"),s())}var np=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this.gestionGastoService=a,this._snackBar=l,this.successfulStatusCode=200,this.buildForm()}buildForm(){this.gestionGasto=this.fb.group({dsGestionGasto:["",[A.required]]})}ngOnInit(){this.data.action=="Update"&&this.load(this.data.idGestionGasto)}load(e){let i;this.gestionGastoService.getExpenseManagementById(e).pipe(Ce(()=>{this.gestionGasto.patchValue({dsGestionGasto:i.dsGestionGasto})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.spent:this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e4,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new _a(this.gestionGasto.value);this.gestionGastoService.insertExpenseManagement(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message),this.dialogRef.close(i.body.data.message)):(this.showMessage(i.body.data.message),this.dialogRef.close())})}else{let e=new _a(this.gestionGasto.value,this.data.idGestionGasto);this.gestionGastoService.updateExpenseManagement(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message),this.dialogRef.close(i.body.data.message)):(this.showMessage(i.body.data.message),this.dialogRef.close())})}}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g($a),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-gestion-gasto"]],decls:23,vars:6,consts:[["messageNombreGasto",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","closePopupExpense",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","id","expenseName","maxlength","100",3,"formControl"],["align","end"],[4,"ngIf"],["id","sendExpense","class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],["id","sendExpense","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",7),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(10,"div",8)(11,"div",9)(12,"mat-form-field")(13,"mat-label"),c(14,"Nombre gasto"),s(),C(15,"input",10,0),r(17,"mat-hint",11),c(18),s(),h(19,TT,2,0,"mat-error",12),s()()(),r(20,"div",8)(21,"div",9),h(22,PT,2,0,"button",13),s()()()()}if(i&2){let a=re(16);m(4),I(o.data.title),m(5),p("formGroup",o.gestionGasto),m(6),p("formControl",o.gestionGasto.controls.dsGestionGasto),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.gestionGasto.controls.dsGestionGasto.hasError("required")),m(3),p("ngIf",o.gestionGasto.valid)}},dependencies:[le,X,Ee,_e,ve,Fi,et,V,Ye,q,H,Ke,$t,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}"]})}}return t})();var DT=()=>[6,10,100,1e3];function FT(t,n){t&1&&(r(0,"th",17),c(1," GASTO "),s())}function RT(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsGestionGasto,"")}}function kT(t,n){t&1&&(r(0,"th",17),c(1," ESTADO "),s())}function AT(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.estado," ")}}function OT(t,n){t&1&&(r(0,"th",19),c(1,"Acciones"),s())}function VT(t,n){t&1&&(r(0,"mat-icon",24),c(1,"clear"),s())}function NT(t,n){t&1&&(r(0,"mat-icon"),c(1,"done"),s())}function BT(t,n){if(t&1){let e=E();r(0,"td",18)(1,"div")(2,"button",20),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),r(3,"mat-icon"),c(4,"edit"),s()(),r(5,"button",21),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("UpdateState",o))}),h(6,VT,2,0,"mat-icon",22)(7,NT,2,0,"mat-icon",23),s()()()}if(t&2){let e=n.$implicit,i=x();m(2),Bt("id","edit",e.dsGestionGasto,""),p("disabled",e.estado!=i.estadoUtil.ACTIVO),m(3),Bt("id","status",e.dsGestionGasto,""),m(),p("ngIf",e.estado==i.estadoUtil.ACTIVO),m(),p("ngIf",e.estado==i.estadoUtil.INACTIVO)}}function LT(t,n){t&1&&C(0,"tr",25)}function jT(t,n){t&1&&C(0,"tr",26)}var Fg=(()=>{class t{constructor(e,i,o){this.gestionGastoService=e,this.dialog=i,this._snackBar=o,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsGestionGasto","estado","acciones"],this.successfulStatusCode=200,this.page=1,this.limit=6,this.length=0,this.waitTime=500,this.estadoUtil={ACTIVO:"ACTIVO",INACTIVO:"INACTIVO"}}ngOnInit(){this.filtroFormControl.valueChanges.pipe(Gi(this.waitTime)).subscribe(e=>{this.paginator.firstPage(),this.getExpenseManagement()}),this.getExpenseManagement()}getExpenseManagement(){this.gestionGastoService.getAllExpenseManagement(this.filtroFormControl.value,this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=new Se(e.body.data.expenses),this.length=e.body.data.total):(this.showMessage(e.body.data.message),this.dataSource=new Se([]))})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.getExpenseManagement()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDialog(e,i){i.action=e,e=="Update"?this.openDialogUpdateExpenseManagement(i):e=="UpdateState"&&this.openDialogUpdateStatusExpenseManagement(i)}openDialogAddExpenseManagement(){let e={title:"Agregar gasto:",action:"Insert",boton:"Guardar"};this.dialog.open(np,{data:e,disableClose:!0}).afterClosed().subscribe(o=>{o!=null&&this.getExpenseManagement()})}openDialogUpdateExpenseManagement(e){e.title="Modificar gasto : "+e.dsGestionGasto,e.action="Update",e.boton="Modificar",this.dialog.open(np,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getExpenseManagement()})}openDialogUpdateStatusExpenseManagement(e){e.estado==this.estadoUtil.ACTIVO?(e.mensaje="\xBFRealmente desea inactivar el gasto?",e.boton="Inactivar"):(e.mensaje="\xBFRealmente desea activar el gasto?",e.boton="Activar"),this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{if(o!=null){let a=new _a(null,e.idGestionGasto);this.gestionGastoService.updateStatusExpenseManagement(a).subscribe(l=>{l.statusCode===this.successfulStatusCode?(this.showMessage(l.body.data.message),this.ngOnInit()):this.showMessage(l.body.data.message)})}})}static{this.\u0275fac=function(i){return new(i||t)(g($a),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-gestion-gasto"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first)}},decls:25,vars:8,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-11"],["matInput","","id","expenseFilter","placeholder","Escriba el texto a buscar",3,"formControl"],[1,"col-1"],["id","addExpense","matTooltip","Agregar Gasto",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsGestionGasto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"accion"],["matTooltip","Editar Gasto",1,"bc-button-icon",3,"click","id","disabled"],["matTooltip","Cambiar estado del gasto",1,"bc-button-icon",3,"click","id"],["color","warn",4,"ngIf"],[4,"ngIf"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field")(4,"mat-label"),c(5,"Filtro"),s(),C(6,"input",3),s()(),r(7,"div",4)(8,"button",5),_("click",function(){return o.openDialogAddExpenseManagement()}),r(9,"mat-icon"),c(10,"add"),s()()()()(),r(11,"div",6)(12,"table",7),F(13,8),h(14,FT,2,0,"th",9)(15,RT,2,1,"td",10),R(),F(16,11),h(17,kT,2,0,"th",9)(18,AT,2,1,"td",10),R(),F(19,12),h(20,OT,2,0,"th",13)(21,BT,8,7,"td",10),R(),h(22,LT,1,0,"tr",14)(23,jT,1,0,"tr",15),s(),r(24,"mat-paginator",16),_("page",function(l){return o.pageEvent=l,o.changePage(o.pageEvent)}),s()()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(6),p("dataSource",o.dataSource),m(10),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,DT)))},dependencies:[X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:17%}"]})}}return t})();var vr=(()=>{class t{constructor(e,i){this.router=e,this.dialog=i}start(e){return this.dialog.open(Rf,{disableClose:!0,data:e==""||e==null?"Loading...":e})}stop(e){e.close()}static{this.\u0275fac=function(i){return new(i||t)(ie(Ze),ie(Z))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Rg=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetSoapUsmStatusService="/estadoservicio/get-soap-usm-status-service"}getSoapUsmStatusService(){return this.http.get(this.configService.settings.apiUrl+this.urlGetSoapUsmStatusService)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function GT(t,n){t&1&&(r(0,"th",11),c(1,"Servicio"),s())}function UT(t,n){if(t&1&&(r(0,"td",12),c(1),s()),t&2){let e=n.$implicit;m(),I(e.descripcion)}}function $T(t,n){t&1&&(r(0,"th",13),c(1,"Acciones"),s())}function QT(t,n){if(t&1){let e=E();r(0,"button",16),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.getLog(o))}),r(1,"mat-icon"),c(2,"get_app"),s()()}}function WT(t,n){if(t&1){let e=E();r(0,"td",12)(1,"button",14),_("click",function(){let o=v(e).$implicit,a=x();return S(a.viewStatus(o))}),r(2,"mat-icon"),c(3,"loop"),s()(),h(4,QT,3,0,"button",15),s()}if(t&2){let e=n.$implicit;m(4),p("ngIf",!!e.stackTrace)}}function KT(t,n){t&1&&(r(0,"th",11),c(1,"Estado"),s())}function YT(t,n){t&1&&(r(0,"mat-icon",20),c(1,"check_circle"),s())}function XT(t,n){t&1&&(r(0,"mat-icon",21),c(1,"error"),s())}function ZT(t,n){if(t&1&&(r(0,"td",17),h(1,YT,2,0,"mat-icon",18)(2,XT,2,0,"mat-icon",19),s()),t&2){let e=n.$implicit;p("ngSwitch",e.status),m(),p("ngSwitchCase",!0),m(),p("ngSwitchCase",!1)}}function JT(t,n){t&1&&C(0,"tr",22)}function eP(t,n){t&1&&C(0,"tr",23)}var kg=(()=>{class t{constructor(e,i,o,a){this.dialog=e,this.spinnerService=i,this.estadoServicioService=o,this._snackBar=a,this.displayedColumns=["descripcion","actions","status"]}ngOnInit(){this.initDataSource()}initDataSource(){let e=[{descripcion:"Pedidos USM SOAP",getStatusService:()=>this.estadoServicioService.getSoapUsmStatusService(),status:null,stackTrace:null}];this.dataSource=new Se(e)}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}viewStatus(e){var i=this.spinnerService.start("Por favor espere");e.getStatusService().pipe(Ce(()=>{this.spinnerService.stop(i)})).subscribe(o=>{e.status=o.body.data.active,o.statusCode!=200&&(e.stackTrace=o.body.data.stacktrace,this.showMessage(o.body.data.message))})}getLog(e){let i=new Blob([e.stackTrace],{type:".txt"}),o=document.createElement("a"),a=URL.createObjectURL(i);o.href=a,o.download=`LOG-${new Date().toJSON().slice(0,10)}.txt`,document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(a)},0)}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(vr),g(Rg),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-estado-servicios"]],decls:13,vars:3,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","descripcion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Comprobar estado",1,"bc-button-icon",3,"click"],["class","bc-button-icon","matTooltip","Descargar log",3,"click",4,"ngIf"],["matTooltip","Descargar log",1,"bc-button-icon",3,"click"],["mat-cell","",3,"ngSwitch"],["class","icon-green-color",4,"ngSwitchCase"],["class","icon-red-color",4,"ngSwitchCase"],[1,"icon-green-color"],[1,"icon-red-color"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"table",1),F(2,2),h(3,GT,2,0,"th",3)(4,UT,2,1,"td",4),R(),F(5,5),h(6,$T,2,0,"th",6)(7,WT,5,1,"td",4),R(),F(8,7),h(9,KT,2,0,"th",3)(10,ZT,3,3,"td",8),R(),h(11,JT,1,0,"tr",9)(12,eP,1,0,"tr",10),s()()),i&2&&(m(),p("dataSource",o.dataSource),m(10),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns))},dependencies:[X,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,ao,ro],styles:["table[_ngcontent-%COMP%]{width:100%}.icon-green-color[_ngcontent-%COMP%]{color:green}.icon-red-color[_ngcontent-%COMP%]{color:red}"]})}}return t})();var kc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlListHcri="/homologacionCategoriaRolInterno/list-hcris-paginated",this.urlGetHcriById="/homologacionCategoriaRolInterno/get-hcri-by-id",this.urlInsertHcri="/homologacionCategoriaRolInterno/insert-hcri",this.urlUpdateHcri="/homologacionCategoriaRolInterno/update-hcri",this.urlToggleHcriStatus="/homologacionCategoriaRolInterno/toggle-hcri-status"}listHcri(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlListHcri,{params:a})}insertHcri(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertHcri,e)}getHcriById(e){let i=new be().set(e?"idHcri":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlGetHcriById,{params:i})}updateHcri(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateHcri,e)}toggleHcriStatus(e){let i=new be().set(e?"idHcri":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlToggleHcriStatus,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rp=(()=>{class t{constructor(e,i,o,a,l,d,u){this.fb=e,this.rolService=i,this.perfilService=o,this.homologacionCategoriaRolInternoService=a,this.data=l,this.dialogService=d,this.dialogRef=u,this.roleOptions=[],this.profileOptions=[]}ngOnInit(){this.buildForm(),this.listProfile(),this.data.action=="Update"&&this.loadHcri(this.data.idHomologacionCategoriaRolInterno)}loadHcri(e){this.homologacionCategoriaRolInternoService.getHcriById(e).subscribe(i=>{if(i.statusCode===200){let{homologacion:o,idRolPerfil:a,idPerfil:l}=i.body.data.homologacionCategoriaRolInterno;this.homologacionForm.patchValue({homologacion:o,perfil:l,rol:a})}})}buildForm(){this.homologacionForm=this.fb.group({homologacion:["",[A.required]],perfil:["",[A.required]],rol:["",[A.required]]})}listProfile(){this.perfilService.getPerfilByCompany("EM5","").subscribe(e=>{e.statusCode==200&&(this.profileOptions=e.body.data.objects.map(i=>({label:i.name,value:i.profileId})))})}listRolesByProfile(e){this.rolService.listRolesByProfile(e).subscribe(i=>{i.statusCode==200&&(this.roleOptions=i.body.data.rols.map(o=>({label:o.nombre,value:o.idRolPerfil})))})}selectedProfile(e){this.listRolesByProfile(e)}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onSubmit(){let{homologacion:e,rol:i}=this.homologacionForm.value,o={homologacion:e,idRolPerfil:i};this.data.action=="Insert"?this.homologacionCategoriaRolInternoService.insertHcri(o).subscribe(a=>{a?a.statusCode==200?(this.showMessage(a.body.data.message,"success","Crear homologaci\xF3n"),this.dialogRef.close({data:this.data})):this.showMessage(a.body.data.message,"error","Crear homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Crear homologaci\xF3n")}):this.homologacionCategoriaRolInternoService.updateHcri(rt(it({},o),{idHomologacionCategoriaRolInterno:this.data.idHomologacionCategoriaRolInterno})).subscribe(a=>{a?a.statusCode==200?(this.showMessage(a.body.data.message,"success","Actualizar homologaci\xF3n"),this.dialogRef.close({data:this.data})):this.showMessage(a.body.data.message,"error","Actualizar homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Actualizar homologaci\xF3n")})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(Ol),g(us),g(kc),g(Y),g(ue),g(W))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-homologacion-categoria-rol-internos"]],decls:21,vars:8,consts:[[1,"bc-container"],[1,"bc-row","bc-my-4"],[1,"bc-col-12"],[3,"formGroup"],["id","inputInternalHomologation","bc-input","","state","default","type","text","value","","formControlName","homologacion","required","","ngDefaultControl",""],["for","01"],[1,"bc-col-6"],["componentId","profileSelect","formatType","'simple'","formControlName","perfil","ngDefaultControl","",3,"valueOutput","filter","values","label"],["componentId","roleSelect","formatType","'simple'","formControlName","rol","ngDefaultControl","",3,"filter","values","label"],["bc-button","","id","btnSave","sizeButton","small","typeButton","Primary",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),c(4),s()()(),r(5,"form",3)(6,"div",1)(7,"div",2)(8,"bc-form-field"),C(9,"input",4),r(10,"label",5),c(11,"Homologaci\xF3n"),s()()()(),r(12,"div",1)(13,"div",6)(14,"bc-input-select",7),_("valueOutput",function(l){return o.selectedProfile(l)}),s()(),r(15,"div",6),C(16,"bc-input-select",8),s()()(),r(17,"div",1)(18,"div",2)(19,"button",9),_("click",function(){return o.onSubmit()}),c(20," Guardar "),s()()()()),i&2&&(m(4),I(o.data.title),m(),p("formGroup",o.homologacionForm),m(9),p("filter",!0)("values",o.profileOptions)("label","Cargo"),m(2),p("filter",!0)("values",o.roleOptions)("label","Rol"))},dependencies:[Ye,q,H,Ke,At,Je,ni,kt,te,ee,It]})}}return t})();var iP=["inputstring"];function oP(t,n){t&1&&(F(0),c(1,"ACTIVO"),R())}function nP(t,n){t&1&&(F(0),c(1,"INACTIVO"),R())}function aP(t,n){if(t&1){let e=E();F(0),r(1,"bc-icon-button",27),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.toggleHcri(o))}),s(),R()}t&2&&(m(),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","error"))}function rP(t,n){if(t&1){let e=E();F(0),r(1,"bc-icon-button",28),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.toggleHcri(o))}),s(),R()}t&2&&(m(),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","ok"))}function sP(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",21),c(2),s(),r(3,"td",21),c(4),s(),r(5,"td",21),c(6),s(),r(7,"td",22),h(8,oP,2,0,"ng-container",23)(9,nP,2,0,"ng-container",23),s(),r(10,"td",24)(11,"bc-icon-button",25),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.updateHcri(o))}),s()(),r(12,"td",26),h(13,aP,2,5,"ng-container",23)(14,rP,2,5,"ng-container",23),s()()}if(t&2){let e=n.$implicit;m(2),I(e.homologacion),m(2),I(e.nombrePerfil),m(2),I(e.nombreRol),m(),p("ngSwitch",e.estado),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","edit"),m(),p("ngSwitch",e.estado),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I")}}function lP(t,n){if(t&1){let e=E();r(0,"bc-table-container",13)(1,"bc-table-header",14)(2,"bc-paginator",15),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",16)(5,"thead")(6,"tr")(7,"th",17),c(8,"Homologaci\xF3n"),s(),r(9,"th",18),c(10,"Cargo"),s(),r(11,"th",18),c(12,"Rol"),s(),r(13,"th",18),c(14,"Estado"),s(),C(15,"th",19)(16,"th",19),s()(),r(17,"tbody"),h(18,sP,15,14,"tr",20),s()()(),C(19,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.tableAccCurrentPage),m(2),p("totalRegisters",e.TotalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0)("dropdownHtml",!0),m(14),p("ngForOf",e.tableAccCurrentPage)}}var Og=(()=>{class t{constructor(e,i,o){this.homologacionCategoriaRolInternoService=e,this.dialog=i,this.dialogService=o,this.page=1,this.limit=6,this.filter=null,this.TotalRegisters=0,this.tableAccCurrentPage=[],this.dataSources=[],this.successStatusCode=200,this.filtroFormControl=new O("",[])}ngOnInit(){this.listHcri()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listHcri()}listHcri(){this.homologacionCategoriaRolInternoService.listHcri(this.filter,this.page,this.limit).subscribe(e=>{e?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.homologacionCategoriaRolInternos),this.TotalRegisters=e.body.data.total,this.dataSources=e.body.data.homologacionCategoriaRolInternos,this.movements=[this.dataSources],this.tableAccCurrentPage=this.movements[0]):this.showMessage(e.body.data.message,"error","Listar homologaciones"):this.showMessage("No se recibe objeto respuesta del servidor","error","Listar homologaciones")})}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listHcri()):this.showMessage("Escriba el texto a buscar","warning","Listar homologaciones"):i===""&&(this.filter=null,this.listHcri())}search(){this.filterHcri.nativeElement.value.replace(/\s+/g,"")!==""?(this.page=1,this.filter=this.filterHcri.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listHcri()):this.showMessage("Escriba el texto a buscar","warning","Listar homologaciones")}createHcri(){let e={title:"Agregar homologaci\xF3n categoria rol interno:",boton:"Guardar",action:"Insert"};this.dialog.open(rp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listHcri()})}updateHcri(e){e.title="Actualizar homologaci\xF3n categoria rol interno:",e.boton="Actualizar",e.action="Update",this.dialog.open(rp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listHcri()})}toggleHcri(e){let i=null;e.mensaje="\xBFRealmente desea "+(e.estado=="A"?"Inactivar":"Activar")+" la homologaci\xF3n?",e.boton=e.estado=="A"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e}),i.afterClosed().subscribe(o=>{o!=null&&this.homologacionCategoriaRolInternoService.toggleHcriStatus(e.idHomologacionCategoriaRolInterno).subscribe(a=>{a?a.statusCode==200?(this.showMessage(a.body.data.message,"success","Activar/inactivar homologaci\xF3n"),this.listHcri()):this.showMessage(a.body.data.message,"error","Activar/inactivar homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Crear homologaci\xF3n")})})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listHcri())}static{this.\u0275fac=function(i){return new(i||t)(g(kc),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-homologacion-categoria-rol-internos"]],viewQuery:function(i,o){if(i&1&&L(iP,7),i&2){let a;j(a=z())&&(o.filterHcri=a.first)}},decls:15,vars:11,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-11"],[1,"bc-col-10"],[1,"bc-col-12"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","id","HcriFilter","aria-label","custom-aria-label","type","text","value","","required","",3,"keyup"],["for","526"],["id","searchHcri",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],[1,"col-1",2,"align-self","center"],["id","createHcri","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col","fixed","true"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["type","action","bc-cell",""],["id","updateHcri","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Editar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["type","action","bc-cell","",3,"ngSwitch"],["id","toggleHcri","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Desactivar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["id","toggleHcri","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Activar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-search-content-items",4)(4,"bc-form-field",5)(5,"em"),C(6,"bc-icon",6),s(),r(7,"input",7,0),_("keyup",function(d){v(a);let u=re(8);return S(o.applyFilter(d,u.value))}),s(),r(9,"label",8),c(10,"Escriba el texto a buscar"),s()(),r(11,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()(),r(12,"div",10)(13,"bc-icon-button",11),_("click",function(){return v(a),S(o.createHcri())}),s()()(),h(14,lP,20,8,"bc-table-container",12),s()}i&2&&(m(11),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","search"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.tableAccCurrentPage.length>0))},dependencies:[ae,V,ao,ro,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();var Ac=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlListHcre="/homologacionCategoriaRolExterno/list-hcres-paginated",this.urlGetHcreById="/homologacionCategoriaRolExterno/get-hcre-by-id",this.urlInsertHcre="/homologacionCategoriaRolExterno/insert-hcre",this.urlUpdateHcre="/homologacionCategoriaRolExterno/update-hcre",this.urlToggleHcreStatus="/homologacionCategoriaRolExterno/toggle-hcre-status"}listHcre(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlListHcre,{params:a})}insertHcre(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertHcre,e)}getHcreById(e){let i=new be().set(e?"idHcre":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlGetHcreById,{params:i})}updateHcre(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateHcre,e)}toggleHcreStatus(e){let i=new be().set(e?"idHcre":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlToggleHcreStatus,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lp=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.categoriaService=i,this.homologacionCategoriaRolExternoService=o,this.data=a,this.dialogService=l,this.dialogRef=d,this.structureOptions=[],this.subCategorieOptions=[],this.categorieOptions=[]}ngOnInit(){this.buildForm(),this.listCategorie(),this.data.action=="Update"&&this.loadHcre(this.data.idHomologacionCategoriaRolExterno)}loadHcre(e){this.homologacionCategoriaRolExternoService.getHcreById(e).subscribe(i=>{if(i.statusCode===200){let{homologacion:o,idCategoria:a,idSubCategoria:l}=i.body.data.homologacionCategoriaRolExterno;this.homologacionForm.patchValue({homologacion:o,categoria:a,subCategoria:l})}else this.showMessage(i.body.data.message,"error","Cargar homologaci\xF3n")})}buildForm(){this.homologacionForm=this.fb.group({homologacion:["",[A.required]],categoria:["",[A.required]],subCategoria:["",[A.required]]})}listCategorie(){this.categoriaService.getAllPerfiles().subscribe(e=>{e&&(this.categorieOptions=e.map(i=>({label:i.dsCategoria,value:i.idCategoria})))})}listRolesByCategorie(e){this.categoriaService.getRolesByPerfil(e).subscribe(i=>{i&&(this.subCategorieOptions=i.map(o=>({label:o.dsCategoria,value:o.idCategoria})))})}selectedCategorie(e){this.listRolesByCategorie(e)}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onSubmit(){let{homologacion:e,categoria:i,subCategoria:o}=this.homologacionForm.value,a={homologacion:e,idCategoria:i,idSubCategoria:o};this.data.action=="Insert"?this.homologacionCategoriaRolExternoService.insertHcre(a).subscribe(l=>{l?l.statusCode==200?(this.showMessage(l.body.data.message,"success","Crear homologaci\xF3n"),this.dialogRef.close({data:this.data})):this.showMessage(l.body.data.message,"error","Crear homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Crear homologaci\xF3n")}):this.homologacionCategoriaRolExternoService.updateHcre(rt(it({},a),{idHomologacionCategoriaRolExterno:this.data.idHomologacionCategoriaRolExterno})).subscribe(l=>{l?l.statusCode==200?(this.showMessage(l.body.data.message,"success","Actualizar homologaci\xF3n"),this.dialogRef.close({data:this.data})):this.showMessage(l.body.data.message,"error","Actualizar homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Actualizar homologaci\xF3n")})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(In),g(Ac),g(Y),g(ue),g(W))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-homologacion-categoria-rol-externos"]],decls:21,vars:8,consts:[[1,"bc-container"],[1,"bc-row","bc-my-4"],[1,"bc-col-12"],[3,"formGroup"],["id","inputExternalHomologation","bc-input","","state","default","type","text","value","","formControlName","homologacion","required","","ngDefaultControl",""],["for","inputExternalHomologation"],[1,"bc-col-6"],["componentId","externalHomologationcategorySelect","formatType","'simple'","formControlName","categoria","ngDefaultControl","",3,"valueOutput","filter","values","label"],["componentId","externalHomologationsubCategorySelect","formatType","'simple'","formControlName","subCategoria","ngDefaultControl","",3,"filter","values","label"],["bc-button","","id","saveExternalHomologation","sizeButton","small","typeButton","Primary",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),c(4),s()()(),r(5,"form",3)(6,"div",1)(7,"div",2)(8,"bc-form-field"),C(9,"input",4),r(10,"label",5),c(11,"Homologaci\xF3n"),s()()()(),r(12,"div",1)(13,"div",6)(14,"bc-input-select",7),_("valueOutput",function(l){return o.selectedCategorie(l)}),s()(),r(15,"div",6),C(16,"bc-input-select",8),s()()(),r(17,"div",1)(18,"div",2)(19,"button",9),_("click",function(){return o.onSubmit()}),c(20," Guardar "),s()()()()),i&2&&(m(4),I(o.data.title),m(),p("formGroup",o.homologacionForm),m(9),p("filter",!0)("values",o.categorieOptions)("label","Categor\xEDa"),m(2),p("filter",!0)("values",o.subCategorieOptions)("label","SubCategor\xEDa"))},dependencies:[Ye,q,H,Ke,At,Je,ni,kt,te,ee,It]})}}return t})();var mP=["inputstring"];function dP(t,n){t&1&&(F(0),c(1,"ACTIVO"),R())}function pP(t,n){t&1&&(F(0),c(1,"INACTIVO"),R())}function uP(t,n){if(t&1){let e=E();F(0),r(1,"bc-icon-button",27),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.toggleHcre(o))}),s(),R()}t&2&&(m(),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","error"))}function fP(t,n){if(t&1){let e=E();F(0),r(1,"bc-icon-button",28),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.toggleHcre(o))}),s(),R()}t&2&&(m(),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","ok"))}function hP(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",21),c(2),s(),r(3,"td",21),c(4),s(),r(5,"td",21),c(6),s(),r(7,"td",22),h(8,dP,2,0,"ng-container",23)(9,pP,2,0,"ng-container",23),s(),r(10,"td",24)(11,"bc-icon-button",25),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.updateHcre(o))}),s()(),r(12,"td",26),h(13,uP,2,5,"ng-container",23)(14,fP,2,5,"ng-container",23),s()()}if(t&2){let e=n.$implicit;m(2),I(e.homologacion),m(2),I(e.dsCategoria),m(2),I(e.dsSubCategoria),m(),p("ngSwitch",e.estado),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","edit"),m(),p("ngSwitch",e.estado),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I")}}function gP(t,n){if(t&1){let e=E();r(0,"bc-table-container",13)(1,"bc-table-header",14)(2,"bc-paginator",15),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",16)(5,"thead")(6,"tr")(7,"th",17),c(8,"Homologaci\xF3n"),s(),r(9,"th",18),c(10,"Categor\xEDa"),s(),r(11,"th",18),c(12,"SubCategor\xEDa"),s(),r(13,"th",18),c(14,"Estado"),s(),C(15,"th",19)(16,"th",19),s()(),r(17,"tbody"),h(18,hP,15,14,"tr",20),s()()(),C(19,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.tableAccCurrentPage),m(2),p("totalRegisters",e.TotalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0)("dropdownHtml",!0),m(14),p("ngForOf",e.tableAccCurrentPage)}}var Ng=(()=>{class t{constructor(e,i,o){this.homologacionCategoriaRolExternoService=e,this.dialog=i,this.dialogService=o,this.page=1,this.limit=6,this.filter=null,this.TotalRegisters=0,this.tableAccCurrentPage=[],this.dataSources=[],this.successStatusCode=200,this.filtroFormControl=new O("",[])}ngOnInit(){this.listHcre()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listHcre()}listHcre(){this.homologacionCategoriaRolExternoService.listHcre(this.filter,this.page,this.limit).subscribe(e=>{e?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.homologacionCategoriaRolExternos),this.TotalRegisters=e.body.data.total,this.dataSources=e.body.data.homologacionCategoriaRolExternos,this.movements=[this.dataSources],this.tableAccCurrentPage=this.movements[0]):this.showMessage(e.body.data.message,"error","Listar homologaciones"):this.showMessage("No se recibe objeto respuesta del servidor","error","Listar homologaciones")})}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listHcre()):this.showMessage("Escriba el texto a buscar","warning","Listar homologaciones"):i===""&&(this.filter=null,this.listHcre())}search(){this.filterHcre.nativeElement.value.replace(/\s+/g,"")!==""?(this.page=1,this.filter=this.filterHcre.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listHcre()):this.showMessage("Escriba el texto a buscar","warning","Listar homologaciones")}createHcre(){let e={title:"Agregar homologaci\xF3n categoria rol externo:",boton:"Guardar",action:"Insert"};this.dialog.open(lp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listHcre()})}updateHcre(e){e.title="Actualizar homologaci\xF3n categoria rol externo:",e.boton="Actualizar",e.action="Update",this.dialog.open(lp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listHcre()})}toggleHcre(e){let i=null;e.mensaje="\xBFRealmente desea "+(e.estado=="A"?"Inactivar":"Activar")+" la homologaci\xF3n?",e.boton=e.estado=="A"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e}),i.afterClosed().subscribe(o=>{o!=null&&this.homologacionCategoriaRolExternoService.toggleHcreStatus(e.idHomologacionCategoriaRolExterno).subscribe(a=>{a?a.statusCode==200?(this.showMessage(a.body.data.message,"success","Activar/inactivar homologaci\xF3n"),this.listHcre()):this.showMessage(a.body.data.message,"error","Activar/inactivar homologaci\xF3n"):this.showMessage("No se recibe objeto respuesta del servidor","error","Crear homologaci\xF3n")})})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listHcre())}static{this.\u0275fac=function(i){return new(i||t)(g(Ac),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-homologacion-categoria-rol-externos"]],viewQuery:function(i,o){if(i&1&&L(mP,7),i&2){let a;j(a=z())&&(o.filterHcre=a.first)}},decls:15,vars:11,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-11"],[1,"bc-col-12"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","id","HcreFilter","aria-label","custom-aria-label","type","text","value","","required","",3,"keyup"],["for","526"],["id","searchHcre",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],[1,"col-1",2,"align-self","center"],["id","createHcre","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col","fixed","true"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["type","action","bc-cell",""],["id","updateHcre","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Editar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["type","action","bc-cell","",3,"ngSwitch"],["id","toggleHcre","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Desactivar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"],["id","toggleHcre","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Activar homologaci\xF3n",3,"click","type","color","shadow","size","customIcon"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-search-content-items",4)(4,"bc-form-field",5)(5,"em"),C(6,"bc-icon",6),s(),r(7,"input",7,0),_("keyup",function(d){v(a);let u=re(8);return S(o.applyFilter(d,u.value))}),s(),r(9,"label",8),c(10,"Escriba el texto a buscar"),s()(),r(11,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()(),r(12,"div",10)(13,"bc-icon-button",11),_("click",function(){return v(a),S(o.createHcre())}),s()()(),h(14,gP,20,8,"bc-table-container",12),s()}i&2&&(m(11),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","search"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.tableAccCurrentPage.length>0))},dependencies:[ae,V,ao,ro,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();function CP(t,n){t&1&&(r(0,"span",3),c(1,"INTERNOS"),s())}function bP(t,n){t&1&&C(0,"app-homologacion-categoria-rol-internos")}function vP(t,n){t&1&&(r(0,"span",4),c(1,"EXTERNOS"),s())}function SP(t,n){t&1&&C(0,"app-homologacion-categoria-rol-externos")}var Bg=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-categorias-rol"]],decls:7,vars:0,consts:[["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],["matTabContent",""],["id","tabInternal","matTooltip","Internos"],["id","tabExternal","matTooltip","Externos"]],template:function(i,o){i&1&&(r(0,"mat-tab-group",0)(1,"mat-tab"),h(2,CP,2,0,"ng-template",1)(3,bP,1,0,"ng-template",2),s(),r(4,"mat-tab"),h(5,vP,2,0,"ng-template",1)(6,SP,1,0,"ng-template",2),s()())},dependencies:[Ei,_i,Ci,bi,oe,Og,Ng]})}}return t})();var Oc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idTipoRetiro=e)}};var cp=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.withdrawalTypeService=o,this.data=a,this.dialogService=l,this.updateAction="update",this.successfulStatusCode=200}ngOnInit(){this.buildForm(),this.data.action==this.updateAction&&this.loadWithdrawalType()}buildForm(){this.withdrawalTypeForm=this.fb.group({dsTipoRetiro:["",[A.required]],nuevoIngreso:[!1,[A.required]]})}loadWithdrawalType(){this.withdrawalTypeForm.patchValue({dsTipoRetiro:this.data.withdrawalType.dsTipoRetiro,nuevoIngreso:this.data.withdrawalType.nuevoIngreso})}onNoClick(){this.dialogRef.close()}onSubmit(){let e=new Oc(this.withdrawalTypeForm.value);this.data.action==this.updateAction?(e.idTipoRetiro=this.data.withdrawalType.idTipoRetiro,this.withdrawalTypeService.updateWithdrawalType(e).subscribe(i=>{i.statusCode==this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Actualizar Tipo Retiro"),this.dialogRef.close({data:e})):this.showMessage(i.body.data.message,"error","Actualizar Tipo Retiro")})):this.withdrawalTypeService.insertWithdrawalType(e).subscribe(i=>{i.statusCode==this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Agregar Tipo Retiro"),this.dialogRef.close({data:e})):this.showMessage(i.body.data.message,"error","Agregar Tipo Retiro")})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Ya),g(Y),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-tipo-retiro"]],decls:30,vars:4,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-12"],["id","inputWithdrawalTypeName","bc-input","","state","default","type","text","value","","formControlName","dsTipoRetiro","ngDefaultControl","","required",""],["for","inputWithdrawalTypeNam"],["id","toggleNeedsReplace","formControlName","nuevoIngreso","ngDefaultControl","",1,"example-margin"],[1,"col-6"],["bc-button","","sizeButton","small","typeButton","secondary",3,"click"],["id","btnSave",1,"bc-button-small","bc-button-primary",3,"click","disabled"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",6)(10,"div",7)(11,"div",8)(12,"bc-form-field"),C(13,"input",9),r(14,"label",10),c(15,"Nombre Tipo Retiro"),s()()()(),r(16,"div",7)(17,"div",8)(18,"bc-form-field")(19,"mat-label"),c(20,"\xBFAplica Reemplazo? "),s(),r(21,"mat-slide-toggle",11),c(22),s()()()(),r(23,"div",1)(24,"div",12)(25,"button",13),_("click",function(){return o.onNoClick()}),c(26," Cancelar "),s()(),r(27,"div",12)(28,"button",14),_("click",function(){return o.onSubmit()}),c(29,"Guardar"),s()()()()()),i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.withdrawalTypeForm),m(13),T(" ",o.withdrawalTypeForm.controls.nuevoIngreso.value?"Si":"No"," "),m(6),p("disabled",!o.withdrawalTypeForm.valid))},dependencies:[le,X,ve,Ko,Ye,q,H,Ke,At,Je,ni,kt,te,ee]})}}return t})();function xP(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",21),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function wP(t,n){if(t&1&&(r(0,"tr")(1,"td",18),c(2),s(),r(3,"td",18),c(4),s(),r(5,"td",18),c(6),s(),r(7,"td",19),h(8,xP,1,2,"bc-table-dropdown",20),s()()),t&2){let e=n.$implicit;m(2),I(e.dsTipoRetiro),m(2),I(e.nuevoIngreso?"SI":"NO"),m(2),I(e.estado=="A"?"ACTIVO":"INACTIVO"),m(2),p("ngIf",e.option.length>0)}}function EP(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Tipo Retiro"),s(),r(9,"th",15),c(10,"Remplazo"),s(),r(11,"th",15),c(12,"Estado"),s(),C(13,"th",16),s()(),r(14,"tbody"),h(15,wP,9,4,"tr",17),s()()(),C(16,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("pairPaginators",!0)("dropdownHtml",!0),m(11),p("ngForOf",e.dataSource)}}var jg=(()=>{class t{constructor(e,i,o){this.withdrawalTypeService=e,this.dialogService=i,this.dialog=o,this.dataSource=[],this.filtroFormControl=new O("",[]),this.page=1,this.limit=6,this.filter=null,this.totalRegisters=0,this.successfulStatusCode=200}ngOnInit(){this.getAllWithdrawalType()}getAllWithdrawalType(){this.withdrawalTypeService.getAllByFilter(this.filtroFormControl.value.replace(/\s+/g,""),this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.withdrawalTypeList.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.totalRegisters=e.body.data.totalRegisters):this.showMessage(e.body.data.message,"error","Tipo Retiro")})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}optionSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.updateWithdrawalType(e.rowData),e.optionSeleted.indexOf("delete")!==-1&&this.updateWithdrawalTypeStatus(e.rowData)}getOptions(e){let i=[];return i.push({id:"edit",text:"Editar Tipo Retiro",icon:"edit-document",action:this.optionSelected}),e.estado=="A"?i.push({id:"delete",text:"Inactivar Tipo Retiro",icon:"error-small",action:this.optionSelected}):i.push({id:"delete",text:"Activar Tipo Retiro",icon:"ok",action:this.optionSelected}),i}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getAllWithdrawalType())}updateWithdrawalType(e){let i={title:"Agregar Tipo Retiro",action:"update",withdrawalType:e};this.dialog.open(cp,{data:i}).afterClosed().subscribe(a=>{a!=null&&(this.filtroFormControl.setValue(a.data.dsTipoRetiro),this.getAllWithdrawalType())})}updateWithdrawalTypeStatus(e){let i=null;e.mensaje="\xBFRealmente desea "+(e.estado=="A"?"Inactivar":"Activar")+" el tipo de retiro "+e.dsTipoRetiro+"?",e.boton=e.estado=="A"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e}),i.afterClosed().subscribe(o=>{o!=null&&this.withdrawalTypeService.updateWithdrawalTypeStatus(e.idTipoRetiro).subscribe(a=>{a?a.statusCode==this.successfulStatusCode?(this.showMessage(a.body.data.message,"success","Activar/inactivar tipo retiro"),this.getAllWithdrawalType()):this.showMessage(a.body.data.message,"error","Activar/inactivar tipo retiro"):this.showMessage("No se recibe objeto respuesta del servidor","error","Actualizar tipo retiro")})})}addWithdrawalType(){let e={title:"Agregar Tipo Retiro",action:"insert"};this.dialog.open(cp,{data:e}).afterClosed().subscribe(o=>{o!=null&&(this.filtroFormControl.setValue(o.data.dsTipoRetiro),this.getAllWithdrawalType())})}static{this.\u0275fac=function(i){return new(i||t)(g(Ya),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-tipo-retiro"]],decls:16,vars:7,consts:[[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilterWithdrawalType","type","text","value","",3,"keyup.enter","formControl"],["for","526"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],["id","createWithdrawalType","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear Tipo Retiro",3,"click","type","color","shadow","size","customIcon"],[3,"dataTable",4,"ngIf"],[3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false",3,"pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","btnOption",3,"row","options","onChange",4,"ngIf"],["id","btnOption",3,"onChange","row","options"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"bc-form-field",3)(4,"em"),C(5,"bc-icon",4),s(),r(6,"input",5),_("keyup.enter",function(){return o.getAllWithdrawalType()}),s(),r(7,"label",6),c(8,"Escriba el texto a buscar"),s()(),r(9,"bc-form-field",7)(10,"bc-icon-button",8),_("click",function(){return o.getAllWithdrawalType()}),s()(),r(11,"bc-form-field",7)(12,"bc-icon-button",9),_("click",function(){return o.addWithdrawalType()}),s()()()(),r(13,"div",1)(14,"div",2),h(15,EP,17,7,"bc-table-container",10),s()()()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(6),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(3),p("ngIf",o.dataSource.length>0))},dependencies:[ae,V,q,H,G,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();var Vc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idCausal=e)}};var zg=(()=>{class t{constructor(e,i){this.Http=e,this.configService=i,this.urlGetCausalType="/causalType/getAllCausalTypeList"}getAllCausalTypeList(){return this.Http.get(this.configService.settings.apiUrl+this.urlGetCausalType)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PP(t,n){if(t&1){let e=E();r(0,"div",1)(1,"div",7)(2,"bc-form-field"),C(3,"bc-input-select",14),s()(),r(4,"div",15)(5,"bc-form-field")(6,"bc-checkbox",16),_("changeState",function(o){v(e);let a=x();return S(a.causalForm.controls.lider.setValue(o))}),s()()(),r(7,"div",15)(8,"bc-form-field")(9,"bc-checkbox",17),_("changeState",function(o){v(e);let a=x();return S(a.causalForm.controls.proveedor.setValue(o))}),s()()(),r(10,"div",15)(11,"bc-form-field")(12,"mat-label"),c(13,"\xBFAplica Preaviso? "),s(),r(14,"mat-slide-toggle",18),c(15),s()()()()}if(t&2){let e=x();m(3),p("multiple",!0)("formatType","simple")("values",e.withdrawalTypeItems),m(3),p("isChecked",e.causalForm.controls.lider.value),m(3),p("isChecked",e.causalForm.controls.proveedor.value),m(6),T(" ",e.causalForm.controls.preaviso.value?"Si":"No"," ")}}var mp=(()=>{class t{constructor(e,i,o,a,l,d,u){this.fb=e,this.dialogRef=i,this.causalService=o,this.causalTypeService=a,this.withdrawalTypeService=l,this.data=d,this.dialogService=u,this.updateAction="update",this.causalItems=[],this.withdrawalTypeItems=[],this.causalTypeWithdrawal=!1,this.successfulStatusCode=200,this.withdrawalTypeIds=[]}ngOnInit(){this.buildForm(),this.getCausalType()}buildForm(){this.causalForm=this.fb.group({dsCausal:["",[A.required]],idTipoCausal:["",[A.required]],lider:[!1,[A.required]],proveedor:[!1,[A.required]],preaviso:[!1,[A.required]],tipoRetiro:[[],[]]})}getCausalType(){this.causalTypeService.getAllCausalTypeList().pipe(Ce(()=>{this.data.action==this.updateAction&&this.loadCausal()})).subscribe(e=>{e.statusCode===this.successfulStatusCode&&(this.causalItems=e.body.data.causalTypeList.map(i=>({value:i.idTipoCausal,label:i.dsTipoCausal})))})}loadCausal(){this.causalForm.patchValue({dsCausal:this.data.causal.dsCausal,idTipoCausal:this.data.causal.idTipoCausal,lider:this.data.causal.lider,proveedor:this.data.causal.proveedor,preaviso:this.data.causal.preaviso}),this.validateCausalType()}onNoClick(){this.dialogRef.close()}onSubmit(){let e=new Vc(this.causalForm.value);this.data.action==this.updateAction?(e.idCausal=this.data.causal.idCausal,this.causalService.updateCausal(e).subscribe(i=>{i.statusCode==this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Actualizar Causal"),this.dialogRef.close({data:e})):this.showMessage(i.body.data.message,"error","Actualizar Causal")})):this.causalService.insertCausal(e).subscribe(i=>{i.statusCode==this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Agregar Causal"),this.dialogRef.close({data:e})):this.showMessage(i.body.data.message,"error","Agregar Causal")})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}validateCausalType(){this.causalItems.find(i=>i.value===this.causalForm.controls.idTipoCausal.value)?.label=="RETIRO"?(this.getWithdrawalType(),this.causalTypeWithdrawal=!0,this.causalForm.controls.tipoRetiro.addValidators([A.required])):this.setCausalTypeParametersNotWithdrawal()}setCausalTypeParametersNotWithdrawal(){this.causalTypeWithdrawal=!1,this.causalForm.controls.tipoRetiro.clearValidators(),this.causalForm.controls.tipoRetiro.updateValueAndValidity(),this.causalForm.controls.lider.setValue(!1),this.causalForm.controls.proveedor.setValue(!1),this.causalForm.controls.preaviso.setValue(!1),this.causalForm.controls.tipoRetiro.setValue([])}getWithdrawalType(){this.withdrawalTypeService.getAllActive(!1).pipe(Ce(()=>{this.data.action==this.updateAction&&this.getWithdrawalTypeByCausalId()})).subscribe(e=>{e.statusCode===this.successfulStatusCode&&(this.withdrawalTypeItems=e.body.data.withdrawalTypeList.map(i=>({value:i.idTipoRetiro,label:i.dsTipoRetiro})))})}getWithdrawalTypeByCausalId(){this.withdrawalTypeService.getWithdrawalTypeByCausalId(this.data.causal.idCausal).pipe(Ce(()=>{this.data.action==this.updateAction&&(console.log(this.withdrawalTypeIds),this.causalForm.controls.tipoRetiro.setValue(this.withdrawalTypeIds))})).subscribe(e=>{e.statusCode===this.successfulStatusCode&&(this.withdrawalTypeIds=e.body.data.withdrawalTypeList.map(i=>i.idTipoRetiro))})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Rl),g(zg),g(Ya),g(Y),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-causal"]],decls:27,vars:6,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"formGroup"],[1,"col-6"],["id","inputCausalName","bc-input","","state","default","type","text","value","","formControlName","dsCausal","ngDefaultControl","","required",""],["for","inputCausalName"],["componentId","selectCausalType","formatType","'simple'","formControlName","idTipoCausal","ngDefaultControl","",3,"click","values","label"],["class","row align-items-start",4,"ngIf"],["bc-button","","sizeButton","small","typeButton","secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click","disabled"],["componentId","selectWithdrawalType","label","'Tipo Retiro'","icon","people","formControlName","tipoRetiro","ngDefaultControl","",3,"multiple","formatType","values"],[1,"col-2"],["label","Lider",3,"changeState","isChecked"],["label","Proveedor",3,"changeState","isChecked"],["id","toggleNeedsReplace","formControlName","preaviso","ngDefaultControl","",1,"example-margin"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",6)(10,"div",1)(11,"div",7)(12,"bc-form-field"),C(13,"input",8),r(14,"label",9),c(15,"Nombre Causal"),s()()(),r(16,"div",7)(17,"bc-form-field")(18,"bc-input-select",10),_("click",function(){return o.validateCausalType()}),s()()()(),h(19,PP,16,6,"div",11),r(20,"div",1)(21,"div",7)(22,"button",12),_("click",function(){return o.onNoClick()}),c(23," Cancelar "),s()(),r(24,"div",7)(25,"button",13),_("click",function(){return o.onSubmit()}),c(26,"Guardar"),s()()()()()),i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.causalForm),m(9),p("values",o.causalItems)("label","Tipo de causal"),m(),p("ngIf",o.causalTypeWithdrawal),m(6),p("disabled",!o.causalForm.valid))},dependencies:[le,X,ve,Ko,V,Ye,q,H,Ke,At,Je,ni,kt,te,ee,It,Wo]})}}return t})();function DP(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",21),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function FP(t,n){if(t&1&&(r(0,"tr")(1,"td",18),c(2),s(),r(3,"td",18),c(4),s(),r(5,"td",18),c(6),s(),r(7,"td",18),c(8),s(),r(9,"td",18),c(10),s(),r(11,"td",18),c(12),s(),r(13,"td",19),h(14,DP,1,2,"bc-table-dropdown",20),s()()),t&2){let e=n.$implicit;m(2),I(e.dsCausal),m(2),I(e.dsTipoCausal),m(2),I(e.lider?"SI":"NO"),m(2),I(e.proveedor?"SI":"NO"),m(2),I(e.preaviso?"SI":"NO"),m(2),I(e.estado=="A"?"ACTIVO":"INACTIVO"),m(2),p("ngIf",e.option.length>0)}}function RP(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Causal"),s(),r(9,"th",15),c(10,"Tipo Causal"),s(),r(11,"th",15),c(12,"Lider"),s(),r(13,"th",15),c(14,"Proveedor"),s(),r(15,"th",15),c(16,"Preaviso"),s(),r(17,"th",15),c(18,"Estado"),s(),C(19,"th",16),s()(),r(20,"tbody"),h(21,FP,15,7,"tr",17),s()()(),C(22,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("pairPaginators",!0)("dropdownHtml",!0),m(17),p("ngForOf",e.dataSource)}}var Hg=(()=>{class t{constructor(e,i,o){this.causalService=e,this.dialogService=i,this.dialog=o,this.dataSource=[],this.filtroFormControl=new O("",[]),this.page=1,this.limit=6,this.filter=null,this.totalRegisters=0,this.successfulStatusCode=200}ngOnInit(){this.getCausal()}getCausal(){this.causalService.getAllCausalList(this.filtroFormControl.value.replace(/\s+/g,""),this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.causalList.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.totalRegisters=e.body.data.totalRegisters):this.showMessage(e.body.data.message,"error","Causal")})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}optionSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.updateCausal(e.rowData),e.optionSeleted.indexOf("status")!==-1&&this.updateCausalStatus(e.rowData)}getOptions(e){let i=[];return i.push({id:"edit",text:"Editar Causal",icon:"edit-document",action:this.optionSelected}),e.estado=="A"?i.push({id:"status",text:"Inactivar Causal",icon:"error-small",action:this.optionSelected}):i.push({id:"status",text:"Activar Causal",icon:"ok",action:this.optionSelected}),i}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getCausal())}updateCausal(e){let i={title:"Editar Causal",action:"update",causal:e};this.dialog.open(mp,{data:i,width:"90%"}).afterClosed().subscribe(a=>{a!=null&&(this.filtroFormControl.setValue(a.data.dsCausal),this.getCausal())})}updateCausalStatus(e){let i=null;e.mensaje="\xBFRealmente desea "+(e.estado=="A"?"Inactivar":"Activar")+" el causal "+e.dsCausal+"?",e.boton=e.estado=="A"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e}),i.afterClosed().subscribe(o=>{o!=null&&this.causalService.updateCausalStatus(e.idCausal).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message,"success","Estado Causal"),this.filtroFormControl.setValue(e.dsCausal),this.getCausal()):this.showMessage(a.body.data.message,"error","Estado Causal")})})}addCausal(){let e={title:"Agregar Causal",action:"insert"};this.dialog.open(mp,{data:e,width:"90%"}).afterClosed().subscribe(o=>{o!=null&&(this.filtroFormControl.setValue(o.data.dsCausal),this.getCausal())})}static{this.\u0275fac=function(i){return new(i||t)(g(Rl),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-causal"]],decls:16,vars:7,consts:[[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilterCausal","type","text","value","",3,"keyup.enter","formControl"],["for","526"],[1,"bc-col-1"],["id","btnSearchCausal","type","outline","size","small","customIcon","search",3,"click"],["id","createCausal","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear Causal",3,"click","type","color","shadow","size","customIcon"],[3,"dataTable",4,"ngIf"],[3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false",3,"pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","btnOption",3,"row","options","onChange",4,"ngIf"],["id","btnOption",3,"onChange","row","options"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"bc-form-field",3)(4,"em"),C(5,"bc-icon",4),s(),r(6,"input",5),_("keyup.enter",function(){return o.getCausal()}),s(),r(7,"label",6),c(8,"Escriba el texto a buscar"),s()(),r(9,"bc-form-field",7)(10,"bc-icon-button",8),_("click",function(){return o.getCausal()}),s()(),r(11,"bc-form-field",7)(12,"bc-icon-button",9),_("click",function(){return o.addCausal()}),s()()()(),r(13,"div",1)(14,"div",2),h(15,RP,23,7,"bc-table-container",10),s()()()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(6),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(3),p("ngIf",o.dataSource.length>0))},dependencies:[ae,V,q,H,G,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();function AP(t,n){t&1&&(r(0,"span",6),c(1,"TALENTOS"),s())}function OP(t,n){t&1&&(r(0,"span",8),c(1,"CELULAS"),s())}function VP(t,n){t&1&&C(0,"app-celula")}function NP(t,n){t&1&&(r(0,"mat-tab"),h(1,OP,2,0,"ng-template",4)(2,VP,1,0,"ng-template",5),s())}function BP(t,n){t&1&&(r(0,"span",9),c(1,"PERSONAS"),s())}function LP(t,n){t&1&&C(0,"app-persona",10),t&2&&p("origen","capacidad")}function jP(t,n){t&1&&(r(0,"mat-tab"),h(1,BP,2,0,"ng-template",4)(2,LP,1,1,"ng-template",5),s())}function zP(t,n){t&1&&(r(0,"span",11),c(1,"ESTRUCTURAS"),s())}function HP(t,n){t&1&&C(0,"app-estructura")}function qP(t,n){t&1&&(r(0,"mat-tab"),h(1,zP,2,0,"ng-template",4)(2,HP,1,0,"ng-template",5),s())}function GP(t,n){t&1&&(r(0,"span",12),c(1,"POSICIONES"),s())}function UP(t,n){t&1&&C(0,"app-posicion")}function $P(t,n){t&1&&(r(0,"mat-tab"),h(1,GP,2,0,"ng-template",4)(2,UP,1,0,"ng-template",5),s())}function QP(t,n){t&1&&(r(0,"span",13),c(1,"APLICATIVO"),s())}function WP(t,n){t&1&&C(0,"app-aplicativo")}function KP(t,n){t&1&&(r(0,"mat-tab"),h(1,QP,2,0,"ng-template",4)(2,WP,1,0,"ng-template",5),s())}function YP(t,n){t&1&&(r(0,"span",14),c(1,"ROLES"),s())}function XP(t,n){t&1&&C(0,"app-role",15)}function ZP(t,n){t&1&&(r(0,"span",16),c(1,"PERFILES"),s())}function JP(t,n){t&1&&C(0,"app-perfil")}function eD(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,NP,3,0,"mat-tab",3)(2,jP,3,0,"mat-tab",3)(3,qP,3,0,"mat-tab",3)(4,$P,3,0,"mat-tab",3)(5,KP,3,0,"mat-tab",3),r(6,"mat-tab"),h(7,YP,2,0,"ng-template",4)(8,XP,1,0,"ng-template",5),s(),r(9,"mat-tab"),h(10,ZP,2,0,"ng-template",4)(11,JP,1,0,"ng-template",5),s()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM3")),m(),p("ngIf",e.loginService.validateModule("SM4")),m(),p("ngIf",e.loginService.validateModule("SM5")),m(),p("ngIf",e.loginService.validateModule("SM6")),m(),p("ngIf",e.loginService.validateModule("SM7"))}}function tD(t,n){t&1&&(r(0,"mat-tab"),h(1,AP,2,0,"ng-template",4)(2,eD,12,5,"ng-template",5),s())}function iD(t,n){t&1&&(r(0,"span",17),c(1,"SOLICITUD"),s())}function oD(t,n){t&1&&(r(0,"span",18),c(1,"SOLICITUD DE RETIROS"),s())}function nD(t,n){t&1&&C(0,"app-retiros-base",19),t&2&&p("idResourceOrigin","REC003")}function aD(t,n){t&1&&(r(0,"mat-tab"),h(1,oD,2,0,"ng-template",4)(2,nD,1,1,"ng-template",5),s())}function rD(t,n){t&1&&(r(0,"span",20),c(1,"SOLICITUD DE INGRESOS"),s())}function sD(t,n){t&1&&C(0,"app-ingreso",21),t&2&&p("idResourceOrigin","REC003")}function lD(t,n){t&1&&(r(0,"mat-tab"),h(1,rD,2,0,"ng-template",4)(2,sD,1,1,"ng-template",5),s())}function cD(t,n){t&1&&(r(0,"span",22),c(1,"INGRESOS NO DEMANDA"),s())}function mD(t,n){t&1&&C(0,"app-ingreso-no-demanda",21),t&2&&p("idResourceOrigin","REC003")}function dD(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,aD,3,0,"mat-tab",3)(2,lD,3,0,"mat-tab",3),r(3,"mat-tab"),h(4,cD,2,0,"ng-template",4)(5,mD,1,1,"ng-template",5),s()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM8")),m(),p("ngIf",e.loginService.validateModule("SM9"))}}function pD(t,n){t&1&&(r(0,"mat-tab"),h(1,iD,2,0,"ng-template",4)(2,dD,6,2,"ng-template",5),s())}function uD(t,n){t&1&&(r(0,"span",23),c(1,"INFORMACI\xD3N"),s())}function fD(t,n){t&1&&(r(0,"span",24),c(1,"TARIFAS"),s())}function hD(t,n){t&1&&C(0,"app-tarifas",25),t&2&&p("resourceId","REC003")}function gD(t,n){t&1&&(r(0,"mat-tab"),h(1,fD,2,0,"ng-template",4)(2,hD,1,1,"ng-template",5),s())}function _D(t,n){t&1&&(r(0,"span",26),c(1,"ESTADO SERVICIOS"),s())}function CD(t,n){t&1&&C(0,"app-estado-servicios")}function bD(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,gD,3,0,"mat-tab",3),r(2,"mat-tab"),h(3,_D,2,0,"ng-template",4)(4,CD,1,0,"ng-template",5),s()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM10"))}}function vD(t,n){t&1&&(r(0,"mat-tab"),h(1,uD,2,0,"ng-template",4)(2,bD,5,1,"ng-template",5),s())}function SD(t,n){t&1&&(r(0,"span",27),c(1,"PARAMETRIZACI\xD3N"),s())}function yD(t,n){t&1&&(r(0,"span",29),c(1,"PAR\xC1METROS"),s())}function xD(t,n){if(t&1&&C(0,"app-parametros",25),t&2){let e=x(4);p("resourceId",e.resourceId)}}function wD(t,n){t&1&&(r(0,"mat-tab"),h(1,yD,2,0,"ng-template",4),r(2,"div",28),h(3,xD,1,1,"ng-template",5),s()())}function ED(t,n){t&1&&(r(0,"span",30),c(1,"REPORTES DIN\xC1MICOS"),s())}function MD(t,n){t&1&&C(0,"app-reporte-dinamico",25),t&2&&p("resourceId","REC003")}function ID(t,n){t&1&&(r(0,"mat-tab"),h(1,ED,2,0,"ng-template",4)(2,MD,1,1,"ng-template",5),s())}function TD(t,n){t&1&&(r(0,"span",31),c(1,"GESTI\xD3N DE GASTOS"),s())}function PD(t,n){t&1&&C(0,"app-gestion-gasto")}function DD(t,n){t&1&&(r(0,"mat-tab"),h(1,TD,2,0,"ng-template",4)(2,PD,1,0,"ng-template",5),s())}function FD(t,n){t&1&&(r(0,"span",32),c(1,"TIPO RETIRO"),s())}function RD(t,n){t&1&&C(0,"app-tipo-retiro")}function kD(t,n){t&1&&(r(0,"span",32),c(1,"CAUSAL"),s())}function AD(t,n){t&1&&C(0,"app-causal")}function OD(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,wD,4,0,"mat-tab",3)(2,ID,3,0,"mat-tab",3)(3,DD,3,0,"mat-tab",3),r(4,"mat-tab"),h(5,FD,2,0,"ng-template",4)(6,RD,1,0,"ng-template",5),s(),r(7,"mat-tab"),h(8,kD,2,0,"ng-template",4)(9,AD,1,0,"ng-template",5),s()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM11")),m(),p("ngIf",e.loginService.validateModule("SM12")),m(),p("ngIf",e.loginService.validateModule("SM60"))}}function VD(t,n){t&1&&(r(0,"mat-tab"),h(1,SD,2,0,"ng-template",4)(2,OD,10,3,"ng-template",5),s())}function ND(t,n){t&1&&(r(0,"span",33),c(1,"HOMOLOGACI\xD3N"),s())}function BD(t,n){t&1&&(r(0,"span",34),c(1,"CATEGORIAS-ROL"),s())}function LD(t,n){t&1&&C(0,"app-categorias-rol")}function jD(t,n){t&1&&(r(0,"mat-tab-group",7)(1,"mat-tab"),h(2,BD,2,0,"ng-template",4)(3,LD,1,0,"ng-template",5),s()())}var Qg=(()=>{class t{constructor(e){this.loginService=e,this.title="Gesti\xF3n de capacidad (BD c\xE9lulas)",this.resourceId="REC003"}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-capacidad"]],decls:10,vars:4,consts:[[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["id","tabTalents","matTooltip","Administraci\xF3n de talentos"],["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["id","tabCells","matTooltip","Administraci\xF3n de c\xE9lulas"],["id","tabPeople","matTooltip","Administraci\xF3n de personas"],[3,"origen"],["id","tabStructures","matTooltip","Administraci\xF3n de Estructuras"],["id","tabPositions","matTooltip","Administraci\xF3n de Posiciones"],["id","tabApplication","matTooltip","Administraci\xF3n de aplicativos"],["id","tabRole","matTooltip","Administraci\xF3n de roles"],["origen","REC003"],["id","tabProfile","matTooltip","Administraci\xF3n de perfile"],["id","tabRequest","matTooltip","Solicitud"],["id","tabRetirement","matTooltip","Retiros"],["rol","capacidad",3,"idResourceOrigin"],["id","tabEntry","matTooltip","Solicitudes Ingreso"],[3,"idResourceOrigin"],["id","tabPerson","matTooltip","Gestion de Ingresos"],["id","tabInformation","matTooltip","Informaci\xF3n"],["id","tabRates","matTooltip","Cargar archivo tarifas"],[3,"resourceId"],["id","tabStatusServices","matTooltip","Estado servicios"],["id","tabParameterization","matTooltip","Informaci\xF3n"],[1,"mat-typography","main-div"],["id","tabParameters","matTooltip","Par\xE1metros"],["id","tabDynamicReports","matTooltip","Reportes din\xE1micos"],["id","tabExpense","matTooltip","Gesti\xF3n de roles"],["id","tabWithdrawalType","matTooltip","Tipos Retiros"],["id","tabHomologation","matTooltip","Homologaci\xF3n"],["matTooltip","Categorias-Rol"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-tab-group",2),h(3,tD,3,0,"mat-tab",3)(4,pD,3,0,"mat-tab",3)(5,vD,3,0,"mat-tab",3)(6,VD,3,0,"mat-tab",3),r(7,"mat-tab"),h(8,ND,2,0,"ng-template",4)(9,jD,4,0,"ng-template",5),s()()()()),i&2&&(m(3),p("ngIf",o.loginService.validateGroupModules("SM3,SM4,SM5,SM6,SM7")),m(),p("ngIf",o.loginService.validateGroupModules("SM8,SM9")),m(),p("ngIf",o.loginService.validateGroupModules("SM2,SM10")),m(),p("ngIf",o.loginService.validateGroupModules("SM11,SM12,SM55, SM56")))},dependencies:[gi,Ei,_i,Ci,bi,oe,V,Mn,Za,Ja,ir,_f,bf,sr,_r,og,Fc,Tg,Pg,Dg,Fg,kg,Bg,jg,Hg],styles:[".maintable[_ngcontent-%COMP%]{padding:10px}  .mat-mdc-tab-header{background-color:#2c2a29}  .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}  .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();var kn=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetBD="/admin/getbd",this.urlGetRecursos="/admin/getrecursos",this.urlGetTablaAutorizaciones="/admin/gettablaautorizaciones",this.urlDeleteAutorizacion="/admin/deleteautorizacion",this.urlgetParametrosAutorizacion="/admin/getparametrosautorizacion",this.urlSetutorizacion="/admin/setautorizacion"}getBD(){let e=new be;return this.http.get(this.configService.settings.apiUrl+this.urlGetBD,{params:e})}getRecursos(){let e=new be;return this.http.get(this.configService.settings.apiUrl+this.urlGetRecursos,{params:e})}getTablaAutorizaciones(e){let i=new be().set("idRecurso",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetTablaAutorizaciones,{params:i})}deleteAutorizacion(e){let i=new be().set("idAutorizacion",e);return this.http.get(this.configService.settings.apiUrl+this.urlDeleteAutorizacion,{params:i})}getParametrosAutorizacion(){let e=new be;return this.http.get(this.configService.settings.apiUrl+this.urlgetParametrosAutorizacion,{params:e})}setAutorizacion(e,i){let o=new be().set("idRecurso",e).set("idPersona",i);return this.http.get(this.configService.settings.apiUrl+this.urlSetutorizacion,{params:o})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zD(t,n){if(t&1&&(r(0,"mat-option",8),c(1),s()),t&2){let e=n.$implicit;p("value",e.idPersona),m(),I(e.nombre)}}var Wg=(()=>{class t{constructor(e,i,o,a,l,d){this.router=e,this._snackBar=i,this.dialogRef=o,this.data=a,this.adminService=l,this.loginService=d,this.personaFormControl=new O("",[A.required])}ngOnInit(){this.adminService.getParametrosAutorizacion().subscribe(e=>{e==null&&(this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})),this.personaList=e.personaList})}onNoClick(){this.dialogRef.close()}onYesClick(){this.personaFormControl.markAsTouched(),this.personaFormControl.hasError("required")?this.showMessage("Por favor seleccione una persona"):(this.data.idPersona=this.personaFormControl.value,this.dialogRef.close({data:this.data}))}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(K),g(W),g(Y),g(kn),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-autorizacion"]],decls:13,vars:4,consts:[["fontSize",""],["mat-dialog-title",""],[1,"example-margin","causal"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["center",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"click"],[3,"value"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1),s(),r(2,"mat-form-field",2)(3,"mat-label"),c(4,"Persona"),s(),r(5,"mat-select",3,0),h(7,zD,2,2,"mat-option",4),s()(),r(8,"mat-dialog-actions",5)(9,"button",6),_("click",function(){return v(a),S(o.onYesClick())}),c(10),s(),r(11,"button",7),_("click",function(){return v(a),S(o.onNoClick())}),c(12,"Cancelar"),s()()}i&2&&(m(),I(o.data.title),m(4),p("formControl",o.personaFormControl),m(2),p("ngForOf",o.personaList),m(3),I(o.data.boton))},dependencies:[gt,Ri,le,La,_e,ve,St,ae,H,G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return t})();var Ms=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idRolRecurso=e)}};var An=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetRolRecurso="/autorizacion"}getAll(){return this.http.get(`${this.configService.settings.apiUrl+this.urlGetRolRecurso}/getall`)}getById(e){let i=new be().set("idRoleResource",e);return this.http.get(`${this.configService.settings.apiUrl+this.urlGetRolRecurso}/getsearchroleresourcebyid`,{params:i})}insert(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.post(`${this.configService.settings.apiUrl+this.urlGetRolRecurso}/insertroleresource`,o)}update(e){let i=JSON.stringify(e),o=JSON.parse(i);return this.http.put(`${this.configService.settings.apiUrl+this.urlGetRolRecurso}/updateroleresource`,o)}delete(e){let i=new be().set("idRoleResource",e);return this.http.delete(`${this.configService.settings.apiUrl+this.urlGetRolRecurso}/deleteroleresource`,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var HD=t=>({hide:t});function qD(t,n){if(t&1&&(r(0,"mat-option",21),c(1),s()),t&2){let e=n.$implicit;p("value",e)("ngClass",yi(3,HD,!e.show)),m(),T(" ",e.nombre," ")}}function GD(t,n){t&1&&(r(0,"mat-error"),c(1," Rol requerido "),s())}function UD(t,n){if(t&1&&(r(0,"mat-option",22),c(1),s()),t&2){let e=n.$implicit;p("value",e),m(),T(" ",e.nombre," ")}}function $D(t,n){t&1&&(r(0,"mat-error"),c(1," Recurso requerido "),s())}function QD(t,n){if(t&1&&(r(0,"button",23),c(1),s()),t&2){let e=x();m(),I(e.data.boton)}}var pp=(()=>{class t{constructor(e,i,o,a,l,d,u){this._snackBar=e,this.fb=i,this.dialogRef=o,this.data=a,this.roleResourceService=l,this.roleService=d,this.resourceService=u,this.filterControl=new O,this.successfulStatusCode=200,this.buildForm()}buildForm(){this.roleResource=this.fb.group({rol:["",[A.required]],recurso:["",A.required]})}ngOnInit(){this.getAllRoles()}load(e){let i;this.roleResourceService.getById(e).pipe(Ce(()=>{let o;this.filteredOptions.subscribe(l=>{o=l.find(d=>d.idRol==i.idRol)});let a=this.resourceList.find(l=>l.idRecurso==i.idRecurso);this.roleResource.patchValue({rol:o,recurso:a})})).subscribe(o=>{o.statusCode===this.successfulStatusCode&&(i=o.body.data.rolRecurso)})}onPanelClose(){this.filterControl.setValue("")}getAllRoles(){this.roleService.getAll().pipe(Ce(()=>{this.optionItems=this.roleList.map(e=>({idRol:e.idRol,dsRol:e.dsRol,nombre:e.nomPerfil+" / "+e.nombre,idPerfil:e.idPerfil,nomPerfil:e.nomPerfil,show:!0})),this.filteredOptions=this.filterControl.valueChanges.pipe(ho(""),eo(e=>(this.optionItems.forEach(i=>{i.show=i.nombre.toLocaleLowerCase().includes(e.toLowerCase())}),this.optionItems))),this.getAllResources()})).subscribe(e=>{e.statusCode===this.successfulStatusCode&&(this.roleList=e.body.data.roles)})}getAllResources(){this.resourceService.getAll().pipe(Ce(()=>{this.data.action=="Update"&&this.load(this.data.idRolRecurso)})).subscribe(e=>{e.statusCode===this.successfulStatusCode&&(this.resourceList=e.body.data.resources)})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new Ms(this.roleResource.value);this.roleResourceService.insert(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.response),this.dialogRef.close({data:this.data})):this.showMessage(i.body.data.message)})}else if(this.data.action=="Update"){let e=new Ms(this.roleResource.value,this.data.idRolRecurso);this.roleResourceService.update(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.response),this.dialogRef.close({data:this.data})):this.showMessage(i.body.data.message)})}}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(at),g(W),g(Y),g(An),g(pr),g(Xa))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-autorizaciones"]],decls:34,vars:12,consts:[["fontSize",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],[1,"example-margin"],["ngDefaultControl","",3,"closed","formControl"],[1,"example-full-width"],["matInput","","ngDefaultControl","","type","text","name","filter-options","id","filter-options","placeholder","Buscar",3,"formControl"],[3,"value","ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["ngDefaultControl","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],[3,"value","ngClass"],[3,"value"],["mat-raised-button","","color","primary","type","submit"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"form",7),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),c(15,"Rol"),s(),r(16,"mat-select",12,0),_("closed",function(){return v(a),S(o.onPanelClose())}),r(18,"mat-form-field",13),C(19,"input",14),s(),h(20,qD,2,5,"mat-option",15),Mt(21,"async"),s(),h(22,GD,2,0,"mat-error",16),s()(),r(23,"div",10)(24,"mat-form-field",11)(25,"mat-label"),c(26,"Recurso"),s(),r(27,"mat-select",17,0),h(29,UD,2,2,"mat-option",18),s(),h(30,$D,2,0,"mat-error",16),s()()(),r(31,"div",9)(32,"div",19),h(33,QD,2,1,"button",20),s()()()()}i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.roleResource),m(7),p("formControl",o.roleResource.controls.rol),m(3),p("formControl",o.filterControl),m(),p("ngForOf",Pi(21,10,o.filteredOptions)),m(2),p("ngIf",o.roleResource.controls.rol.hasError("required")),m(5),p("formControl",o.roleResource.controls.recurso),m(2),p("ngForOf",o.resourceList),m(),p("ngIf",o.roleResource.controls.recurso.hasError("required")),m(3),p("ngIf",o.roleResource.valid))},dependencies:[gt,Ri,le,X,Ee,_e,ve,et,St,Ut,ae,V,Ye,q,H,Ke,G,Je,Eo],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-select-panel{width:auto;max-width:100%}.hide[_ngcontent-%COMP%]{display:none!important}"]})}}return t})();var WD=()=>[6,10,100,1e3];function KD(t,n){t&1&&(r(0,"th",23),c(1," Rol "),s())}function YD(t,n){if(t&1&&(r(0,"td",24),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombre,"")}}function XD(t,n){t&1&&(r(0,"th",23),c(1," Perfil "),s())}function ZD(t,n){if(t&1&&(r(0,"td",24),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombrePerfil,"")}}function JD(t,n){t&1&&(r(0,"th",23),c(1," Recurso "),s())}function eF(t,n){if(t&1&&(r(0,"td",24),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombreRecurso," ")}}function tF(t,n){t&1&&(r(0,"th",25),c(1,"Acciones"),s())}function iF(t,n){if(t&1){let e=E();r(0,"td",24)(1,"div")(2,"button",26),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),r(3,"mat-icon"),c(4,"edit"),s()(),r(5,"button",27),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Delete",o))}),r(6,"mat-icon",28),c(7,"delete_forever"),s()()()()}}function oF(t,n){t&1&&C(0,"tr",29)}function nF(t,n){t&1&&C(0,"tr",30)}var Xg=(()=>{class t{constructor(e,i,o,a){this.roleResourceService=e,this.dialog=i,this._snackBar=o,this.loginService=a,this.filtroFormControl=new O("",[]),this.displayedColumns=["nombre","nombrePerfil","nombreRecurso","acciones"],this.successfulStatusCode=200}ngOnInit(){this.getRoleResource(null)}getRoleResource(e){let i=this.paginator.pageIndex,o=[];this.roleResourceService.getAll().pipe(Ce(()=>{this.dataSource=new Se(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())})).subscribe(a=>{a.statusCode===this.successfulStatusCode?o=a.body.data.rolRecursos:this.showMessage(a.body.data.message)})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDialog(e,i){i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="Delete"?this.openDeleteDialog(i):i.action=="Insert"&&this.openAddDialog(i)}openUpdateDialog(e){e.title="Modificar autorizaci\xF3n:",e.boton="Actualizar",this.dialog.open(pp,{data:e,disableClose:!0}).afterClosed().subscribe(o=>{o!=null&&this.getRoleResource(null)})}openDeleteDialog(e){e.mensaje="\xBFRealmente desea eliminar la autorizaci\xF3n "+e.nombre+"?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.roleResourceService.delete(e.idRolRecurso).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.response),this.getRoleResource(null)):this.showMessage(a.body.data.message)})})}openAddDialog(e){e.title="Agregar autorizaci\xF3n:",e.boton="Guardar",this.dialog.open(pp,{data:e,disableClose:!0}).afterClosed().subscribe(o=>{o!=null&&this.getRoleResource(null)})}static{this.\u0275fac=function(i){return new(i||t)(g(An),g(Z),g(K),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-autorizaciones"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:34,vars:6,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-10"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],["matTooltip","Agregar autorizaci\xF3n",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombrePerfil"],["matColumnDef","nombreRecurso"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"accion"],["matTooltip","Editar autorizaci\xF3n",1,"bc-button-icon",3,"click"],["matTooltip","Eliminar autorizaci\xF3n",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),r(13,"div",7)(14,"button",10),_("click",function(){return v(a),S(o.openDialog("Insert",o.loginService.getData()))}),r(15,"mat-icon"),c(16,"add"),s()()()()(),r(17,"div",11)(18,"table",12),F(19,13),h(20,KD,2,0,"th",14)(21,YD,2,1,"td",15),R(),F(22,16),h(23,XD,2,0,"th",14)(24,ZD,2,1,"td",15),R(),F(25,17),h(26,JD,2,0,"th",14)(27,eF,2,1,"td",15),R(),F(28,18),h(29,tF,2,0,"th",19)(30,iF,8,0,"td",15),R(),h(31,oF,1,0,"tr",20)(32,nF,1,0,"tr",21),s(),C(33,"mat-paginator",22),s()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(12),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,WD)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:17%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return t})();var Bc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idSecRolOperacion=e)}};function rF(t,n){t&1&&(r(0,"mat-error"),c(1," Descripci\xF3n rol requerido "),s())}function sF(t,n){if(t&1&&(r(0,"button",15),c(1),s()),t&2){let e=x();m(),I(e.data.boton)}}var up=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.secRolService=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.data.action=="Update"&&this.load(this.data.idSecRol)}buildForm(){this.secRol=this.fb.group({dsSecRol:["",[A.required]]})}load(e){let i;this.secRolService.getSecRolById(e).pipe(Ce(()=>{i&&this.secRol.patchValue({dsSecRol:i.dsSecRol})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.secRole:this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new pn(this.secRol.value);this.secRolService.insertSecRol(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}else{let e=new pn(this.secRol.value,this.data.idSecRol);this.secRolService.updateSecRol(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(Cr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-rol"]],decls:24,vars:6,consts:[["messageDsSecRol",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","maxlength","100",3,"formControl"],["align","end"],[4,"ngIf"],["class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],["type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"form",7),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field")(14,"mat-label"),c(15,"Descripci\xF3n rol"),s(),C(16,"input",11,0),r(18,"mat-hint",12),c(19),s(),h(20,rF,2,0,"mat-error",13),s()()()(),r(21,"div",9)(22,"div",10),h(23,sF,2,1,"button",14),s()()()}if(i&2){let a=re(17);m(4),I(o.data.title),m(5),p("formGroup",o.secRol),m(7),p("formControl",o.secRol.controls.dsSecRol),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.secRol.controls.dsSecRol.hasError("required")),m(3),p("ngIf",o.secRol.valid)}},dependencies:[le,X,Ee,_e,ve,Fi,et,V,Ye,q,H,Ke,$t,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();function cF(t,n){if(t&1){let e=E();r(0,"mat-tree-node",13),C(1,"button",14),r(2,"mat-checkbox",15),_("change",function(o){let a=v(e).$implicit,l=x();return S(l.changeSecOperation(a.id,o))}),c(3),s()()}if(t&2){let e=n.$implicit,i=x();m(2),p("checked",i.idSecOperationList.includes(e.id)),m(),I(e.descripcion)}}function mF(t,n){if(t&1&&(r(0,"mat-tree-node",13)(1,"button",16)(2,"mat-icon",17),c(3),s()(),c(4),s()),t&2){let e=n.$implicit,i=x();m(),oa("aria-label","Toggle "+e.descripcion),m(2),T(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),m(),T(" ",e.descripcion," ")}}function dF(t,n){if(t&1){let e=E();r(0,"button",18),_("click",function(){v(e);let o=x();return S(o.onSubmit())}),c(1,"Agregar"),s()}}var Zg=(()=>{class t{constructor(e,i,o,a){this.dialogRef=e,this.secOperacionService=i,this.data=o,this._snackBar=a,this._transformer=(l,d)=>({expandable:!!l.children&&l.children.length>0,descripcion:l.descripcion,id:l.id,level:d}),this.successfulStatusCode=200,this.treeControl=new kf(l=>l.level,l=>l.expandable),this.treeFlattener=new Lf(this._transformer,l=>l.level,l=>l.expandable,l=>l.children),this.dataSource=new jf(this.treeControl,this.treeFlattener),this.idSecOperationList=[],this.hasChild=(l,d)=>d.expandable}ngOnInit(){this.getAllSecOperationsExcludingByRoleId()}getAllSecOperationsExcludingByRoleId(){var e;this.secOperacionService.getAllSecOperationsExcludingByRoleId(this.data.idSecRol).pipe(Ce(()=>{e&&(this.dataSource.data=e)})).subscribe(i=>{i.statusCode===this.successfulStatusCode?e=JSON.parse(i.body.data.secOperations):(this.showMessage(i.body.data.message),this.dialogRef.close())})}onNoClick(){this.dialogRef.close()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changeSecOperation(e,i){i.checked?this.idSecOperationList.push(e):this.idSecOperationList=this.idSecOperationList.filter(o=>o!=e)}onSubmit(){this.data.idSecOperationList=this.idSecOperationList,this.dialogRef.close({data:this.data})}static{this.\u0275fac=function(i){return new(i||t)(g(W),g(Xl),g(Y),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-rol-operacion"]],decls:17,vars:5,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-12","scroll"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"row","justify-content-start"],[1,"col-6"],["class","bc-button-small bc-button-primary",3,"click",4,"ngIf"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],[3,"change","checked"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"bc-button-small","bc-button-primary",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",1)(10,"div",6)(11,"mat-tree",7),h(12,cF,4,2,"mat-tree-node",8)(13,mF,5,3,"mat-tree-node",9),s()()(),r(14,"div",10)(15,"div",11),h(16,dF,2,0,"button",12),s()()()),i&2&&(m(4),I(o.data.title),m(7),p("dataSource",o.dataSource)("treeControl",o.treeControl),m(2),p("matTreeNodeDefWhen",o.hasChild),m(3),p("ngIf",o.idSecOperationList.length>0))},dependencies:[ja,Io,le,X,Of,Vf,Bf,Nf,Af,V],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.scroll[_ngcontent-%COMP%]{overflow:auto;height:300PX}  .mat-select-panel{width:auto;max-width:100%}"]})}}return t})();var Lc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idSecOperacion=e)}};var Jg=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetSecRolOperationBySecRolId="/secroloperacion/getsecroloperationbysecrolid",this.urlInsertSecRolOperation="/secroloperacion/insertsecroloperation",this.urlDeleteSecRolOperation="/secroloperacion/deletesecroloperation"}getSecRolOperationBySecRolId(e){let i=new be().set("secRoleId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetSecRolOperationBySecRolId,{params:i})}insertSecRol(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertSecRolOperation,e)}deleteSecRolOperation(e){let i=new be().set("secRoleOperationId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteSecRolOperation,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var e_=()=>[6,10,100,1e3];function uF(t,n){t&1&&(r(0,"th",32),c(1," seleccionar "),s())}function fF(t,n){if(t&1){let e=E();r(0,"td",33)(1,"mat-checkbox",34),_("change",function(o){let a=v(e),l=a.$implicit,d=a.index,u=x();return S(u.getSecRoleOperation(l.idSecRol,d,o))}),s()()}if(t&2){let e=n.index,i=x();m(),p("checked",i.selected===e)}}function hF(t,n){t&1&&(r(0,"th",35),c(1," Rol "),s())}function gF(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsSecRol,"")}}function _F(t,n){t&1&&(r(0,"th",36),c(1,"Acciones "),s())}function CF(t,n){if(t&1){let e=E();r(0,"td",33)(1,"div")(2,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialogUpdateRole(o))}),r(3,"mat-icon"),c(4,"edit"),s()(),r(5,"button",38),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialogDeleteRol(o))}),r(6,"mat-icon",39),c(7,"delete_forever"),s()()()()}}function bF(t,n){t&1&&C(0,"tr",40)}function vF(t,n){t&1&&C(0,"tr",41)}function SF(t,n){if(t&1){let e=E();r(0,"button",42),_("click",function(){v(e);let o=x();return S(o.openDialogAddRoleOperation())}),r(1,"mat-icon"),c(2,"add"),s()()}}function yF(t,n){t&1&&(r(0,"th",43),c(1," M\xF3dulo "),s())}function xF(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsSecModulo,"")}}function wF(t,n){t&1&&(r(0,"th",44),c(1," Operaci\xF3n "),s())}function EF(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsSecOperacion,"")}}function MF(t,n){t&1&&(r(0,"th",36),c(1,"Acciones "),s())}function IF(t,n){if(t&1){let e=E();r(0,"td",33)(1,"div")(2,"button",38),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialogDeleteRolOperation(o))}),r(3,"mat-icon",39),c(4,"delete_forever"),s()()()()}}function TF(t,n){t&1&&C(0,"tr",40)}function PF(t,n){t&1&&C(0,"tr",41)}var t_=(()=>{class t{constructor(e,i,o,a){this.secRolService=e,this.secRolOperacionService=i,this.dialog=o,this._snackBar=a,this.filtroRoleFormControl=new O("",[]),this.displayedColumnsRole=["select","dsSecRol","acciones"],this.filtroRoleOperationFormControl=new O("",[]),this.displayedColumnsRoleOperation=["dsSecModulo","dsSecOperacion","acciones"],this.paginator=new a0,this.successfulStatusCode=200,this.selected=-1}ngOnInit(){this.getSecRole(null)}getSecRole(e){let i=[];this.secRolService.getAllSecRol().pipe(Ce(()=>{this.dataSourceRole=new Se(i),this.dataSourceRole.paginator=this.paginator.toArray()[0],e!=null&&(this.filtroRoleFormControl.setValue(e),this.dataSourceRole.filter=e.trim().toLowerCase(),this.dataSourceRole.paginator&&this.dataSourceRole.paginator.firstPage())})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.secRoles:this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}applyFilterRole(e){this.selected=-1,this.currentSecRoleId=void 0,this.dataSourceRoleOperation=new Se([]),this.dataSourceRole.filter=e.trim().toLowerCase(),this.dataSourceRole.paginator&&this.dataSourceRole.paginator.firstPage()}getSecRoleOperation(e,i,o,a){if(o&&o.checked||!o){this.currentSecRoleId=e;let l=[];this.selected=i,this.secRolOperacionService.getSecRolOperationBySecRolId(e).pipe(Ce(()=>{this.dataSourceRoleOperation=new Se(l),this.dataSourceRoleOperation.paginator=this.paginator.toArray()[1],a!=null&&(this.dataSourceRoleOperation.filter=a.trim().toLowerCase(),this.dataSourceRoleOperation.paginator&&this.dataSourceRoleOperation.paginator.firstPage())})).subscribe(d=>{d.statusCode===this.successfulStatusCode?l=d.body.data.secRoleOperations:this.showMessage(d.body.data.message)})}else this.selected=-1,this.currentSecRoleId=void 0,this.dataSourceRoleOperation=new Se([])}openDialogAddRole(){let e={title:"Agregar rol:",boton:"Guardar",action:"Insert"};this.dialog.open(up,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getSecRole(null)})}openDialogUpdateRole(e){e.title="Actualizar rol:",e.boton="Actualizar",e.action="Update",this.dialog.open(up,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getSecRole(null)})}openDialogDeleteRol(e){e.mensaje="\xBFRealmente desea eliminar el rol "+e.dsSecRol+"?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.secRolService.deleteSecRol(e.idSecRol).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message),this.getSecRole(null),this.selected=-1,this.currentSecRoleId=void 0,this.dataSourceRoleOperation&&(this.dataSourceRoleOperation=new Se([]))):this.showMessage(a.body.data.message)})})}applyFilterRoleOperation(e){this.dataSourceRoleOperation.filter=e.trim().toLowerCase(),this.dataSourceRoleOperation.paginator&&this.dataSourceRoleOperation.paginator.firstPage()}openDialogAddRoleOperation(){let e={title:"Agregar operaci\xF3n al rol:",idSecRol:this.currentSecRoleId};this.dialog.open(Zg,{data:e}).afterClosed().subscribe(o=>{if(o!=null){let a=!1;a=o.data.idSecOperationList.some(l=>{let d=new Lc(null,l),u=new pn(null,o.data.idSecRol),f=new Bc({secOperacion:d,secRol:u});this.secRolOperacionService.insertSecRol(f).subscribe(b=>{if(b.statusCode===this.successfulStatusCode)this.message=b.body.data.message,this.getSecRoleOperation(o.data.idSecRol,this.selected);else return this.showMessage(b.body.data.message),!0})}),a||this.showMessage("Se ha agregado la operaci\xF3n al rol.")}})}openDialogDeleteRolOperation(e){e.mensaje="\xBFRealmente desea eliminar la operaci\xF3n "+e.dsSecOperacion+" del rol?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.secRolOperacionService.deleteSecRolOperation(e.idSecRolOperacion).subscribe(a=>{a.statusCode===this.successfulStatusCode?(this.showMessage(a.body.data.message),this.getSecRoleOperation(this.currentSecRoleId,this.selected,null,this.filtroRoleOperationFormControl.value)):this.showMessage(a.body.data.message)})})}static{this.\u0275fac=function(i){return new(i||t)(g(Cr),g(Jg),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-rol-operacion"]],viewQuery:function(i,o){if(i&1&&(L(J,7),L($,5)),i&2){let a;j(a=z())&&(o.sort=a.first),j(a=z())&&(o.paginator=a)}},decls:59,vars:13,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],[1,"col-9"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[1,"col-1"],["matTooltip","Agregar rol",1,"bc-fab-button-mini",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","id","select","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsSecRol"],["mat-header-cell","","id","dsSecRol","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","id","acciones","mat-sort-header","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"col-10"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-2"],["class","bc-fab-button-mini","matTooltip","Agregar Operaci\xF3n",3,"click",4,"ngIf"],["matColumnDef","dsSecModulo"],["mat-header-cell","","id","dsSecModulo","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","dsSecOperacion"],["mat-header-cell","","id","dsSecOperacion","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","id","select","mat-sort-header",""],["mat-cell",""],[3,"change","checked"],["mat-header-cell","","id","dsSecRol","mat-sort-header",""],["mat-header-cell","","id","acciones","mat-sort-header","",1,"accion"],["matTooltip","Editar rol",1,"bc-button-icon",3,"click"],["matTooltip","Eliminar rol",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""],["matTooltip","Agregar Operaci\xF3n",1,"bc-fab-button-mini",3,"click"],["mat-header-cell","","id","dsSecModulo","mat-sort-header",""],["mat-header-cell","","id","dsSecOperacion","mat-sort-header",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1),C(1,"br"),r(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"bc-form-field",5)(7,"em"),C(8,"bc-icon",6),s(),r(9,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilterRole(d.target.value))}),s(),r(11,"label"),c(12,"Escriba el texto a buscar"),s()(),r(13,"bc-form-field",8)(14,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilterRole(o.filtroRoleFormControl.value))}),s()()(),r(15,"div",10)(16,"bc-form-field")(17,"button",11),_("click",function(){return v(a),S(o.openDialogAddRole())}),r(18,"mat-icon"),c(19,"add"),s()()()()(),r(20,"div",2)(21,"div",12)(22,"table",13),F(23,14),h(24,uF,2,0,"th",15)(25,fF,2,1,"td",16),R(),F(26,17),h(27,hF,2,0,"th",18)(28,gF,2,1,"td",16),R(),F(29,19),h(30,_F,2,0,"th",20)(31,CF,8,0,"td",16),R(),h(32,bF,1,0,"tr",21)(33,vF,1,0,"tr",22),s(),C(34,"mat-paginator",23),s()()(),r(35,"div",3)(36,"div",2)(37,"div",24)(38,"mat-form-field")(39,"mat-label"),c(40,"Filtro"),s(),r(41,"input",25),_("keyup",function(d){return v(a),S(o.applyFilterRoleOperation(d.target.value))}),s()()(),r(42,"div",26),h(43,SF,3,0,"button",27),s()(),r(44,"div",2)(45,"div",12)(46,"table",13),F(47,28),h(48,yF,2,0,"th",29)(49,xF,2,1,"td",16),R(),F(50,30),h(51,wF,2,0,"th",31)(52,EF,2,1,"td",16),R(),F(53,19),h(54,MF,2,0,"th",20)(55,IF,5,0,"td",16),R(),h(56,TF,1,0,"tr",21)(57,PF,1,0,"tr",22),s(),C(58,"mat-paginator",23),s()()()()()}i&2&&(m(9),p("formControl",o.filtroRoleFormControl),m(13),p("dataSource",o.dataSourceRole),m(10),p("matHeaderRowDef",o.displayedColumnsRole),m(),p("matRowDefColumns",o.displayedColumnsRole),m(),p("pageSizeOptions",Te(11,e_)),m(7),p("formControl",o.filtroRoleOperationFormControl),m(2),p("ngIf",o.currentSecRoleId),m(3),p("dataSource",o.dataSourceRoleOperation),m(10),p("matHeaderRowDef",o.displayedColumnsRoleOperation),m(),p("matRowDefColumns",o.displayedColumnsRoleOperation),m(),p("pageSizeOptions",Te(12,e_)))},dependencies:[Io,X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:17%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return t})();var FF=()=>[5,10,100];function RF(t,n){t&1&&(r(0,"span",30),c(1,"AUTORIZACI\xD3N"),s())}function kF(t,n){if(t&1&&(r(0,"mat-option",31),c(1),s()),t&2){let e=n.$implicit;p("value",e.idRecurso),m(),T(" ",e.dsRecurso," ")}}function AF(t,n){t&1&&(r(0,"th",32),c(1," Nombre "),s())}function OF(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),Uo(" ",e.nombre," ",e.apellido1!=null?" "+e.apellido1:""," ",e.apellido2!=null?" "+e.apellido2:""," ")}}function VF(t,n){t&1&&(r(0,"th",34),c(1,"Acciones"),s())}function NF(t,n){if(t&1){let e=E();r(0,"td",33)(1,"button",35),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Delete",o))}),r(2,"mat-icon",36),c(3,"delete_forever"),s()()()}}function BF(t,n){t&1&&C(0,"tr",37)}function LF(t,n){t&1&&C(0,"tr",38)}function jF(t,n){t&1&&(r(0,"span",39),c(1,"AUTORIZACION POR ROL"),s())}function zF(t,n){t&1&&C(0,"app-autorizaciones")}function HF(t,n){t&1&&(r(0,"span",39),c(1,"ROL OPERACI\xD3N"),s())}function qF(t,n){t&1&&C(0,"app-rol-operacion")}function GF(t,n){t&1&&(r(0,"mat-tab"),h(1,HF,2,0,"ng-template",3),r(2,"div",27),h(3,qF,1,0,"ng-template",28),s()())}function UF(t,n){t&1&&(r(0,"span",39),c(1,"ROL PERSONA"),s())}function $F(t,n){t&1&&C(0,"app-persona",40),t&2&&p("origen","admin")}function QF(t,n){t&1&&(r(0,"mat-tab"),h(1,UF,2,0,"ng-template",3),r(2,"div",27),h(3,$F,1,1,"ng-template",28),s()())}var i_=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.adminService=i,this.loginService=o,this.dialog=a,this._snackBar=l,this.recursoFormControl=new O("",[A.required]),this.filtroFormControl=new O("",[]),this.displayedColumns=["nombre","acciones"]}ngOnInit(){this.adminService.getRecursos().subscribe(e=>{e==null&&this.router.navigate(["/login"]),this.recursoList=e.recursoList})}buscarAutorizaciones(){this.recursoFormControl.markAsTouched(),this.recursoFormControl.hasError("required")?this.showMessage("Por favor diligencie los campos marcados"):this.getAutorizaciones(this.recursoFormControl.value)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialog(e,i){i.action=e,i.action=="Delete"?this.openDeleteDialog(i):i.action=="Add"&&this.openAddDialog(i)}openDeleteDialog(e){e.mensaje="\xBFRealmente desea eliminar la autorizaci\xF3n?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.adminService.deleteAutorizacion(o.data.idAutorizacion).subscribe(a=>{a==null&&this.router.navigate(["/login"]),a!=null&&a.status!="0"&&(this.dataSource.data=this.dataSource.data.filter((l,d)=>l.idAutorizacion!=o.data.idAutorizacion)),this.showMessage(a.mensaje)})})}openAddDialog(e){this.recursoFormControl.markAsTouched(),this.recursoFormControl.hasError("required")?this.showMessage("Por favor diligencie los campos marcados"):(e.mode="add",e.boton="Autorizar",e.title="Agregar Autorizaci\xF3n:",this.dialog.open(Wg,{width:"350px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.adminService.setAutorizacion(this.recursoFormControl.value,o.data.idPersona).subscribe(a=>{a==null&&this.router.navigate(["/login"]),a.id==null?this.showMessage(a.mensaje):(this.getAutorizaciones(this.recursoFormControl.value),this.showMessage(a.mensaje))})}))}getAutorizaciones(e){this.adminService.getTablaAutorizaciones(e).subscribe(i=>{i==null&&this.router.navigate(["/login"]),i!=null&&(this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(kn),g(he),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-seguridad"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:48,vars:10,consts:[["inputstring",""],["fontSize",""],["backgroundColor","accent","mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-5"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matTooltip","Buscar Autorizaciones",1,"bc-fab-button-mini",3,"click"],["matTooltip","Agregar Persona",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"mat-typography","main-div"],["matTabContent",""],[4,"ngIf"],["matTooltip","Autorizaci\xF3n"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Eliminar Autorizaci\xF3n",1,"bc-button-icon",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""],["matTooltip","Autorizaciones"],[3,"origen"]],template:function(i,o){if(i&1){let a=E();r(0,"mat-tab-group",2)(1,"mat-tab"),h(2,RF,2,0,"ng-template",3),r(3,"div",4)(4,"div",5)(5,"div",6)(6,"bc-form-field",7)(7,"em"),C(8,"bc-icon",8),s(),r(9,"input",9,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(11,"label"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",10)(14,"bc-form-field",11)(15,"bc-icon-button",12),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),r(16,"div",6)(17,"mat-form-field")(18,"mat-label"),c(19,"Recurso"),s(),r(20,"mat-select",13,1),h(22,kF,2,2,"mat-option",14),s()()(),r(23,"div",10)(24,"bc-form-field")(25,"button",15),_("click",function(){return v(a),S(o.buscarAutorizaciones())}),r(26,"mat-icon"),c(27,"search"),s()(),r(28,"button",16),_("click",function(){return v(a),S(o.openDialog("Add",o.loginService.getData()))}),r(29,"mat-icon"),c(30,"add"),s()()()()()(),r(31,"div",17)(32,"table",18),F(33,19),h(34,AF,2,0,"th",20)(35,OF,2,3,"td",21),R(),F(36,22),h(37,VF,2,0,"th",23)(38,NF,4,0,"td",21),R(),h(39,BF,1,0,"tr",24)(40,LF,1,0,"tr",25),s(),C(41,"mat-paginator",26),s()(),r(42,"mat-tab"),h(43,jF,2,0,"ng-template",3),r(44,"div",27),h(45,zF,1,0,"ng-template",28),s()(),h(46,GF,4,0,"mat-tab",29)(47,QF,4,0,"mat-tab",29),s()}i&2&&(m(9),p("formControl",o.filtroFormControl),m(11),p("formControl",o.recursoFormControl),m(2),p("ngForOf",o.recursoList),m(10),p("dataSource",o.dataSource),m(7),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(9,FF)),m(5),p("ngIf",o.loginService.validateModule("SM48")),m(),p("ngIf",o.loginService.validateModule("SM49")))},dependencies:[gt,X,_e,ve,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,Ei,_i,Ci,bi,oe,Fc,ae,V,q,H,G,te,ee,Me,fe,Xg,t_],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{margin-right:8px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:flex-end}mat-form-field[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{width:100%}.accion[_ngcontent-%COMP%]{width:10%}.persona[_ngcontent-%COMP%]{width:90%}.maintable[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();var o_=(()=>{class t{constructor(e,i){this.router=e,this.adminService=i,this.showSpinner=!1}ngOnInit(){}descargarBD(){this.showSpinner=!0,this.adminService.getBD().subscribe(e=>{this.showSpinner=!1,e==null&&this.router.navigate(["/login"])})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(kn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-base-datos"]],decls:4,vars:1,consts:[[3,"showSpinner"],["mat-raised-button","","color","accent",3,"click"]],template:function(i,o){i&1&&(C(0,"app-progreso-spinner",0),r(1,"section")(2,"button",1),_("click",function(){return o.descargarBD()}),c(3,"Descargar BD"),s()()),i&2&&p("showSpinner",o.showSpinner)},dependencies:[Ri,Lo],styles:["section[_ngcontent-%COMP%]{display:table;margin:8px;width:98%;min-height:450px}button[_ngcontent-%COMP%]{display:table-cell;margin-right:8px;margin-bottom:8px;width:49%}"]})}}return t})();var ZF=["modal"],JF=()=>["txt"];function e4(t,n){if(t&1){let e=E();r(0,"div",4)(1,"div",21)(2,"bc-input-file",22),_("getFilesAdded",function(o){v(e);let a=x();return S(a.metodoParaCogerLosArchivos(o))}),s()()()}t&2&&(m(2),p("title","Ejecutar script")("maxSize",1e3)("validType",Te(5,JF))("dropArea",!1)("maxFiles",1))}function t4(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha inicial es requerida "),s())}function i4(t,n){t&1&&(r(0,"mat-error"),c(1," Fecha final es requerida "),s())}var n_=(()=>{class t{constructor(e,i,o,a,l,d){this.generadorExcelService=e,this.reporteService=i,this.loginService=o,this.dialogService=a,this.dialog=l,this.formBuilder=d,this.showSpinner=!1,this.action=!0,this.typeIcon="warning",this.closeModal=!1,this.customWidth="large",this.titleAlign="center",this.buttonAlignment="horizontal",this.title="",this.subTitle="",this.stateDsFunction="valid",this.statusResource="enabled",this.hideCloseButton=!0,this.dateRangeNumber=0,this.successStatusCode=200,this.serverErrorMessage="No se recibe objeto respuesta del servidor",this.errorText="Campos requerido sin diligenciar",this.statusDate=!0,this.isScripter=!1}ngOnInit(){this.buildForm(),this.loadData(),this.getDateRange()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}logsReport(){this.showSpinner=!0,this.reporteService.getLogs().subscribe(e=>{this.showSpinner=!1,e==null&&this.showMessage("El archivo del log ha llegado vacio.","warning","Descarga documento"),this.generadorExcelService.generarExcel(e)})}manageExcel(e,i){let o=e.type,a=[];a.push(e);let l=window.URL.createObjectURL(new Blob(a,{type:o})),d=document.createElement("a");d.href=l,d.setAttribute("download",i),document.body.appendChild(d),d.click()}auditReport(){this.showSpinner=!0;let e=JSON.stringify(this.eventForm.controls.initialDateFormControl.value).substring(1,25),i=JSON.stringify(this.eventForm.controls.finalDateFormControl.value).substring(1,25);this.reporteService.getAudit(e,i).subscribe(o=>{this.showSpinner=!1,this.modal.shutDown(),typeof o<"u"?(this.showMessage("Se ha generado el reporte con \xE9xito","success","Reporte auditor\xEDa"),this.manageExcel(o,`reporte_${new Date}.xlsx`)):this.showMessage("Error al generar el reporte","error","Reporte auditor\xEDa")})}buildForm(){this.eventForm=this.formBuilder.group({initialDateFormControl:["",A.required],finalDateFormControl:["",A.required]})}openModalDate(){this.title="Reporte Auditor\xEDa",this.modal.openModal()}onPressButton(e){e==1?this.validFields()&&this.auditReport():(this.buildForm(),this.clearDate(),this.modal.shutDown())}cleanFinalDateFormControl(){this.eventForm.controls.finalDateFormControl.setValue(""),this.eventForm.controls.finalDateFormControl.enable()}setMinDate(){return this.minDate=new Date(this.eventForm.controls.initialDateFormControl.value),this.minDate}setMaxDate(){let e=new Date(this.eventForm.controls.initialDateFormControl.value);return e.setDate(e.getDate()+this.dateRangeNumber),e}getDateRange(){this.reporteService.getDateRange().pipe(Ce(()=>{this.dateRangeNumber=parseInt(this.dateRange)})).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode?this.dateRange=e.body.data.dateRange:this.showMessage(e.body.data.message,"warning","Fecha"):this.showMessage(this.serverErrorMessage,"error","Fecha")})}clearDate(){this.minDate=null,this.maxDate=null}loadData(){this.eventForm.controls.finalDateFormControl.disable(),this.isScripter=this.loginService.getData().auth.SCR}validFields(){let e=!0;return e=![this.eventForm.controls.initialDateFormControl.valid,this.eventForm.controls.finalDateFormControl.valid].includes(!1),e}metodoParaCogerLosArchivos(e){let i=e[0];i&&this.uploadFile(i)}uploadFile(e){let i=new FormData;i.append("file",e,e.name),this.reporteService.uploadScript(i).subscribe(o=>{o!==void 0?o.statusCode===this.successStatusCode?this.showMessage(o.body.data.message,"success","Ejecuci\xF3n de script"):this.showMessage(o.body.data.error,"warning","Ejecuci\xF3n de script"):this.showMessage(this.serverErrorMessage,"error","Ejecuci\xF3n de script")})}static{this.\u0275fac=function(i){return new(i||t)(g(Zl),g(Jl),g(he),g(ue),g(Z),g(at))}}static{this.\u0275cmp=D({type:t,selectors:[["app-log"]],viewQuery:function(i,o){if(i&1&&L(ZF,5),i&2){let a;j(a=z())&&(o.modal=a.first)}},decls:39,vars:21,consts:[["modal",""],["picker1",""],["picker2",""],[1,"container"],[1,"row","justify-content-start","line-break"],["id","reportAdminLogs",1,"col-6"],["bc-button","","id","logsReport","typebutton","primary","sizebutton","small",1,"bc-button-fill","bc-button-primary","bc-button-small",3,"click"],["aria-hidden","true","aria-label","icono","role","img",1,"bc-icon","bc-sm"],["id","reportAudit",1,"col-6"],["bc-button","","id","AuditReport","typebutton","primary","sizebutton","small",1,"bc-button-fill","bc-button-primary","bc-button-small",3,"click"],["class","row justify-content-start line-break",4,"ngIf"],[3,"showSpinner"],["outerCloseTap","false","textBtn","Guardar","textBtnLeft","Cancelar","typeNotify","success",3,"stateClick","title","typeIcon","customWidth","titleAlign","closedModalEsc","isCancellable","subTitle","buttonAlignment","hideCloseButton"],["modalContent",""],[3,"formGroup"],[1,"col-6"],[1,"example-margin"],["matInput","","formControlName","initialDateFormControl",3,"dateChange","matDatepicker","max"],["matSuffix","",3,"for"],[4,"ngIf"],["matInput","","formControlName","finalDateFormControl",3,"matDatepicker","min","max"],["id","ejecutarScript",1,"col-6"],["buttonLabel","Adjuntar archivo","componentId","inputFileScript",3,"getFilesAdded","title","maxSize","validType","dropArea","maxFiles"]],template:function(i,o){if(i&1){let a=E();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),_("click",function(){return v(a),S(o.logsReport())}),c(4,"Reporte de la aplicaci\xF3n "),r(5,"i",7),c(6,"table-settings"),s()()(),r(7,"div",8)(8,"button",9),_("click",function(){return v(a),S(o.openModalDate())}),c(9,"Reporte Auditor\xEDa "),r(10,"i",7),c(11,"download-document"),s()()()(),h(12,e4,3,6,"div",10),s(),r(13,"div",4),C(14,"app-progreso-spinner",11),s(),r(15,"bc-modal",12,0),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(17,"div",13)(18,"form",14)(19,"div",3)(20,"div",4)(21,"div",15)(22,"mat-form-field",16)(23,"mat-label"),c(24,"Fecha inicial"),s(),r(25,"input",17),_("dateChange",function(){return v(a),S(o.cleanFinalDateFormControl())}),s(),C(26,"mat-datepicker-toggle",18)(27,"mat-datepicker",null,1),h(29,t4,2,0,"mat-error",19),s()(),r(30,"div",15)(31,"mat-form-field",16)(32,"mat-label"),c(33,"Fecha final"),s(),C(34,"input",20)(35,"mat-datepicker-toggle",18)(36,"mat-datepicker",null,2),h(38,i4,2,0,"mat-error",19),s()()()()()()()}if(i&2){let a=re(28),l=re(37);m(12),p("ngIf",o.isScripter),m(2),p("showSpinner",o.showSpinner),m(),p("title",o.title)("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("closedModalEsc",o.closeModal)("isCancellable",o.action)("subTitle",o.subTitle)("buttonAlignment",o.buttonAlignment)("hideCloseButton",o.hideCloseButton),m(3),p("formGroup",o.eventForm),m(7),p("matDatepicker",a)("max",o.maxDate),m(),p("for",a),m(3),p("ngIf",o.eventForm.controls.initialDateFormControl.hasError("required")),m(5),p("matDatepicker",l)("min",o.setMinDate())("max",o.setMaxDate()),m(),p("for",l),m(3),p("ngIf",o.eventForm.controls.finalDateFormControl.hasError("required"))}},dependencies:[ri,si,li,Ee,_e,ve,et,ai,V,Ye,q,H,Ke,Je,ni,Lo,kt,er,Wt],styles:[".line-break[_ngcontent-%COMP%]{padding-top:60px}.line-break-icon[_ngcontent-%COMP%]{padding-top:3px}.align-text-right[_ngcontent-%COMP%]{text-align:right}"]})}}return t})();var n4=["inputstring"],a4=["modal"];function r4(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",23),c(2),s(),r(3,"td",23),c(4),s(),r(5,"td",23),c(6),s(),r(7,"td",23),c(8),s(),r(9,"td",24)(10,"div",25)(11,"em",26),c(12,"secondary-menu"),s(),r(13,"div",27)(14,"ul")(15,"li",28),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.getSurveyPrevius(o.idSurvey))}),r(16,"a",29)(17,"em",30),c(18,"modify"),s(),c(19," Editar encuesta"),s()(),r(20,"li",31)(21,"a",32),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.openDeleteModal(o.idSurvey))}),r(22,"em",30),c(23,"erase"),s(),c(24," Eliminar encuesta"),s()()()()()()()}if(t&2){let e=n.$implicit,i=n.index,o=x(2);m(),wi("id","tdName",e.name,"",i+1,""),m(),I(e.name),m(),wi("id","tdDescription",e.dsSurvey,"",i+1,""),m(),I(e.dsSurvey),m(),wi("id","tdFuncionality",o.nameFuncionality(e.idFunctionSurvey),"",i+1,""),m(),T(" ",o.nameFuncionality(e.idFunctionSurvey),""),m(),wi("id","tdState",e.state,"",i+1,""),m(),I(e.state),m(8),Bt("id","btnEditarEncuesta",i+1,""),m(5),Bt("id","btnEliminarEncuesta",i+1,"")}}function s4(t,n){if(t&1){let e=E();r(0,"bc-table-container",16)(1,"bc-table-header",17)(2,"bc-paginator",18),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",19)(5,"thead")(6,"tr")(7,"th",20),c(8,"Nombre de la encuesta"),s(),r(9,"th",20),c(10,"Descripci\xF3n"),s(),r(11,"th",20),c(12," Funcionalidad "),s(),r(13,"th",20),c(14,"Estado"),s(),r(15,"th",21),c(16,"Acciones"),s()()(),r(17,"tbody"),h(18,r4,25,20,"tr",22),s()()()()}if(t&2){let e=x();p("dataTable",e.surveyData),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("dropdownHtml",!0),m(14),p("ngForOf",e.surveyData)}}var a_=(()=>{class t{constructor(e,i,o){this.dialog=e,this.encuestaService=i,this.dialogService=o,this.dataSource=new Se,this.surveyData=[],this.page=1,this.limit=6,this.dataSources=[],this.currentPage=1,this.customWidth="small",this.titleAlign="",this.buttonAlignment="horizontal",this.selectedValue="",this.action=!0,this.typeIcon="warning",this.filter=null,this.visibleCreateSurvey=new Ui}ngOnInit(){this.getSurveys(),this.fieldFuncionality()}openCreateSurvery(e){e?this.survey=e:this.survey={action:"Create"},this.visibleCreateSurvey.emit(this.survey)}getSurveys(){this.encuestaService.getSurveys(this.filter,this.page,this.limit).subscribe(e=>{this.surveyData=e.body.data.response,this.totalRegisters=this.surveyData.length})}fieldFuncionality(){this.encuestaService.funcionalitySurvey(null,null,null).subscribe(e=>{this.funcionality=e.body.data.mensaje})}nameFuncionality(e){return this.funcionality.find(o=>o.idFunctionSurvey===e).dsFunction}deleteSurvey(e){this.encuestaService.deleteSurvey(e).subscribe(i=>{this.getSurveys(),this.modal.shutDown()})}openDeleteModal(e){this.surveySelected=e,this.modal.openModal()}getSurveyPrevius(e){this.encuestaService.getInfoSurvey(e).subscribe(i=>{this.openCreateSurvery(i?.body?.data)})}checkModalButtons(e){e===0?this.modal.shutDown():e===1&&this.deleteSurvey(this.surveySelected)}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getSurveys()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getSurveys())}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getSurveys()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getSurveys())}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(Fn),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-encuesta-list"]],viewQuery:function(i,o){if(i&1&&(L(n4,7),L(a4,5)),i&2){let a;j(a=z())&&(o.uploadFileInput=a.first),j(a=z())&&(o.modal=a.first)}},outputs:{visibleCreateSurvey:"visibleCreateSurvey"},decls:23,vars:19,consts:[["inputstring",""],["modal",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"col-10"],[1,"bc-col-10"],["aria-hidden","true","aria-label","prueba",3,"customIcon","type","size"],["id","inputstring","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],[1,"col-1"],["id","searchButton","aria-label","Buscar",2,"align-self","center",3,"click","type","size","color","shadow","customIcon"],[2,"float","right",3,"click","customIcon","type","size","color","shadow"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["title","Eliminar encuesta","displayButton","true","textBtn","Eliminar","textBtnLeft","Cancelar",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable","buttonAlignment"],["modalContent",""],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","dropdownHtml"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","accion"],[4,"ngFor","ngForOf"],["bc-cell","",3,"id"],["bc-cell","","type","action"],[1,"bc-dropdown","bc-dropdown-undismiss"],["aria-controls","myDropdown4","tabindex","0",1,"bc-list-menu-dropdown","bc-icon","bc-st","bc-dropdown-toggle"],["id","myDropdown4",1,"bc-dropdown-content"],[1,"bc-dropdown-item",3,"click"],[1,"bc-link",3,"id"],[1,"bc-icon","bc-sm"],[1,"bc-dropdown-item"],[1,"bc-link",3,"click","id"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"bc-form-field",6)(6,"em"),C(7,"bc-icon-button",7),s(),r(8,"input",8,0),_("keyup",function(d){v(a);let u=re(9);return S(o.applyFilter(d,u.value))}),s(),C(10,"label",9),r(11,"span"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",10)(14,"bc-icon-button",11),_("click",function(){return v(a),S(o.searchInTable())}),s()(),r(15,"div",10)(16,"bc-icon-button",12),_("click",function(){return v(a),S(o.openCreateSurvery())}),s()()()()(),h(17,s4,19,7,"bc-table-container",13),s(),r(18,"bc-modal",14,1),_("stateClick",function(d){return v(a),S(o.checkModalButtons(d))}),r(20,"div",15)(21,"p"),c(22," \xBFRealmente desea anular la encuesta?"),s()()()}i&2&&(m(7),p("customIcon","filter")("type","ghost")("size","medium"),m(7),p("type","solid")("size","large")("color","white")("shadow",!0)("customIcon","search"),m(2),p("customIcon","plus")("type","solid")("size","large")("color","white")("shadow",!0),m(),p("ngIf",o.surveyData.length>0),m(),p("typeIcon",o.typeIcon)("customWidth","large")("titleAlign",o.titleAlign)("isCancellable",o.action)("buttonAlignment","horizontal"))},dependencies:[ae,V,te,ee,pt,mt,ct,dt,ut,lt,Wt,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}  .bc-modal-overlay{display:none}"]})}}return t})();function c4(t,n){if(t&1&&(r(0,"div",34)(1,"div",8)(2,"bc-form-field"),C(3,"bc-input-number",35),s()()()),t&2){let e=x(),i=e.$implicit,o=e.index,a=x(2);m(3),wi("id","range",i.get("nameTypeQuestion").value,"",o+1,""),p("step",1)("min",1)("label",a.objNameRange.label)("hint",a.objNameRange.hint)("formControl",i.get("options").at(0))}}function m4(t,n){if(t&1){let e=E();r(0,"div",40)(1,"div",41)(2,"bc-form-field"),C(3,"input",42),r(4,"div",43)(5,"bc-icon-button",44),_("click",function(){let o=v(e).index,a=x(2).$implicit,l=x(2);return S(l.removeOption(o,a.get("options")))}),s()()()()()}if(t&2){let e=n.$implicit,i=n.index,o=x(2).$implicit;m(3),wi("id","opt",o.get("nameTypeQuestion").value,"",i+1,""),p("formControl",e),m(2),p("size","large")("customIcon","erase")("type","solid")("color","white")("shadow",!0)}}function d4(t,n){if(t&1){let e=E();r(0,"div"),h(1,m4,6,9,"div",36),r(2,"div",37)(3,"button",38),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.addOptionQuestion(o.get("options")))}),C(4,"bc-icon",39),s()()()}if(t&2){let e=x().$implicit,i=x(2);m(),p("ngForOf",i.optionsQuestion(e.get("options").controls))("ngForTrackBy",i.trackByFn)}}function p4(t,n){if(t&1){let e=E();r(0,"div",28)(1,"div",4)(2,"div",5)(3,"div",6),C(4,"bc-icon",29),s()(),r(5,"div",8)(6,"bc-icon-button",30),_("click",function(){let o=v(e).index,a=x(2);return S(a.removeQuestion(o))}),s()()(),r(7,"div",10)(8,"div",4)(9,"div",13)(10,"bc-form-field")(11,"label"),c(12),s(),C(13,"input",31),s()()(),h(14,c4,4,8,"div",32),r(15,"div",4)(16,"div",13)(17,"bc-form-field")(18,"bc-checkbox",33),_("changeState",function(o){let a=v(e).$implicit;return S(a.get("isRequired").setValue(o))}),s()()()(),h(19,d4,5,2,"div",23),s()()}if(t&2){let e=n.$implicit,i=n.index,o=x(2);m(4),vt("name",e.get("iconTypeQuestion").value),m(2),p("type","solid")("color","white")("shadow",!0)("size","large")("customIcon","erase"),m(6),T("",i+1,". Escribe la pregunta"),m(),wi("id","txt",e.get("nameTypeQuestion").value,"",i+1,""),p("formControl",e.get("question")),m(),p("ngIf",e.get("nameTypeQuestion").value=="Calificacion"),m(4),wi("id","chk",e.get("nameTypeQuestion").value,"",i+1,""),p("isChecked",e.get("isRequired").value),m(),p("ngIf",o.conditionOptions(e.get("nameTypeQuestion").value))}}function u4(t,n){t&1&&(r(0,"span"),c(1,"Agregar"),s())}function f4(t,n){t&1&&(r(0,"span"),c(1,"Minimizar"),s())}function h4(t,n){t&1&&(r(0,"bc-icon",27),c(1,"plus"),s())}function g4(t,n){t&1&&(r(0,"bc-icon",27),c(1,"minus"),s())}function _4(t,n){if(t&1){let e=E();r(0,"button",47),_("click",function(){v(e);let o=x().$implicit,a=x(2);return S(a.addQuestion(o))}),c(1),r(2,"bc-icon",27),c(3),s()()}if(t&2){let e=x().$implicit;m(),T(" ",e.dsQuestionType," "),m(2),I(e.icon)}}function C4(t,n){if(t&1&&(r(0,"div",45),h(1,_4,4,2,"button",46),s()),t&2){let e=x(2);m(),p("ngIf",e.flagDesplegarMenu)}}function b4(t,n){if(t&1){let e=E();r(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),C(6,"bc-icon-button",7),s()(),r(7,"div",8)(8,"bc-icon-button",9),_("click",function(){v(e);let o=x();return S(o.saveSurveys())}),s()()(),r(9,"div",10)(10,"h4",11),c(11,"Encuesta"),s(),r(12,"div",2)(13,"div",12)(14,"div",13)(15,"bc-form-field"),C(16,"input",14),r(17,"label",15),c(18,"Nombre de la encuesta"),s()()()(),r(19,"div",12)(20,"div",13)(21,"bc-form-field"),C(22,"input",16),r(23,"label",15),c(24,"Descripci\xF3n"),s()()()(),r(25,"div",17)(26,"div",13)(27,"bc-form-field")(28,"label"),c(29,"Funcionalidad"),s(),C(30,"bc-input-select",18),s()()()()()(),h(31,p4,20,17,"div",19),r(32,"div",20)(33,"div",21)(34,"button",22),_("click",function(){v(e);let o=x();return S(o.visibleFlagMenu())}),h(35,u4,2,0,"span",23)(36,f4,2,0,"span",23)(37,h4,2,0,"bc-icon",24)(38,g4,2,0,"bc-icon",24),s()(),h(39,C4,2,1,"div",25),r(40,"div",21)(41,"button",26),_("click",function(){v(e);let o=x();return S(o.closeSurvey())}),r(42,"span"),c(43,"Cancelar"),s(),r(44,"bc-icon",27),c(45,"error"),s()()()()()()}if(t&2){let e=x();p("formGroup",e.structureForm),m(6),p("customIcon","checks")("type","ghost")("size","xlarge"),m(2),p("type","solid")("size","large")("color","yellow")("shadow",!0)("customIcon","save"),m(22),p("formatType",e.formatType)("values",e.funcionality),m(),p("ngForOf",e.questionsSurvey.controls)("ngForTrackBy",e.trackByFn),m(4),p("ngIf",!e.flagDesplegarMenu),m(),p("ngIf",e.flagDesplegarMenu),m(),p("ngIf",!e.flagDesplegarMenu),m(),p("ngIf",e.flagDesplegarMenu),m(),p("ngForOf",e.values)}}var r_=(()=>{class t{get questionsSurvey(){return this.structureForm.get("questionsSurvey")}constructor(e,i,o){this.encuestaService=e,this.fb=i,this.dialogService=o,this.stepsArray=["Info. basica","Preguntas"],this.direction="horizontal",this.indexPosition=0,this.formatType="simple",this.flagDesplegarMenu=!1,this.successfulStatusCode=200,this.values=[],this.objNameRange={label:"Cantidad",hint:"Cantidad M\xE1x: 10"},this.visibleCreateSurvey=new Ui}ngOnInit(){this.funcionalitySurvey(),this.getQuestionTypeSurveyActive(),this.structureForm=this.fb.group({nameSurvey:[this.data.getSurveyInformation?.name,A.required],descriptionSurvey:[this.data.getSurveyInformation?.dsSurvey,A.required],functionSurvey:[this.data.getSurveyInformation?.idFunctionSurvey,A.required],questionsSurvey:this.fb.array(this.data.getSurveyInformation?this.data.getSurveyInformation.surveyQuestionDtos.sort((e,i)=>e.order-i.order).map(e=>this.fb.group({idSurveyQuestion:[e.idSurveyQuestion],idSurvey:[e.idSurvey],order:[e.order],status:[e.status],question:[e.name,A.required],typeQuestion:[e.idQuestionType,A.required],nameTypeQuestion:e.dsQuestionType,iconTypeQuestion:e.icon,isRequired:[e.mandatory==="1",A.required],options:this.fb.array(e.questionsElementDtos.map(i=>new O(i.elementValue,A.required)))})):[])})}getIndex(e){this.indexPosition=e}insertSurvey(){this.encuestaService.insertQuestion([]).subscribe(e=>{})}addQuestion(e){let i=this.fb.group({question:[null,A.required],typeQuestion:[e.idQuestionType,A.required],isRequired:[!1],options:this.fb.array([]),nameTypeQuestion:e.dsQuestionType,iconTypeQuestion:e.icon});if(e.dsQuestionType=="Calificacion"){let o=new O(null,[A.required,A.max(10)]);i.controls.options.push(o)}this.structureForm.get("questionsSurvey").push(i)}typesQuestion(e){this.encuestaService.questionsType(e).subscribe(i=>{this.values=i})}optionsQuestion(e){return e}addOptionQuestion(e){let i=new O(null,A.required);e.push(i)}conditionOptions(e){return e==="Radio"||e==="Selecci\xF3n"}saveSurveys(){if(!this.structureForm.valid){this.showMessage("Falta alguno de los par\xE1metros requeridos.","error","Guardar Encuesta");return}let e=this.structureForm.value,i={idSurvey:this.data.getSurveyInformation?.idSurvey,name:e.nameSurvey,dsSurvey:e.descriptionSurvey,state:"A",idFunctionSurvey:e.functionSurvey,surveyQuestionDtos:e.questionsSurvey.map((o,a)=>({idQuestionType:o.typeQuestion,order:a.toString(),name:o.question,mandatory:o.isRequired?1:0,status:"A",questionsElementDtos:o.options.map((l,d)=>({order:d.toString(),elementValue:l,label:""}))}))};this.data.action?this.encuestaService.insertQuestion(i).subscribe(o=>{o.statusCode===this.successfulStatusCode?(this.showMessage(o.body.data.response,"success","Guardar Encuesta"),this.visibleCreateSurvey.emit()):this.showMessage(o.body.data.error,"error","Guardar Encuesta")}):this.encuestaService.updateQuestion(i).subscribe(o=>{o.statusCode===this.successfulStatusCode?(this.showMessage(o.body.data.response,"success","Guardar Encuesta"),this.visibleCreateSurvey.emit()):this.showMessage(o.body.data.error,"error","Guardar Encuesta")})}trackByFn(e,i){return e}funcionalitySurvey(){this.encuestaService.funcionalitySurvey(null,null,null).subscribe(e=>{this.funcionality=e.body.data.mensaje.map(i=>({label:`${i.dsFunction} - ${i.resourceName}`,value:i.idFunctionSurvey}))})}getQuestionTypeSurveyActive(){this.encuestaService.getQuestionsType().subscribe(e=>{e.statusCode===this.successfulStatusCode?this.values=e.body.data.questionTypeSurveyDto:this.showMessage(e.body.data.error,"error","Tipo pregunta")})}removeQuestion(e){this.questionsSurvey.removeAt(e)}removeOption(e,i){i.removeAt(e)}visibleFlagMenu(){this.flagDesplegarMenu=this.flagDesplegarMenu==!1}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}closeSurvey(){this.visibleCreateSurvey.emit()}static{this.\u0275fac=function(i){return new(i||t)(g(Fn),g(Zt),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-encuesta"]],inputs:{data:"data"},outputs:{visibleCreateSurvey:"visibleCreateSurvey"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"bc-container"],["bc-card","","typeCard","image"],[1,"bc-row"],[1,"bc-col-9"],[1,"bc-card-picture"],["aria-hidden","true","aria-label","prueba",3,"customIcon","type","size"],[1,"bc-col-3"],[2,"float","right",3,"click","type","size","color","shadow","customIcon"],[1,"bc-card-content"],[1,"bc-card-title","bc-align-left"],[1,"bc-row","mt-5"],[1,"bc-col-12"],["formControlName","nameSurvey","bc-input","","aria-label","text-area","type","text","id","nameSurvey"],["for",""],["formControlName","descriptionSurvey","bc-input","","aria-label","text-area","type","text","id","descriptionSurvey"],[1,"bc-row","mt-4"],["formControlName","functionSurvey","componentId","bc-select2",3,"formatType","values"],["bc-card","","class","bc-margin-top-2","typeCard","image",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bc-row","bc-margin-top-2"],[1,"bc-col-2"],["bc-button","","sizeButton","small",3,"click"],[4,"ngIf"],["class","bc-icon-left","size","sm",4,"ngIf"],["class","bc-col",4,"ngFor","ngForOf"],["bc-button","","sizeButton","small","typeButton","background",3,"click"],["size","sm",1,"bc-icon-left"],["bc-card","","typeCard","image",1,"bc-margin-top-2"],["size","md","aria-hidden","true","aria-label","prueba",3,"name"],[2,"float","right",3,"click","type","color","shadow","size","customIcon"],["bc-input","","aria-label","custom-aria-label","type","text",3,"formControl","id"],["class","bc-row margin-count",4,"ngIf"],["label","Es obligatoria esta pregunta",3,"changeState","id","isChecked"],[1,"bc-row","margin-count"],[3,"step","min","label","id","hint","formControl"],["class","bc-row mt-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bc-row","p-3"],[1,"bc-fab-button","bc-fab-button-mini",3,"click"],["size","xs","name","plus","aria-hidden","true"],[1,"bc-row","mt-3"],[1,"bc-col-5"],["bc-input","","aria-label","text-area","type","text","placeholder","opci\xF3n",3,"formControl","id"],[1,"delete-option"],["aria-hidden","true",3,"click","size","customIcon","type","color","shadow"],[1,"bc-col"],["bc-button","","sizeButton","small","typeButton","secondary",3,"click",4,"ngIf"],["bc-button","","sizeButton","small","typeButton","secondary",3,"click"]],template:function(i,o){i&1&&h(0,b4,46,18,"form",0),i&2&&p("ngIf",o.structureForm)},dependencies:[ae,V,Ye,q,H,Ke,G,Je,ni,kt,Mo,te,ee,Me,It,Wo,zf,fe],styles:[".mat-step-header .mat-step-icon{border-radius:50%;height:35px;width:35px;background-color:#fff;color:#2c2a29;border-style:solid;border-color:#f5f11d}  .mat-step-header .mat-step-icon-selected{background-color:#f5f11d;border-radius:50%;height:35px;width:35px;color:#2c2a29;border-style:solid;border-color:#f5f11d}.button-next[_ngcontent-%COMP%]{margin-top:3%;width:14%}.addQuestion[_ngcontent-%COMP%]{display:flex;justify-content:center}.questions-container[_ngcontent-%COMP%]{max-height:63vh;overflow:auto;padding:2%}bc-card-container[_ngcontent-%COMP%]{width:100%}.delete-question[_ngcontent-%COMP%], .delete-option[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}  .bc-container-checkbox{margin-top:2%;margin-bottom:2%}  .bc-form-field{margin-top:0}  .bc-card-container{padding:13px 17px}.margin-count[_ngcontent-%COMP%]{margin-top:2%}"]})}}return t})();var S4=["inputstring"],y4=["modal"];function x4(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",29),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function w4(t,n){if(t&1&&(r(0,"tr")(1,"td",26),c(2),s(),r(3,"td",26),c(4),s(),r(5,"td",27),h(6,x4,1,2,"bc-table-dropdown",28),s()()),t&2){let e=n.$implicit;m(2),I(e.dsFunction),m(2),I(e.resourceName),m(2),p("ngIf",e.option.length>0)}}function E4(t,n){if(t&1){let e=E();r(0,"bc-table-container",19)(1,"bc-table-header",20)(2,"bc-paginator",21),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",22)(5,"thead")(6,"tr")(7,"th",23),c(8,"Nombre"),s(),r(9,"th",23),c(10,"Recurso"),s(),C(11,"th",24),s()(),r(12,"tbody"),h(13,w4,7,3,"tr",25),s()()(),C(14,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("dropdownHtml",!0),m(9),p("ngForOf",e.dataSource)}}var s_=(()=>{class t{constructor(e,i,o,a,l){this.dialog=e,this.encuestaService=i,this.dialogService=o,this.formBuilder=a,this.adminService=l,this.dataSource=[],this.page=1,this.limit=6,this.action=!0,this.filter=null,this.successStatusCode=200,this.resourcesList=[],this.updateObject=!0,this.typeIcon="warning",this.closeModal=!1,this.customWidth="large",this.titleAlign="center",this.buttonAlignment="horizontal",this.title="",this.subTitle="",this.stateDsFunction="valid",this.statusResource="enabled",this.hideCloseButton=!0}ngOnInit(){this.getSurveyFunction(),this.buildForm()}getSurveyFunction(){this.encuestaService.funcionalitySurvey(this.filter,this.page,this.limit).subscribe(e=>{this.dataSource=e.body.data.mensaje.map(i=>rt(it({},i),{option:this.getOptions()})),this.totalRegisters=e.body.data.mensaje.length})}buildForm(){this.functionSurveyForm=this.formBuilder.group({resourcesListFormControl:["",A.required],dsFunctionFormControl:["",A.required]}),this.statusResource="enabled",this.stateDsFunction="valid"}loadData(){this.listResource(this.functionSurveyObject)}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"functionSurvey",type:i,text:e,title:o,timeout:1e4})}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getSurveyFunction()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getSurveyFunction())}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getSurveyFunction()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getSurveyFunction())}optionSelected(e){e.optionSeleted.indexOf("editar")!==-1&&this.openModalUpdateFunctionSurvey(e.rowData),e.optionSeleted.indexOf("eliminar")!==-1&&this.deleteFunctionSurvey(e.rowData)}getOptions(){return[{id:"editar",text:"Editar",icon:"edit",action:this.optionSelected},{id:"eliminar",text:"Eliminar",icon:"erase",action:this.optionSelected}]}openModalCreateFunctionSurvey(){this.title="Crear funci\xF3n encuesta",this.subTitle="",this.updateObject=!1,this.loadData(),this.modal.openModal()}openModalUpdateFunctionSurvey(e){this.title="Actualizar funci\xF3n encuesta",this.subTitle="Funci\xF3n encuesta: "+e.dsFunction,this.updateObject=!0,this.functionSurveyObject=e,this.loadData(),this.modal.openModal()}createFunctionSurvey(){let e={idrecurso:this.functionSurveyForm.controls.resourcesListFormControl.value,dsFunction:this.functionSurveyForm.controls.dsFunctionFormControl.value};this.encuestaService.createFunctionSurvey(e).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.getSurveyFunction(),this.showMessage(i.body.data.message,"success","Crear funci\xF3n encuesta"),this.buildForm(),this.modal.shutDown()):(this.showMessage(i.body.data.error,"error","Crear funci\xF3n encuesta"),this.stateDsFunction="error",this.statusResource="enabled"):this.showMessage("No se recibe objeto respuesta del servidor","error","Excepci\xF3n crear funci\xF3n encuesta")})}updateFunctionSurvey(){let e={idFunctionSurvey:this.functionSurveyObject.idFunctionSurvey,idrecurso:this.functionSurveyForm.controls.resourcesListFormControl.value,dsFunction:this.functionSurveyForm.controls.dsFunctionFormControl.value};this.encuestaService.updateFunctionSurvey(e).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.getSurveyFunction(),this.showMessage(i.body.data.message,"success","Actualizar funci\xF3n encuesta"),this.buildForm(),this.modal.shutDown()):this.showMessage(i.body.data.error,"error","Actualizar funci\xF3n encuesta"):this.showMessage("No se recibe objeto respuesta del servidor","error","Excepci\xF3n actualizar funci\xF3n encuesta")})}deleteFunctionSurvey(e){let i={};i.mensaje="\xBFRealmente desea eliminar esta funci\xF3n encuesta?",i.boton="Eliminar",i.functionSurveyObject=e,this.dialog.open($e,{width:"400px",data:i}).afterClosed().subscribe(a=>{if(a!==void 0){let l=a.data.functionSurveyObject.idFunctionSurvey;this.encuestaService.deleteFunctionSurvey(l).subscribe(d=>{d!==void 0?d.statusCode===this.successStatusCode?(this.getSurveyFunction(),this.showMessage(d.body.data.message,"success","Eliminar funci\xF3n encuesta")):this.showMessage(d.body.data.error,"error","Eliminar funci\xF3n encuesta"):this.showMessage("No se recibe objeto respuesta del servidor","error","Excepci\xF3n eliminar funci\xF3n encuesta")})}})}validateStateDsFunction(){this.functionSurveyForm.controls.scheduleFormControl.valid?this.stateDsFunction="valid":this.stateDsFunction="error"}listResource(e){this.adminService.getRecursos().pipe(Ce(()=>{if(this.updateObject){let i=this.resourcesList.find(o=>o.value===e.idRecurso);this.functionSurveyForm.controls.resourcesListFormControl.setValue(i.value),this.functionSurveyForm.controls.dsFunctionFormControl.setValue(e.dsFunction),this.statusResource="disabled"}})).subscribe(i=>{i!==void 0?this.resourcesList=i.recursoList.map(o=>({value:o.idRecurso,label:o.dsRecurso})):this.showMessage("No se recibe objeto respuesta del servidor","error","Listar Recursos")})}onPressButton(e){e==1?this.updateObject?this.updateFunctionSurvey():this.createFunctionSurvey():(this.buildForm(),this.modal.shutDown())}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(Fn),g(ue),g(at),g(kn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-funcion-encuesta"]],viewQuery:function(i,o){if(i&1&&(L(S4,7),L(y4,5)),i&2){let a;j(a=z())&&(o.uploadFileInput=a.first),j(a=z())&&(o.modal=a.first)}},decls:32,vars:26,consts:[["inputstring",""],["modal",""],[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"col-10"],["id","inputFilter","bc-input","","state","default","type","text","value","","required","",3,"keyup"],["for","50"],[1,"col-1"],["id","searchButton",2,"align-self","center",3,"click","type","size","color","shadow","customIcon"],["id","btnCreateFunction",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["outerCloseTap","false","textBtn","Guardar","textBtnLeft","Cancelar","typeNotify","success",3,"stateClick","title","typeIcon","customWidth","titleAlign","closedModalEsc","isCancellable","subTitle","buttonAlignment","hideCloseButton"],["modalContent",""],[3,"formGroup"],[1,"container"],[1,"col-6"],["label","Recurso","formControlName","resourcesListFormControl","ngDefaultControl","","icon","shield-user","componentId","idResource","required","",3,"formatType","filter","values","status"],["bc-input","","aria-label","custom-aria-label","type","text","formControlName","dsFunctionFormControl","ngDefaultControl","","id","dsFunction","required","",3,"focusout","state"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","dropdownHtml"],["scope","row","bc-cell","","scope","col","fixed","true"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","optionSelected",3,"row","options","onChange",4,"ngIf"],["id","optionSelected",3,"onChange","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",5)(5,"bc-form-field")(6,"em"),c(7,"filter"),s(),r(8,"input",6,0),_("keyup",function(d){v(a);let u=re(9);return S(o.applyFilter(d,u.value))}),s(),C(10,"label",7),r(11,"span"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",8)(14,"bc-icon-button",9),_("click",function(){return v(a),S(o.searchInTable())}),s()(),r(15,"div",8)(16,"bc-icon-button",10),_("click",function(){return v(a),S(o.openModalCreateFunctionSurvey())}),s()()()()(),h(17,E4,15,7,"bc-table-container",11),s(),r(18,"bc-modal",12,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(20,"div",13)(21,"form",14)(22,"div",15)(23,"div",3)(24,"div",16)(25,"bc-form-field"),C(26,"bc-input-select",17),s()(),r(27,"div",16)(28,"bc-form-field")(29,"input",18),_("focusout",function(){return v(a),S(o.validateStateDsFunction())}),s(),r(30,"span"),c(31,"Nombre de la funci\xF3n encuesta"),s()()()()()()()()}i&2&&(m(14),p("type","solid")("size","small")("color","white")("shadow",!0)("customIcon","search"),m(2),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),p("title",o.title)("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("closedModalEsc",o.closeModal)("isCancellable",o.action)("subTitle",o.subTitle)("buttonAlignment",o.buttonAlignment)("hideCloseButton",o.hideCloseButton),m(3),p("formGroup",o.functionSurveyForm),m(5),p("formatType","simple")("filter",!0)("values",o.resourcesList)("status",o.statusResource),m(3),p("state",o.stateDsFunction))},dependencies:[ae,V,Ye,q,H,Ke,At,Je,ni,te,ee,pt,mt,ct,dt,ut,_t,Kt,It,lt,Wt,fe],styles:[".bc-table-container .bc-table-header-top{min-height:0px!important}  .bc-modal-overlay{display:none}"]})}}return t})();var jc=(()=>{class t{constructor(e,i){this.Http=e,this.configService=i,this.urlListSecModulo="/secmodulo/list-sec-modulo",this.urlGetSecModuloById="/secmodulo/get-sec-modulo-by-id",this.urlAddSecModulo="/secmodulo/add-sec-modulo",this.urlUpdateSecModulo="/secmodulo/update-sec-modulo",this.urlListResources="/recurso/getall",this.urlDeleteSecModulo="/secmodulo/delete-sec-modulo"}listSecModulo(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e?e.toString():"");return this.Http.get(this.configService.settings.apiUrl+this.urlListSecModulo,{params:a})}getSecModuloById(e){return this.Http.get(`${this.configService.settings.apiUrl+this.urlGetSecModuloById}/${e}`,{})}addSecModulo(e){return this.Http.post(`${this.configService.settings.apiUrl+this.urlAddSecModulo}`,e)}updateSecModulo(e){return this.Http.put(`${this.configService.settings.apiUrl+this.urlUpdateSecModulo}`,e)}listResource(){return this.Http.get(`${this.configService.settings.apiUrl+this.urlListResources}`)}deleteSecModulo(e,i){console.log("Eliminando SecModulo con ID:",e,"por Persona con ID:",i);let o=new be().set("idSecModulo",e).set("idEjecutor",i);return this.Http.delete(this.configService.settings.apiUrl+this.urlDeleteSecModulo,{params:o})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var I4=["deleteModal"],T4=["modal"],P4=["customModal"],D4=["inputstring"];function F4(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",38),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x().$implicit;p("id","buttonResourceOptions-"+e.idSecModulo)("row",e)("options",e.option)}}function R4(t,n){if(t&1&&(r(0,"tr")(1,"td",35),c(2),s(),r(3,"td",35),c(4),s(),r(5,"td",35),c(6),s(),r(7,"td",35),c(8),s(),r(9,"td",35),c(10),s(),r(11,"td",36),h(12,F4,1,3,"bc-table-dropdown",37),s()()),t&2){let e=n.$implicit;m(2),I(e.idSecModulo),m(2),I(e.dsSecModulo),m(2),I(e.idRecurso),m(2),I(e.tipoSecModulo),m(2),I(e.routerLink),m(2),p("ngIf",e.option==null?null:e.option.length)}}function k4(t,n){if(t&1){let e=E();r(0,"bc-table-container",29)(1,"bc-table-header",30)(2,"bc-paginator",31),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",32)(5,"thead")(6,"tr")(7,"th",33),c(8,"Id Modulo"),s(),r(9,"th",33),c(10,"Descripci\xF3n modulo"),s(),r(11,"th",33),c(12,"Id recurso"),s(),r(13,"th",33),c(14,"Tipo modulo"),s(),r(15,"th",33),c(16,"Router Link"),s(),r(17,"th",33),c(18,"Acciones"),s()()(),r(19,"tbody"),h(20,R4,13,6,"tr",34),s()()(),C(21,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0),m(16),p("ngForOf",e.dataSource)}}var c_=(()=>{class t{constructor(e,i,o,a){this.fb=e,this.secModuloService=i,this.personService=o,this.dialogService=a,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.dataSource=[],this.changeState=!1,this.titleAlign="",this.customWidth="large",this.typeIcon="default",this.resources=[],this.statusResource="enabled",this.successfulStatusCode=200,this.modalData={title:"",action:"",secModuloId:""}}ngOnInit(){this.listSecModulo(),this.listResources(),this.secModuloForm=this.fb.group({dsSecModulo:["",A.required],resourceNameFormControl:["",A.required],tipoSecModulo:[""],routerLink:[""]})}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listSecModulo()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listSecModulo()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listSecModulo())}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listSecModulo())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}listSecModulo(){this.secModuloService.listSecModulo(this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar modulos");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar modulos");return}this.dataSource=e.body.data.objects.map(i=>rt(it({},i),{option:this.getOptions()})),this.length=e.body.data.total})}getOptions(){return[{id:"editModule",text:"Editar M\xF3dulo",icon:"edit-document",action:this.rowSelected},{id:"deleteModule",text:"Eliminar M\xF3dulo",icon:"remove",action:this.rowSelected}]}rowSelected(e){e.optionSeleted.indexOf("editModule")!==-1?this.updateModule(e.rowData):e.optionSeleted.indexOf("deleteModule")!==-1&&this.confirmDelete(e.rowData)}updateModule(e){let i={action:"update",title:"Editar Modulo:",moduleObject:e};this.createUpdateSecModulo(e)}createUpdateSecModulo(e){this.listResources(),this.modalData.title=e?"Editar Modulo":"Agregar Modulo",this.modalData.action=e?"update":"create",this.modalData.secModuloId=e?.idSecModulo??"",this.secModuloForm.reset(),this.secModuloForm.patchValue({dsSecModulo:e?.dsSecModulo??"",resourceNameFormControl:e?.idRecurso??"",tipoSecModulo:e?.tipoSecModulo??"",routerLink:e?.routerLink??""}),this.customModal.openModal()}onModalSubmit(e){let i=e===1;if(this.customModal.shutDown(),!!i){if(this.secModuloForm.invalid){this.showMessage("Debe diligenciar todos los campos obligatorios","warning","Validaci\xF3n");return}this.personService.getPersonProfile().subscribe(o=>{if(o.statusCode!==this.successfulStatusCode){this.showMessage(o.body.data.message,"error","Perfil");return}let a={idSecModulo:this.modalData.secModuloId,dsSecModulo:this.secModuloForm.value.dsSecModulo,idRecurso:this.secModuloForm.value.resourceNameFormControl,tipoSecModulo:this.secModuloForm.value.tipoSecModulo??" ",routerLink:this.secModuloForm.value.routerLink??" ",idPersonaEjecutor:o.body.data.personProfile.personId},l=this.modalData.action==="create"?this.secModuloService.addSecModulo(a):this.secModuloService.updateSecModulo(a),d=this.modalData.action==="create"?"Modulo creado exitosamente":"Modulo actualizado exitosamente",u=this.modalData.action==="create"?"Crear modulos":"Actualizar modulos";l.subscribe(f=>{f.statusCode!==this.successStatusCode?this.showMessage(f.body.data.message,"error",u):(this.showMessage(d,"success",u),this.listSecModulo())})})}}listResources(){this.secModuloService.listResource().subscribe(e=>{if(e&&e.statusCode===this.successStatusCode)this.resources=e.body.data.resources.map(i=>({value:i.idRecurso,label:i.nombre}));else{let i=e?.body?.data?.message||"Error al listar recursos";this.showMessage(i,"error","Listar recursos")}},e=>{this.showMessage("Error al conectarse al servidor","error","Listar recursos")})}confirmDelete(e){this.moduleToDelete=e,this.deleteModal.openModal()}onDeleteConfirmed(e){let i=e===1;this.deleteModal.shutDown(),i&&this.personService.getPersonProfile().subscribe(o=>{if(o.statusCode!==this.successfulStatusCode){this.showMessage(o.body.data.message,"error","Perfil");return}let a=o.body.data.personProfile.personId;this.secModuloService.deleteSecModulo(this.moduleToDelete.idSecModulo,a).subscribe(l=>{l.statusCode!==this.successStatusCode?this.showMessage(l.body.data.error,"error","Eliminar m\xF3dulo"):(this.showMessage("M\xF3dulo eliminado exitosamente","success","Eliminar m\xF3dulo"),this.listSecModulo())})})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(jc),g(ot),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-sec-modulo"]],viewQuery:function(i,o){if(i&1&&(L(I4,5),L(T4,5),L(P4,5),L(D4,7)),i&2){let a;j(a=z())&&(o.deleteModal=a.first),j(a=z())&&(o.modal=a.first),j(a=z())&&(o.customModal=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:45,vars:25,consts:[["inputstring",""],["customModal",""],["deleteModal",""],[1,"container"],[1,"col-6","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstringFilter","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["id","addConcept","aria-label","Agregar concepto",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["textBtn","Guardar","textBtnLeft","Cancelar","typeNotify","info",3,"stateClick","title","typeIcon","customWidth","titleAlign","isCancellable"],["modalContent",""],[3,"formGroup"],[1,"bc-container"],[1,"bc-row","justify-content-start"],[1,"bc-col-6"],["id","dsSecModulo","bc-input","","type","text","required","","formControlName","dsSecModulo","state","default"],["for","dsSecModulo"],["label","Recurso","formControlName","resourceNameFormControl","ngDefaultControl","","icon","shield-user","componentId","registrationResource","id","recursoSecModulo",3,"formatType","filter","values","status"],[1,"bc-row","justify-content-start","mt-3"],["id","tipoSecModulo","bc-input","","type","text","formControlName","tipoSecModulo","state","default"],["for","tipoSecModulo"],["id","routerLink","bc-input","","type","text","formControlName","routerLink","state","default"],["for","routerLink"],["title","Confirmar eliminaci\xF3n","textBtn","Eliminar","textBtnLeft","Cancelar","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable"],["modalContent","",1,"bc-flex","bc-justify-content-center"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","dropdownHtml","true",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col","fixed","true"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",3)(1,"div",4)(2,"bc-search-content-items",5)(3,"bc-form-field",6)(4,"em"),C(5,"bc-icon",7),s(),r(6,"input",8,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",9),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",10),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",11),_("click",function(){return v(a),S(o.createUpdateSecModulo())}),s()(),h(12,k4,22,7,"bc-table-container",12),r(13,"bc-modal",13,1),_("stateClick",function(d){return v(a),S(o.onModalSubmit(d))}),r(15,"div",14)(16,"form",15)(17,"div",16)(18,"div",17)(19,"div",18)(20,"bc-form-field"),C(21,"input",19),r(22,"label",20),c(23,"Descripci\xF3n SecModulo"),s(),r(24,"span"),c(25,"Obligatorio"),s()()(),r(26,"div",18)(27,"bc-form-field"),C(28,"bc-input-select",21),s()()(),r(29,"div",22)(30,"div",18)(31,"bc-form-field"),C(32,"input",23),r(33,"label",24),c(34,"Tipo SecModulo"),s()()(),r(35,"div",18)(36,"bc-form-field"),C(37,"input",25),r(38,"label",26),c(39,"Router link"),s()()()()()()()(),r(40,"bc-modal",27,2),_("stateClick",function(d){return v(a),S(o.onDeleteConfirmed(d))}),r(42,"div",28)(43,"p"),c(44,"\xBFEst\xE1 seguro de que desea eliminar este m\xF3dulo?"),s()()()}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),vt("title",o.modalData.title),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("isCancellable",!0),m(3),p("formGroup",o.secModuloForm),m(12),p("formatType","simple")("filter",!0)("values",o.resources)("status",o.statusResource),m(12),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("isCancellable",!0))},dependencies:[ae,V,Ye,q,H,Ke,At,Je,ni,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,It,lt,Wi,Wt,fe],styles:["table[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}  .bc-table-container .bc-table-header-top{min-height:0px!important}  bc-modal .bc-modal-content{height:auto!important;max-height:80vh!important}"]})}}return t})();var O4=["deleteModal"],V4=["modal"],N4=["customModal"],B4=["inputstring"];function L4(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",36),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x().$implicit;p("id","buttonResourceOptions-"+e.idSecOperacion)("row",e)("options",e.option)}}function j4(t,n){if(t&1&&(r(0,"tr")(1,"td",33),c(2),s(),r(3,"td",33),c(4),s(),r(5,"td",33),c(6),s(),r(7,"td",33),c(8),s(),r(9,"td",33),c(10),s(),r(11,"td",34),h(12,L4,1,3,"bc-table-dropdown",35),s()()),t&2){let e=n.$implicit;m(2),I(e.idSecOperacion),m(2),I(e.dsSecOperacion),m(2),I(e.idSecModulo),m(2),I(e.dsSecModulo),m(2),I(e.endpoint),m(2),p("ngIf",e.option==null?null:e.option.length)}}function z4(t,n){if(t&1){let e=E();r(0,"bc-table-container",27)(1,"bc-table-header",28)(2,"bc-paginator",29),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",30)(5,"thead")(6,"tr")(7,"th",31),c(8,"Id Operacion"),s(),r(9,"th",31),c(10,"Descripci\xF3n operaci\xF3n"),s(),r(11,"th",31),c(12,"Id Sec Modulo"),s(),r(13,"th",31),c(14,"Descripci\xF3n Sec Modulo"),s(),r(15,"th",31),c(16,"Endpoint"),s(),r(17,"th",31),c(18,"Acciones"),s()()(),r(19,"tbody"),h(20,j4,13,6,"tr",32),s()()(),C(21,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0),m(16),p("ngForOf",e.dataSource)}}var m_=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.secOperacionService=i,this.secModuloService=o,this.personService=a,this.dialogService=l,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.dataSource=[],this.changeState=!1,this.titleAlign="",this.customWidth="large",this.typeIcon="default",this.successfulStatusCode=200,this.modules=[],this.statusModule="enabled",this.modalData={title:"",action:"",secOperacionId:""}}ngOnInit(){this.listSecOperacion(),this.secOperacionForm=this.fb.group({dsSecOperacion:["",A.required],secModuloNameFormControl:["",A.required],endpoint:["",A.required]})}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listSecOperacion()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listSecOperacion()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listSecOperacion())}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listSecOperacion())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}listSecOperacion(){this.secOperacionService.listSecOperacion(this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar operaciones");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar operaciones");return}this.dataSource=e.body.data.objects.map(i=>rt(it({},i),{option:this.getOptions()})),this.length=e.body.data.total})}getOptions(){return[{id:"editOperacion",text:"Editar Operaci\xF3n",icon:"edit-document",action:this.rowSelected},{id:"deleteOperacion",text:"Eliminar Operaci\xF3n",icon:"remove",action:this.rowSelected}]}rowSelected(e){e.optionSeleted.indexOf("editOperacion")!==-1?this.updateOperacion(e.rowData):e.optionSeleted.indexOf("deleteOperacion")!==-1&&this.confirmDelete(e.rowData)}updateOperacion(e){let i={action:"update",title:"Editar Operaci\xF3n:",operacionObject:e};this.createUpdateSecOperacion(e)}createUpdateSecOperacion(e){this.listModules(),this.modalData.title=e?"Editar Operaci\xF3n":"Agregar Operaci\xF3n",this.modalData.action=e?"update":"create",this.modalData.secOperacionId=e?.idSecOperacion??"",this.secOperacionForm.reset(),this.secOperacionForm.patchValue({dsSecOperacion:e?.dsSecOperacion??"",secModuloNameFormControl:e?.idSecModulo??"",endpoint:e?.endpoint??""}),this.customModal.openModal()}onModalSubmit(e){let i=e===1;if(this.customModal.shutDown(),!!i){if(this.secOperacionForm.invalid){this.showMessage("Debe diligenciar todos los campos obligatorios","warning","Validaci\xF3n");return}this.personService.getPersonProfile().subscribe(o=>{if(o.statusCode!==this.successfulStatusCode){this.showMessage(o.body.data.message,"error","Perfil");return}let a={idSecOperacion:this.modalData.secOperacionId,dsSecOperacion:this.secOperacionForm.value.dsSecOperacion,idSecModulo:this.secOperacionForm.value.secModuloNameFormControl,endpoint:this.secOperacionForm.value.endpoint??" ",idPersonaEjecutor:o.body.data.personProfile.personId},l=this.modalData.action==="create"?this.secOperacionService.addSecOperacion(a):this.secOperacionService.updateSecOperacion(a),d=this.modalData.action==="create"?"Operaci\xF3n creada exitosamente":"Operaci\xF3n actualizada exitosamente",u=this.modalData.action==="create"?"Crear operaciones":"Actualizar operaciones";l.subscribe(f=>{f.statusCode!==this.successStatusCode?this.showMessage(f.body.data.message,"error",u):(this.showMessage(d,"success",u),this.listSecOperacion())})})}}listModules(){this.secModuloService.listSecModulo(null,null,null).subscribe(e=>{if(e&&e.statusCode===this.successStatusCode)this.modules=e.body.data.objects.map(i=>({value:i.idSecModulo,label:i.idSecModulo+" - "+i.dsSecModulo}));else{let i=e?.body?.data?.message||"Error al listar modulos";this.showMessage(i,"error","Listar modulos")}},e=>{this.showMessage("Error al conectarse al servidor","error","Listar modulos")})}confirmDelete(e){this.operacionToDelete=e,this.deleteModal.openModal()}onDeleteConfirmed(e){let i=e===1;this.deleteModal.shutDown(),i&&this.personService.getPersonProfile().subscribe(o=>{if(o.statusCode!==this.successfulStatusCode){this.showMessage(o.body.data.message,"error","Perfil");return}let a=o.body.data.personProfile.personId;this.secOperacionService.deleteSecOperacion(this.operacionToDelete.idSecOperacion,a).subscribe(l=>{l.statusCode!==this.successStatusCode?this.showMessage(l.body.data.error,"error","Eliminar operaci\xF3n"):(this.showMessage("Operaci\xF3n eliminada exitosamente","success","Eliminar operaci\xF3n"),this.listSecOperacion())})})}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(Xl),g(jc),g(ot),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-sec-operacion"]],viewQuery:function(i,o){if(i&1&&(L(O4,5),L(V4,5),L(N4,5),L(B4,7)),i&2){let a;j(a=z())&&(o.deleteModal=a.first),j(a=z())&&(o.modal=a.first),j(a=z())&&(o.customModal=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:40,vars:25,consts:[["inputstring",""],["customModal",""],["deleteModal",""],[1,"container"],[1,"col-6","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstringFilter","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["id","addOperation","aria-label","Agregar concepto",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["textBtn","Guardar","textBtnLeft","Cancelar","typeNotify","info",3,"stateClick","title","typeIcon","customWidth","titleAlign","isCancellable"],["modalContent",""],[3,"formGroup"],[1,"bc-container"],[1,"bc-row","justify-content-start"],[1,"bc-col-6"],["id","dsSecOperacion","bc-input","","type","text","required","","formControlName","dsSecOperacion","state","default"],["for","dsSecOperacion"],["label","Sec Modulo","formControlName","secModuloNameFormControl","ngDefaultControl","","icon","shield-user","componentId","registrationSecModulo","id","secModulo",3,"formatType","filter","values","status"],[1,"bc-row","justify-content-start","mt-3"],["id","endpoint","bc-input","","type","text","formControlName","endpoint","state","default"],["for","endpoint"],["title","Confirmar eliminaci\xF3n","textBtn","Eliminar","textBtnLeft","Cancelar","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable"],["modalContent","",1,"bc-flex","bc-justify-content-center"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","dropdownHtml","true",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col","fixed","true"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",3)(1,"div",4)(2,"bc-search-content-items",5)(3,"bc-form-field",6)(4,"em"),C(5,"bc-icon",7),s(),r(6,"input",8,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",9),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",10),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",11),_("click",function(){return v(a),S(o.createUpdateSecOperacion())}),s()(),h(12,z4,22,7,"bc-table-container",12),r(13,"bc-modal",13,1),_("stateClick",function(d){return v(a),S(o.onModalSubmit(d))}),r(15,"div",14)(16,"form",15)(17,"div",16)(18,"div",17)(19,"div",18)(20,"bc-form-field"),C(21,"input",19),r(22,"label",20),c(23,"Descripci\xF3n SecOperacion"),s(),r(24,"span"),c(25,"Obligatorio"),s()()(),r(26,"div",18)(27,"bc-form-field"),C(28,"bc-input-select",21),s()()(),r(29,"div",22)(30,"div",18)(31,"bc-form-field"),C(32,"input",23),r(33,"label",24),c(34,"Endpoint"),s()()()()()()()(),r(35,"bc-modal",25,2),_("stateClick",function(d){return v(a),S(o.onDeleteConfirmed(d))}),r(37,"div",26)(38,"p"),c(39,"\xBFEst\xE1 seguro de que desea eliminar esta operaci\xF3n?"),s()()()}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),vt("title",o.modalData.title),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("isCancellable",!0),m(3),p("formGroup",o.secOperacionForm),m(12),p("formatType","simple")("filter",!0)("values",o.modules)("status",o.statusModule),m(7),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("isCancellable",!0))},dependencies:[ae,V,Ye,q,H,Ke,At,Je,ni,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,It,lt,Wi,Wt,fe],styles:["table[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}  .bc-table-container .bc-table-header-top{min-height:0px!important}  bc-modal .bc-modal-content{height:auto!important;max-height:80vh!important}"]})}}return t})();function q4(t,n){if(t&1){let e=E();r(0,"span",3),_("click",function(){v(e);let o=x();return S(o.setVisibilitySurvey())}),c(1,"ENCUESTA"),s()}}function G4(t,n){if(t&1){let e=E();r(0,"app-encuesta-list",6),_("visibleCreateSurvey",function(o){v(e);let a=x(2);return S(a.visibleCreateSurveyResult(o))}),s()}}function U4(t,n){if(t&1){let e=E();r(0,"app-crear-encuesta",7),_("visibleCreateSurvey",function(){v(e);let o=x(2);return S(o.setVisibilitySurvey())}),s()}if(t&2){let e=x(2);p("data",e.survey)}}function $4(t,n){if(t&1&&h(0,G4,1,0,"app-encuesta-list",4)(1,U4,1,1,"app-crear-encuesta",5),t&2){let e=x();p("ngIf",!e.visibleCreateSurvey),m(),p("ngIf",e.visibleCreateSurvey)}}function Q4(t,n){t&1&&(r(0,"span",8),c(1,"FUNCI\xD3N ENCUESTA"),s())}function W4(t,n){t&1&&C(0,"app-funcion-encuesta")}function K4(t,n){t&1&&(r(0,"span",9),c(1,"MODULO"),s())}function Y4(t,n){t&1&&C(0,"app-sec-modulo")}function X4(t,n){t&1&&(r(0,"span",10),c(1,"OPERACION"),s())}function Z4(t,n){t&1&&C(0,"app-sec-operacion")}var d_=(()=>{class t{constructor(e){this.loginService=e,this.visibleCreateSurvey=!1}visibleCreateSurveyResult(e){this.visibleCreateSurvey=!0,this.survey=e}setVisibilitySurvey(){this.visibleCreateSurvey=!1}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-admin-maestros"]],decls:13,vars:0,consts:[["backgroundColor","accent","mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],["matTabContent",""],["matTooltip","encuesta",3,"click"],[3,"visibleCreateSurvey",4,"ngIf"],[3,"data","visibleCreateSurvey",4,"ngIf"],[3,"visibleCreateSurvey"],[3,"visibleCreateSurvey","data"],["matTooltip","Funci\xF3n Encuesta"],["matTooltip","Sec Modulo"],["matTooltip","Sec Operacion"]],template:function(i,o){i&1&&(r(0,"mat-tab-group",0)(1,"mat-tab"),h(2,q4,2,0,"ng-template",1)(3,$4,2,2,"ng-template",2),s(),r(4,"mat-tab"),h(5,Q4,2,0,"ng-template",1)(6,W4,1,0,"ng-template",2),s(),r(7,"mat-tab"),h(8,K4,2,0,"ng-template",1)(9,Y4,1,0,"ng-template",2),s(),r(10,"mat-tab"),h(11,X4,2,0,"ng-template",1)(12,Z4,1,0,"ng-template",2),s()())},dependencies:[Ei,_i,Ci,bi,oe,V,a_,r_,s_,c_,m_]})}}return t})();function eR(t,n){t&1&&(r(0,"span",6),c(1,"SEGURIDAD"),s())}function tR(t,n){t&1&&C(0,"app-seguridad")}function iR(t,n){t&1&&(r(0,"mat-tab"),h(1,eR,2,0,"ng-template",4)(2,tR,1,0,"ng-template",5),s())}function oR(t,n){t&1&&(r(0,"span",6),c(1,"BASE DE DATOS"),s())}function nR(t,n){t&1&&C(0,"app-base-datos")}function aR(t,n){t&1&&(r(0,"mat-tab"),h(1,oR,2,0,"ng-template",4)(2,nR,1,0,"ng-template",5),s())}function rR(t,n){t&1&&(r(0,"span",7),c(1,"REPORTES DIN\xC1MICOS"),s())}function sR(t,n){t&1&&C(0,"app-reporte-dinamico",8),t&2&&p("resourceId","REC004")}function lR(t,n){t&1&&(r(0,"mat-tab"),h(1,rR,2,0,"ng-template",4)(2,sR,1,1,"ng-template",5),s())}function cR(t,n){t&1&&(r(0,"span",9),c(1,"PARAMETRIZACI\xD3N"),s())}function mR(t,n){t&1&&(r(0,"span",11),c(1,"PARAMETROS"),s())}function dR(t,n){t&1&&C(0,"app-parametros",8),t&2&&p("resourceId","REC004")}function pR(t,n){t&1&&(r(0,"mat-tab"),h(1,mR,2,0,"ng-template",4)(2,dR,1,1,"ng-template",5),s())}function uR(t,n){if(t&1&&(r(0,"mat-tab-group",10),h(1,pR,3,0,"mat-tab",3),s()),t&2){let e=x();m(),p("ngIf",e.loginService.validateModule("SM52"))}}function fR(t,n){t&1&&(r(0,"span",12),c(1,"MAESTROS"),s())}function hR(t,n){t&1&&C(0,"app-admin-maestros")}function gR(t,n){t&1&&(r(0,"span",13),c(1,"LOGS"),s())}function _R(t,n){t&1&&C(0,"app-log")}function CR(t,n){t&1&&(r(0,"mat-tab"),h(1,gR,2,0,"ng-template",4)(2,_R,1,0,"ng-template",5),s())}var p_=(()=>{class t{constructor(e){this.loginService=e,this.title="Administraci\xF3n"}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-admin"]],decls:13,vars:4,consts:[[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["matTooltip","Base de Datos"],["id","tabDinamicReport","matTooltip","Reportes din\xE1micos"],[3,"resourceId"],["matTooltip","Informaci\xF3n"],["backgroundColor","accent","color","accent","mat-stretch-tabs","false","mat-align-tabs","start"],["matTooltip","Parametros"],["matTooltip","maestros"],["id","tabLogs","matTooltip","Logs"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-tab-group",2),h(3,iR,3,0,"mat-tab",3)(4,aR,3,0,"mat-tab",3)(5,lR,3,0,"mat-tab",3),r(6,"mat-tab"),h(7,cR,2,0,"ng-template",4)(8,uR,2,1,"ng-template",5),s(),r(9,"mat-tab"),h(10,fR,2,0,"ng-template",4)(11,hR,1,0,"ng-template",5),s(),h(12,CR,3,0,"mat-tab",3),s()()()),i&2&&(m(3),p("ngIf",o.loginService.validateGroupModules("SM48,SM49")),m(),p("ngIf",o.loginService.validateModule("SM50")),m(),p("ngIf",o.loginService.validateModule("SM51")),m(7),p("ngIf",o.loginService.validateModule("SM67")))},dependencies:[gi,Ei,_i,Ci,bi,oe,V,Za,Ja,i_,o_,n_,d_],styles:[".maintable[_ngcontent-%COMP%]{padding:10px}  .mat-mdc-tab-header{background-color:#2c2a29}  .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}  .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();var Sr=(()=>{class t{constructor(e,i,o){this.http=e,this.configService=i,this.loginService=o,this.urlGetpendingSurveysToFill="/encuestaDemanda/getpendingSurveysToFill",this.urlCountAllClosedWithoutSurvey="/encuestaDemanda/countAllclosedWithoutSurvey",this.urlCreateSurvey="/encuestaDemanda/createSurvey",this.urlGetQuestionsSurvey="/encuestaDemanda/getQuestionsSurvey"}getpendingSurveysToFill(){let e=this.loginService.getData().idPersona,i=new be().set("idLiderEjecutor",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetpendingSurveysToFill,{params:i})}countAllClosedWithoutSurvey(){let e=this.loginService.getData().idPersona;return this.http.get(`${this.configService.settings.apiUrl+this.urlCountAllClosedWithoutSurvey}/${e}`)}createSurvey(e){return this.http.post(this.configService.settings.apiUrl+this.urlCreateSurvey,e)}getQuestionsSurvey(){return this.http.get(`${this.configService.settings.apiUrl+this.urlGetQuestionsSurvey}`)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He),ie(he))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tn=(()=>{class t{constructor(e,i){this.ingresoService=e,this.encuestaAtencionDemandaService=i,this.countSurvey=new hi}setCounter(e){this.countSurvey.next(e)}getCounter(){return this.countSurvey.asObservable()}getCountSurveys(){return Ju([this.ingresoService.countAllPendienteEncustaPrestadorServicio(),this.encuestaAtencionDemandaService.countAllClosedWithoutSurvey()]).pipe(eo(([e,i])=>{let o=0;e.statusCode===200&&(o=e.body.data.total);let a=0;e.statusCode===200&&(a=i.body.data.total);let l={serviceProvider:o,demandAtention:a,total:o+a};return this.setCounter(l),l}))}static{this.\u0275fac=function(i){return new(i||t)(ie(Qi),ie(Sr))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bR=()=>[5,10];function vR(t,n){t&1&&(r(0,"th",17),c(1," Proveedores postulados"),s())}function SR(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.empresa," ")}}function yR(t,n){t&1&&(r(0,"th",17),c(1," Candidatos "),s())}function xR(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cantidad," ")}}function wR(t,n){t&1&&C(0,"tr",19)}function ER(t,n){t&1&&C(0,"tr",20)}var u_=(()=>{class t{constructor(e,i,o,a){this.router=e,this.dialogRef=i,this.data=o,this.ingresoService=a,this.displayedColumns=["empresa","cantidad"],this.filtroFormControl=new O("",[])}ngOnInit(){this.formatEstado(),this.getInfoSolicitud(),this.getCandtidadCandidatos()}onNoClick(){this.dialogRef.close()}getInfoSolicitud(){this.ingresoService.getInfoSolicitud(this.data.idSolicitud).subscribe(e=>{e&&(this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}formatEstado(){if(this.data.estadoSolicitud.includes("EN PROCESO"))return this.data.estadoSolicitud="EN PROCESO","green";if(this.data.estadoSolicitud.includes("CERRADA"))return this.data.estadoSolicitud="CERRADA","green";if(this.data.estadoSolicitud.includes("CANCELADA"))return"red";if(this.data.estadoSolicitud.includes("SUSPENDIDA"))return"orange"}getCandtidadCandidatos(){this.ingresoService.getCandtidadCandidatos(this.data.idSolicitud).subscribe(e=>{this.candidatosPostulados=e})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(W),g(Y),g(Qi))}}static{this.\u0275cmp=D({type:t,selectors:[["app-trazabilidad-ingreso"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:30,vars:9,consts:[[1,"container"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-6"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","empresa"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",1)(10,"div",6)(11,"mat-form-field")(12,"mat-label"),c(13,"Filtro"),s(),r(14,"input",7),_("keyup",function(l){return o.applyFilter(l)}),s()()(),r(15,"div",6)(16,"h2",3),c(17),s()()(),r(18,"div",1)(19,"div",8)(20,"table",9),F(21,10),h(22,vR,2,0,"th",11)(23,SR,2,1,"td",12),R(),F(24,13),h(25,yR,2,0,"th",11)(26,xR,2,1,"td",12),R(),h(27,wR,1,0,"tr",14)(28,ER,1,0,"tr",15),s(),C(29,"mat-paginator",16),s()()()),i&2&&(m(4),Ht("Resumen solicitud ",o.data.idSolicitud," - ",o.data.estadoSolicitud," "),m(10),p("formControl",o.filtroFormControl),m(3),T("Candidatos postulados: ",o.candidatosPostulados," "),m(3),p("dataSource",o.dataSource),m(7),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(8,bR)))},dependencies:[le,X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}"]})}}return t})();var MR=()=>[6,10,100,1e3];function IR(t,n){if(t&1&&(r(0,"span",28),c(1,"pendientes por rotaci\xF3n prestador de servicio"),s()),t&2){let e=x();p("matBadge",e.cantidadIngresosPendientePorRemplazo)}}function TR(t,n){t&1&&(r(0,"th",29),c(1," ID Solicitud "),s())}function PR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idSolicitud,"")}}function DR(t,n){t&1&&(r(0,"th",29),c(1," Subcategor\xEDa "),s())}function FR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.rol," ")}}function RR(t,n){t&1&&(r(0,"th",29),c(1," Nivel "),s())}function kR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivelCategoria," ")}}function AR(t,n){t&1&&(r(0,"th",29),c(1," Nombre Lider "),s())}function OR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombreLider," ")}}function VR(t,n){t&1&&(r(0,"th",29),c(1," Documento Identidad "),s())}function NR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.documento," ")}}function BR(t,n){t&1&&(r(0,"th",29),c(1," Fecha Solicitud "),s())}function LR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit,i=x();m(),T(" ",i.cambiarFecha(e.fechaSolicitud)," ")}}function jR(t,n){t&1&&(r(0,"th",29),c(1," Cantidad "),s())}function zR(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cantidad," ")}}function HR(t,n){t&1&&(r(0,"th",29),c(1," Estado "),s())}function qR(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.estadoSolicitud," ")}}function GR(t,n){t&1&&(r(0,"th",32),c(1,"Acciones"),s())}function UR(t,n){if(t&1){let e=E();r(0,"td",30)(1,"div")(2,"button",33),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),r(3,"mat-icon"),c(4,"edit"),s()(),r(5,"button",34),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Delete",o))}),r(6,"mat-icon",35),c(7,"delete_forever"),s()(),r(8,"button",36)(9,"mat-icon"),c(10,"more_vert"),s()(),r(11,"mat-menu",null,0)(13,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Detallar",o))}),r(14,"mat-icon",38),c(15,"details"),s(),r(16,"span"),c(17,"Detallar solicitud de ingreso"),s()(),r(18,"button",39),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Trazabilidad",o))}),r(19,"mat-icon",38),c(20,"assessment"),s(),r(21,"span"),c(22,"Resumen solicitud de ingreso"),s()(),r(23,"button",40),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Ver",o))}),r(24,"mat-icon",38),c(25,"people_outline"),s(),r(26,"span"),c(27,"Ver candidatos aprobados"),s()()()()()}if(t&2){let e=n.$implicit,i=re(12);m(2),p("disabled",e.estadoSolicitud!="CREADA"||e.estadoSolicitud=="CANCELADA"),m(3),p("disabled",e.estadoSolicitud=="CERRADA"||e.estadoSolicitud=="CANCELADA"),m(3),p("matMenuTriggerFor",i)}}function $R(t,n){t&1&&C(0,"tr",41)}function QR(t,n){t&1&&C(0,"tr",42)}var f_=(()=>{class t{constructor(e,i,o,a,l,d,u){this.ingresoService=e,this.loginService=i,this.dialog=o,this._snackBar=a,this.router=l,this.estructuraService=d,this.countSurveyService=u,this.filtroFormControl=new O("",[]),this.displayedColumns=["idSolicitud","nombreLider","fechaSolicitud","rol","nivel","cantidad","estado","acciones"],this.EstadoUtil=[{id:"P",ds:"PENDIENTE"},{id:"S",ds:"APROBADO"},{id:"R",ds:"RECHAZADO"}],this.resourceAdminProveedores="REC007"}ngOnInit(){this.getCantidadIngresoPorRetiro(),this.getIngresos(null)}getCantidadIngresoPorRetiro(){this.ingresoService.getCantidadIngresoPorRetiro().subscribe(e=>{this.cantidadIngresosPendientePorRemplazo=e},e=>{this.showMessage("Error: "+e.toString())})}getIngresos(e){this.ingresoService.getAllIngresos().subscribe(i=>{i!=null&&(this.dataSource=new Se(i.reverse()),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()))},i=>{this.showMessage("Error: "+i.toString()),this.router.navigate(["/login"])})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialog(e,i){i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="Add"?this.openAddDialog(i):i.action=="Delete"?this.openDeleteDialog(i):i.action=="Detallar"?this.openDetailDialog(i):i.action=="Trazabilidad"?this.openTrazabilidadDialog(i):(i.action="Ver")&&this.openViewDialog(i)}openViewDialog(e){e.lider="Lider",e.idPersona=this.loginService.getData().idPersona,e.title="Aprobados de la solicitud: ",e.origin="EQUIPO";let i=this.dialog.open(cr,{width:"960px",data:e})}openTrazabilidadDialog(e){let i=this.dialog.open(u_,{width:"750px",data:e})}openDetailDialog(e){e.mode="select",e.title="Detalle solicitud:",e.esAPTI=this.idResourceOrigin==this.resourceAdminProveedores;let i=this.dialog.open(Hl,{width:"1000px",height:"90vh",data:e})}existeCapacidad(e){this.estructuraService.getValidacionEstructurasInfo(e.idPersona).subscribe(i=>{i!=null?i.validoContratar?this.openAddDialog(e):this.showMessage("No hay capacidad disponible"):this.showMessage("No hay capacidad disponible")},i=>(this.showMessage("Error "+i),!1))}openUpdateDialog(e){e.mode="update",e.title="Editar solicitud de ingreso:",e.action="Update",e.boton="Editar",e.origen="MiEquipo",this.dialog.open(ds,{data:e,disableClose:!0,width:"1000px",maxHeight:"90vh"}).afterClosed().subscribe(o=>{this.getCantidadIngresoPorRetiro(),this.getIngresos(null)})}openAddDialog(e){this.countSurveyService.getCountSurveys().subscribe(i=>{i.total>0?this.showMessage(`Tiene ${i.total} encuestas por llenar, debe diligenciarlas para realizar una nueva solicitud de ingreso`):(e.title="Crear solicitud de ingreso:",e.action="Insert",e.boton="Guardar",e.origen="MiEquipo",this.dialog.open(ds,{data:e,disableClose:!0,width:"1000px",maxHeight:"90vh"}).afterClosed().subscribe(a=>{this.getCantidadIngresoPorRetiro(),this.getIngresos(null)}))})}openDeleteDialog(e){e.mensaje=`\xBFDesea cancelar solicitud de ingreso ${e.idSolicitud}?`,e.boton="Continuar",e.error="Si la solicitud va a ser cancelada, debe poner un comentario indicando la raz\xF3n",e.titulo="Comentario de cancelaci\xF3n",this.dialog.open(Al,{width:"600px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.deleteIngreso(e.idSolicitud,e.comentario)})}deleteIngreso(e,i){this.entrance=new Pl,this.entrance.idSolicitud=e,this.entrance.comentarioCancelacion=i,this.ingresoService.deleteIngresoService(this.entrance).subscribe(o=>{o.error?this.showMessage(o.error):(this.showMessage(o.response),this.getCantidadIngresoPorRetiro(),this.getIngresos(null))},o=>{this.showMessage("Error "+o)})}cambiarFecha(e){return new Date(e).toLocaleDateString("es-CO")}estadoAprobacion(e){let i;return this.EstadoUtil.forEach(o=>{o.id==e&&(i=o.ds)}),i}static{this.\u0275fac=function(i){return new(i||t)(g(Qi),g(he),g(Z),g(K),g(Ze),g(Qo),g(tn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-ingreso"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},inputs:{idResourceOrigin:"idResourceOrigin"},decls:47,vars:7,consts:[["menuDetalladas","matMenu"],[1,"container"],[1,"row","justify-content-start"],[1,"col-7","align-self-end"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"col-4","align-self-center"],["class","info","matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"col-1","align-self-center"],["id","btnAddEntrance","aria-label","Boton","matTooltip","Nueva Solicitud de Ingreso",1,"bc-fab-button-mini",3,"click"],[1,"col-12"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idSolicitud"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rol"],["matColumnDef","nivel"],["matColumnDef","nombreLider"],["matColumnDef","documento"],["matColumnDef","fechaSolicitud"],["matColumnDef","cantidad"],["mat-cell","","ngClass","'example-spacer'","class","cantidad",4,"matCellDef"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["matBadgeOverlap","false","matBadgeColor","accent",1,"info",3,"matBadge"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","","ngClass","'example-spacer'",1,"cantidad"],["mat-header-cell","",1,"accion"],["aria-label","Boton","matTooltip","Editar solicitud de ingreso",1,"bc-button-icon",3,"click","disabled"],["aria-label","Boton","matTooltip","Cancelar solicitud de ingreso",1,"bc-button-icon",3,"click","disabled"],["color","warn"],["aria-label","Boton","matTooltip","Acciones detalladas",1,"bc-button-icon",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","Boton","matTooltip","Detallar solicitud de ingreso",3,"click"],[1,"color-icon"],["mat-menu-item","","aria-label","Boton","matTooltip","Resumen solicitud de ingreso",3,"click"],["mat-menu-item","","aria-label","Boton","matTooltip","Ver candidatos aprobados",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field")(4,"mat-label"),c(5,"Filtro"),s(),r(6,"input",4),_("keyup",function(l){return o.applyFilter(l)}),s()()(),r(7,"div",5),h(8,IR,2,1,"span",6),s(),r(9,"div",7)(10,"button",8),_("click",function(){return o.openDialog("Add",o.loginService.getData())}),r(11,"mat-icon"),c(12,"add"),s()()()(),r(13,"div",2)(14,"div",9)(15,"div",10)(16,"table",11),F(17,12),h(18,TR,2,0,"th",13)(19,PR,2,1,"td",14),R(),F(20,15),h(21,DR,2,0,"th",13)(22,FR,2,1,"td",14),R(),F(23,16),h(24,RR,2,0,"th",13)(25,kR,2,1,"td",14),R(),F(26,17),h(27,AR,2,0,"th",13)(28,OR,2,1,"td",14),R(),F(29,18),h(30,VR,2,0,"th",13)(31,NR,2,1,"td",14),R(),F(32,19),h(33,BR,2,0,"th",13)(34,LR,2,1,"td",14),R(),F(35,20),h(36,jR,2,0,"th",13)(37,zR,2,1,"td",21),R(),F(38,22),h(39,HR,2,0,"th",13)(40,qR,2,1,"td",14),R(),F(41,23),h(42,GR,2,0,"th",24)(43,UR,28,3,"td",14),R(),h(44,$R,1,0,"tr",25)(45,QR,1,0,"tr",26),s(),C(46,"mat-paginator",27),s()()()()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(2),p("ngIf",o.cantidadIngresosPendientePorRemplazo>0),m(8),p("dataSource",o.dataSource),m(28),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(6,MR)))},dependencies:[X,Ee,_e,ve,Po,To,Do,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,Zo,Ut,V,q,H,G],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.info[_ngcontent-%COMP%]{font-size:smaller;color:currentcolor;display:inline-block}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:17%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}  .mat-menu-panel{overflow:hidden!important}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}"]})}}return t})();var Ts=class{constructor(n){n&&Object.assign(this,n)}getJson(){let n={knowledgeId:this.knowledgeId,peopleList:this.peopleList,allPeople:this.allPeople};return JSON.stringify(n)}};var h_=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.dialogRef=i,this.knowledgeService=o,this.loginService=a,this.dialogService=l,this.personService=d,this.successfulStatusCode=200,this.people=[],this.knowledgesList=[],this.isSelected=!1,this.isDisabled=!0,this.isSelectedMultiple=!1,this.isDisabledMultiple=!0,this.knowledgev="",this.knowledge="",this.successStatusCode=200,this.values=[],this.allPeople="",this.selects=[],this.activeSelect=!1,this.desactiveSelect=!0,this.formatType="simple",this.nameIcon1="arrow2-down",this.nameIcon2="arrow2-down",this.itemsPerson=[],this.buildForm()}ngOnInit(){this.getAllKnowledges(),this.getPeople()}buildForm(){this.personKnowledge=this.fb.group({peopleList:["",[A.required]],knowledgeId:["",[A.required]],allPeople:[!1,[A.required]]})}getAllKnowledges(){this.knowledgeService.getConocimientos().subscribe(e=>{e!=null&&(this.knowledgesList=e.map(i=>({label:i.nombre,value:i.idConocimiento})))})}getPeople(){this.personService.getPersonas(this.loginService.getData().idPersona,sa.idEmpresaBancolombia).subscribe(e=>{e!=null&&(this.values=e.map(i=>({label:i.nombre,value:i.idPersona})),this.values.unshift({label:"TODOS",value:"TODOS"}))})}closePopupWindow(){this.dialogRef.close()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}saveKnowledge(){this.personKnowledge.controls.peopleList.value.includes("TODOS")&&this.values.length==this.personKnowledge.controls.peopleList.value.length&&this.personKnowledge.controls.allPeople.setValue(!0);let e=new Ts(this.personKnowledge.value);this.knowledgeService.addKnowledge(e.getJson()).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.showMessage(i.body.data.message,"success","Conocimientos"),this.dialogRef.close()):this.showMessage(i.body.data.message,"error","Conocimientos"):this.showMessage("No se recibe objeto respuesta del servidor","error","Conocimientos")})}deleteKnowledge(){this.personKnowledge.controls.allPeople.setValue(this.personKnowledge.controls.peopleList.value.includes("TODOS"));let e=new Ts(this.personKnowledge.value);this.knowledgeService.deleteKnowledge(e.getJson()).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.showMessage(i.body.data.message,"success","Conocimientos"),this.dialogRef.close()):this.showMessage(i.body.data.message,"error","Conocimientos"):this.showMessage("No se recibe objeto respuesta del servidor","error","Conocimientos")})}selectAllPeople(e){e?(this.personKnowledge.controls.peopleList.reset(null),this.personKnowledge.controls.peopleList.setValue(this.values.map(i=>i.value))):this.personKnowledge.controls.peopleList.reset(null)}showSelectedValue(e){this.allPeople!="TODOS"&&e.includes("TODOS")?(this.allPeople="TODOS",this.selectAllPeople(!0)):this.allPeople=="TODOS"&&!e.includes("TODOS")&&(this.allPeople="",this.selectAllPeople(!1))}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(lo),g(he),g(ue),g(ot))}}static{this.\u0275cmp=D({type:t,selectors:[["app-agregar-conocimiento-masivo"]],decls:25,vars:11,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-11"],[2,"font-family","'Open Sans SemiBold'","font-size","16px","line-height","24px"],[1,"col-1",2,"float","right"],["button","","bc-fab-button","","typeButton","mini",2,"border","none",3,"click"],["size","xm","aria-hidden","true","aria-label","search"],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["label","Conocimiento","ngDefaultControl","","icon","idea","componentId","selectKnowledge",3,"formControl","formatType","filter","values"],["componentId","selectPeople","id","1","label","Personas","span","Validate","icon","people","ngDefaultControl","",3,"valueOutput","multiple","formatType","values","status","formControl"],["bc-button","","id","btnSaveKnowledge","sizeButton","small",3,"click","disabled"],["bc-button","","id","btnDeleteKnowledge","sizeButton","small",3,"click","disabled"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4," Conocimiento"),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.closePopupWindow()}),r(7,"bc-icon",6),c(8,"error"),s()()()()(),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"bc-form-field"),C(13,"bc-input-select",10),s()(),r(14,"div",9)(15,"bc-form-field")(16,"bc-input-select",11),_("valueOutput",function(l){return o.showSelectedValue(l)}),s()()()(),C(17,"br"),r(18,"div",8)(19,"div",9)(20,"button",12),_("click",function(){return o.saveKnowledge()}),c(21,"Agregar conocimientos"),s()(),r(22,"div",9)(23,"button",13),_("click",function(){return o.deleteKnowledge()}),c(24,"Eliminar conocimientos"),s()()()()),i&2&&(m(13),p("formControl",o.personKnowledge.controls.knowledgeId)("formatType","simple")("filter",!0)("values",o.knowledgesList),m(3),p("multiple",!0)("formatType","simple")("values",o.values)("status",o.statusPeople)("formControl",o.personKnowledge.controls.peopleList),m(4),p("disabled",!o.personKnowledge.valid),m(3),p("disabled",!o.personKnowledge.valid))},dependencies:[q,H,G,kt,ee,Me,It]})}}return t})();function YR(t,n){t&1&&(r(0,"td",21),c(1,"VIGENTE"),s())}function XR(t,n){t&1&&(r(0,"td",22),c(1,"VENCIDO"),s())}function ZR(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",17),c(2),s(),r(3,"td",17),c(4),s(),h(5,YR,2,0,"td",18)(6,XR,2,0,"td",19),r(7,"td",17)(8,"bc-icon-button",20),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.renewKnowledge(o))}),s()(),r(9,"td",17)(10,"bc-icon-button",20),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.deleteKnowledge(o))}),s()()()}if(t&2){let e=n.$implicit,i=n.index;m(2),I(e.knowledgeName),m(2),I(e.knowledgeType),m(),p("ngIf",!e.active),m(),p("ngIf",e.active),m(2),wi("id","",e.knowledgeMapId,"_renew",i,""),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","refresh"),m(2),wi("id","",e.knowledgeMapId,"_delete",i,""),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","erase")}}function JR(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePageAreaKnowledge(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Conocimiento"),s(),r(9,"th",15),c(10,"Tipo de conocimiento"),s(),r(11,"th",15),c(12,"Estado"),s(),r(13,"th",15),c(14,"Renovar"),s(),r(15,"th",15),c(16,"Eliminar"),s()()(),r(17,"tbody"),h(18,ZR,11,20,"tr",16),s()()(),C(19,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.areaKnowledgeList),m(2),p("totalRegisters",e.totalRegistersAreaKnowledge)("perPage",e.limitAreaKnowledge)("perMultiple",6),m(2),p("sort",!1)("sort",!1)("pairPaginators",!0),m(14),p("ngForOf",e.areaKnowledgeList)}}function ek(t,n){t&1&&(r(0,"td",21),c(1,"VIGENTE"),s())}function tk(t,n){t&1&&(r(0,"td",22),c(1,"VENCIDO"),s())}function ik(t,n){if(t&1&&(r(0,"tr")(1,"td",17),c(2),s(),r(3,"td",17),c(4),s(),h(5,ek,2,0,"td",18)(6,tk,2,0,"td",19),s()),t&2){let e=n.$implicit;m(2),I(e.knowledgeName),m(2),I(e.originDiagnosticName),m(),p("ngIf",!e.active),m(),p("ngIf",e.active)}}function ok(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",23)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePageKnowledgeTalent(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Conocimiento"),s(),r(9,"th",15),c(10,"M\xE9todo de adquisici\xF3n"),s(),r(11,"th",15),c(12,"Estado"),s()()(),r(13,"tbody"),h(14,ik,7,4,"tr",16),s()()(),C(15,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.knowledgeTalentList),m(2),p("totalRegisters",e.totalRegistersKnowledgeTalent)("perPage",e.limitKnowledgeTalent)("perMultiple",6),m(2),p("sort",!1)("sort",!1)("pairPaginators",!0),m(10),p("ngForOf",e.knowledgeTalentList)}}var g_=(()=>{class t{constructor(e,i,o,a,l){this.dialogRef=e,this.data=i,this.KnowledgeMapService=o,this.dialogService=a,this.diagnosticoService=l,this.areaKnowledgeList=[],this.knowledgeTalentList=[],this.pageAreaKnowledge=1,this.pageKnowledgeTalent=1,this.limitAreaKnowledge=6,this.limitKnowledgeTalent=6,this.totalRegistersAreaKnowledge=0,this.totalRegistersKnowledgeTalent=0,this.successfulStatusCode=200,this.visibleKnowledgeArea=!0,this.visibleKnowledgeRole=!1,this.visibleKnowledgeTalent=!1,this.menuItems=[{itemTargetID:"conocimientosArea",itemText:"Conocimientos del area"},{itemTargetID:"conocimientosRol",itemText:"Conocimientos del rol"},{itemTargetID:"conocimientosTalento",itemText:"Conocimientos del talento"}]}ngOnInit(){console.log("entra"),this.loadAreaKnowledgeList()}loadAreaKnowledgeList(){this.KnowledgeMapService.getKnowledgeMapList(this.pageAreaKnowledge,this.limitAreaKnowledge,this.data.personId).subscribe(e=>{this.successfulStatusCode==e.statusCode&&(this.areaKnowledgeList=e.body.data.knowledgeList,this.totalRegistersAreaKnowledge=e.body.data.total)})}listDiagnostic(){this.diagnosticoService.listDiagnostic("",this.pageKnowledgeTalent,this.limitKnowledgeTalent,null,!0,this.data.personId).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.knowledgeTalentList=e.body.data.listDiagnostic,this.totalRegistersKnowledgeTalent=e.body.data.total):this.showMessage(e.body.data.message,"error","Listar diagn\xF3sticos")})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}onChangePageAreaKnowledge(e){(this.pageAreaKnowledge!=parseInt(e.CurrentPage)||this.limitAreaKnowledge!=parseInt(e.PerPage))&&(this.pageAreaKnowledge=parseInt(e.CurrentPage),this.limitAreaKnowledge=parseInt(e.PerPage),this.loadAreaKnowledgeList())}onChangePageKnowledgeTalent(e){(this.pageKnowledgeTalent!=parseInt(e.CurrentPage)||this.limitKnowledgeTalent!=parseInt(e.PerPage))&&(this.pageKnowledgeTalent=parseInt(e.CurrentPage),this.limitKnowledgeTalent=parseInt(e.PerPage),this.listDiagnostic())}renewKnowledge(e){this.KnowledgeMapService.renewKnowledgeMapById(e.knowledgeMapId).subscribe(i=>{this.successfulStatusCode==i.statusCode?(this.showMessage(i.body.data.message,"success","Renovar conocimiento"),this.loadAreaKnowledgeList()):this.showMessage(i.body.data.message,"error","Renovar conocimiento")})}deleteKnowledge(e){this.KnowledgeMapService.deleteKnowledgeMapById(e.knowledgeMapId).subscribe(i=>{this.successfulStatusCode==i.statusCode?(this.showMessage(i.body.data.message,"success","Eliminar conocimiento"),this.loadAreaKnowledgeList()):this.showMessage(i.body.data.message,"error","Eliminar conocimiento")})}visibleKnowledge(e){e=="knowledgeArea"?(this.loadAreaKnowledgeList(),this.visibleKnowledgeArea=!0,this.visibleKnowledgeRole=!1,this.visibleKnowledgeTalent=!1):e=="knowledgeRole"?(this.visibleKnowledgeArea=!1,this.visibleKnowledgeRole=!0,this.visibleKnowledgeTalent=!1):(this.listDiagnostic(),this.visibleKnowledgeArea=!1,this.visibleKnowledgeRole=!1,this.visibleKnowledgeTalent=!0)}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(W),g(Y),g(hr),g(ue),g(yn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-detalle-conocimiento-persona"]],decls:18,vars:9,consts:[[1,"container"],[1,"row","justify-content-start"],[1,"col-10"],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-md-center"],[1,"col-3",2,"display","flex","align-items","center"],["id","knowledgeArea",3,"click","typeShortcut","text","icon"],["id","knowledgeTalent",3,"click","typeShortcut","text","icon"],[1,"col-9",2,"display","flex","align-items","center"],[3,"dataTable",4,"ngIf"],[3,"dataTable"],["title","Conocimientos del \xE1rea"],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","style","color:green;",4,"ngIf"],["bc-cell","","style","color:red;",4,"ngIf"],[3,"click","id","type","color","shadow","size","customIcon"],["bc-cell","",2,"color","green"],["bc-cell","",2,"color","red"],["title","Conocimientos del talento"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4),s()(),r(5,"div",3)(6,"button",4),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",5)(10,"div",6)(11,"bc-shortcut-group")(12,"bc-shortcut",7),_("click",function(){return o.visibleKnowledge("knowledgeArea")}),s(),C(13,"br"),r(14,"bc-shortcut",8),_("click",function(){return o.visibleKnowledge("knowledgeTalent")}),s()()(),r(15,"div",9),h(16,JR,20,8,"bc-table-container",10)(17,ok,16,8,"bc-table-container",10),s()()()),i&2&&(m(4),I(o.data.fullName),m(8),p("typeShortcut","single")("text","Conocimientos del \xE1rea")("icon","idea"),m(2),p("typeShortcut","single")("text","Conocimientos del talento")("icon","preparer-User"),m(2),p("ngIf",o.areaKnowledgeList.length>0&&o.visibleKnowledgeArea),m(),p("ngIf",o.knowledgeTalentList.length>0&&o.visibleKnowledgeTalent))},dependencies:[X,ae,V,pt,mt,ct,dt,ut,_t,lt,ic,qf,fe]})}}return t})();var nk=["modalKnowledgeMapManagement"];function ak(t,n){if(t&1){let e=E();r(0,"em",31),_("click",function(o){v(e);let a=x().$implicit,l=x(2);return S(l.orderColumns(a.columnToOrder,o.target))}),c(1," arrow-down "),s()}}function rk(t,n){if(t&1&&(r(0,"th",29),c(1),h(2,ak,2,0,"em",30),s()),t&2){let e=n.$implicit;m(),T(" ",e.columName,""),m(),p("ngIf",e.sort)}}function sk(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",35),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function lk(t,n){if(t&1&&(r(0,"tr")(1,"td",32),c(2),s(),r(3,"td",32),c(4),s(),r(5,"td",32),c(6),s(),r(7,"td",32),c(8),s(),r(9,"td",32),c(10),s(),r(11,"td",32),c(12),s(),r(13,"td",33),h(14,sk,1,2,"bc-table-dropdown",34),s()()),t&2){let e=n.$implicit;m(2),I(e.fullName),m(2),I(e.structure),m(2),I(e.company),m(2),I(e.profile),m(2),I(e.supplierProfile),m(2),I(e.cellDescription),m(2),p("ngIf",e.option.length>0)}}function ck(t,n){if(t&1){let e=E();r(0,"bc-table-container",22)(1,"bc-table-header",23)(2,"bc-paginator",24),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",25)(5,"thead")(6,"tr"),h(7,rk,3,2,"th",26),C(8,"th",27),s()(),r(9,"tbody"),h(10,lk,15,7,"tr",28),s()()(),C(11,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.TotalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("pairPaginators",!0)("dropdownHtml",!0),m(3),p("ngForOf",e.displayedColumns),m(3),p("ngForOf",e.dataSource)}}var __=(()=>{class t{constructor(e,i,o,a,l){this.personService=e,this.loginService=i,this.dialog=o,this.dialogService=a,this.knowledgeMapService=l,this.filtroFormControl=new O("",[]),this.displayedColumns=[{columnToOrder:"fullName",columName:"Nombre",sort:!1},{columnToOrder:"originDiagnosticName",columName:"Unidad Organizativa",sort:!1},{columnToOrder:"date",columName:"Empresa",sort:!1},{columnToOrder:"score",columName:"Perfil",sort:!1},{columnToOrder:"level",columName:"Perfil Proveedor",sort:!1},{columnToOrder:"cellDescription",columName:"C\xE9lula",sort:!1}],this.dropdownOptions1=[{id:"Gesti\xF3n Gasto",text:"Gesti\xF3n Gasto",icon:"currency-peso",action:this.optionSelected},{id:"Perfil",text:"Perfil",icon:"user",action:this.optionSelected},{id:"Conocimientos",text:"Conocimientos",icon:"receipt",action:this.optionSelected}],this.dataSource=[],this.page=1,this.limit=6,this.filter=null,this.fieldToSort=null,this.orderingType=!0,this.TotalRegisters=0,this.successfulStatusCode=200,this.waitTime=500,this.generalIdEmpresaBancolombia="EM5"}ngOnInit(){this.listPeopleByLeader(),this.validateExpiredKnowledgeMap()}validateExpiredKnowledgeMap(){this.knowledgeMapService.getMessageKnowledgeMapManagement().pipe(Ce(()=>{this.messageExpiredKnowledgeMap&&this.modalKnowledgeMapManagement.openModal()})).subscribe(e=>{this.successfulStatusCode==e.statusCode&&(this.messageExpiredKnowledgeMap=e.body.data.message)})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listPeopleByLeader())}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}listPeopleByLeader(){this.personService.getPeopleByLeader(this.loginService.getData().idPersona,this.filtroFormControl.value.replace(/\s+/g,""),this.page,this.limit).pipe().subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.people.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.TotalRegisters=e.body.data.total):this.showMessage(e.body.data.message,"error","Listar diagn\xF3sticos")})}orderColumns(e,i){let o=i.innerHTML,a="";o==="arrow-up"?(a="arrow-down",this.fieldToSort=e,this.orderingType=!0,this.listPeopleByLeader()):(a="arrow-up",this.fieldToSort=e,this.orderingType=!1,this.listPeopleByLeader()),i.innerHTML=a}openUpdateExpenseDialog(e){let i={title:"Editar gesti\xF3n gasto persona: "+e.fullName,idPersona:e.personId,sourceComponent:"EQP"},o=this.dialog.open(Dc,{data:i})}openUpdateNivelRolDialog(e){let i={title:"Editar rol persona: "+e.fullName,idPersona:e.personId,nombre:e.fullName,sourceComponent:"EQP"};this.dialog.open(Ic,{width:"800px",data:i}).afterClosed().subscribe(a=>{a!=null&&this.listPeopleByLeader()})}openAddknowledge(){let e=this.dialog.open(h_,{width:"800px"})}closeModal(){this.modalKnowledgeMapManagement.shutDown()}detailKnowledge(e){let i=this.dialog.open(g_,{data:e,width:"1000px"})}renewKnowledgeMap(){this.knowledgeMapService.renewKnowledgeMap().subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.showMessage(e.body.data.message,"success","Renovar conocimientos"),this.modalKnowledgeMapManagement.shutDown()):this.showMessage(e.body.data.message,"error","Renovar conocimientos")})}deleteKnowledgeMap(){this.knowledgeMapService.deleteKnowledgeMap().subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.showMessage(e.body.data.message,"success","Renovar conocimientos"),this.modalKnowledgeMapManagement.shutDown()):this.showMessage(e.body.data.message,"error","Renovar conocimientos")})}optionSelected(e){e.optionSeleted.indexOf("Gasto")!==-1&&this.openUpdateExpenseDialog(e.rowData),e.optionSeleted.indexOf("Perfil")!==-1&&this.openUpdateNivelRolDialog(e.rowData),e.optionSeleted.indexOf("Conocimientos")!==-1&&this.detailKnowledge(e.rowData)}getOptions(e){let i=[];return e.editExpense&&i.push({id:"Gasto",text:"Gesti\xF3n Gasto",icon:"currency-peso",action:this.optionSelected}),e.editProfile&&i.push({id:"Perfil",text:"Perfil",icon:"user",action:this.optionSelected}),e.companyId==this.generalIdEmpresaBancolombia&&i.push({id:"Conocimientos",text:"Conocimientos",icon:"receipt",action:this.optionSelected}),i}static{this.\u0275fac=function(i){return new(i||t)(g(ot),g(he),g(Z),g(ue),g(hr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-persona-lider"]],viewQuery:function(i,o){if(i&1&&L(nk,7),i&2){let a;j(a=z())&&(o.modalKnowledgeMapManagement=a.first)}},decls:34,vars:9,consts:[["inputstring",""],["modalKnowledgeMapManagement",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-7"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilterPerson","type","text","value","",3,"keyup.enter","formControl"],["for","526"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],[1,"col-5",2,"align-self","center"],["bc-button","","sizeButton","small","id","addknowledge",3,"click"],[3,"dataTable",4,"ngIf"],["title","Conocimientos del area","typeNotify","info",3,"typeIcon","customWidth","titleAlign","isCancellable","subTitle","displayButton"],["modalContent",""],[2,"text-align","center"],["modalFooter",""],[1,"bc-container","bc-col-12"],[1,"bc-row"],[1,"bc-col-4"],["bc-button","","sizeButton","small",3,"click"],[3,"dataTable"],["title","Personas"],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false",3,"pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col",4,"ngFor","ngForOf"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["scope","row","bc-cell","","scope","col"],["class","bc-icon bc-xs bc-sort-icon",3,"click",4,"ngIf"],[1,"bc-icon","bc-xs","bc-sort-icon",3,"click"],["bc-cell",""],["bc-cell","","type","action"],[3,"row","options","onChange",4,"ngIf"],[3,"onChange","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup.enter",function(){return v(a),S(o.listPeopleByLeader())}),s(),r(8,"label",8),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-form-field",9)(11,"bc-icon-button",10),_("click",function(){return v(a),S(o.listPeopleByLeader())}),s()()(),r(12,"div",11)(13,"button",12),_("click",function(){return v(a),S(o.openAddknowledge())}),r(14,"span"),c(15,"A\xF1adir / eliminar conocimientos"),s()()()(),h(16,ck,12,8,"bc-table-container",13),s(),r(17,"bc-modal",14,1)(19,"div",15)(20,"p",16),c(21),s()(),r(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"button",21),_("click",function(){return v(a),S(o.renewKnowledgeMap())}),c(27,"Renovar todos "),s()(),r(28,"div",20)(29,"button",21),_("click",function(){return v(a),S(o.deleteKnowledgeMap())}),c(30,"Eliminar todos "),s()(),r(31,"div",20)(32,"button",21),_("click",function(){return v(a),S(o.closeModal())}),c(33,"Gestionar "),s()()()()()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(10),p("ngIf",o.dataSource.length>0),m(),p("typeIcon","info")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null)("displayButton",!1),m(4),T(" ",o.messageExpiredKnowledgeMap," "))},dependencies:[ae,V,q,H,G,kt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,Wt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}.mat-sort-header-container[_ngcontent-%COMP%], .ng-tns-c124-38[_ngcontent-%COMP%]{place-content:center}th[_ngcontent-%COMP%]{font-family:Open Sans SemiBold;font-size:16px;line-height:24px;text-align:left;position:relative;cursor:pointer;color:#000;background-color:#f4f4f4}td[_ngcontent-%COMP%]{padding:0 4px;font-family:Open Sans;font-size:16px;line-height:16px;height:56px;vertical-align:middle}bc-search-content-items[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:25px}.space-i[_ngcontent-%COMP%]{width:100%;height:80px;background:#fff;display:inline-flex;padding:8px 24px 24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;box-shadow:0 1px 4px #0000001a}.accion[_ngcontent-%COMP%]{width:0%;justify-content:left}.bc-icon-button-solid.bc-icon-button-yellow[_ngcontent-%COMP%]{--bc-icon-button-bg: #fdda24;--bc-icon-button-color: #2C2A29}.bc-icon-button-solid.bc-icon-button-xsmall[_ngcontent-%COMP%]{height:32px;width:32px}.bc-shadow-02[_ngcontent-%COMP%]{box-shadow:0 1px 4px #2c2a2914}.bc-icon-button-solid[_ngcontent-%COMP%]{border:none}.bc-icon-button[_ngcontent-%COMP%]{--bc-icon-button-bg: transparent;--bc-icon-button-color: $icon-button-color;align-items:center;background-color:var(--bc-icon-button-bg);border-radius:100px;display:flex;height:56px;justify-content:center;cursor:pointer;width:56px}.bc-icon-button[_ngcontent-%COMP%]:hover{background-color:#e6c621}.secondary[_ngcontent-%COMP%]{background-color:#fdda24}  .bc-table-container .bc-table-header-top{min-height:0px!important}"]})}}return t})();var C_=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlCreateEncuestaPrestadorServicio="/encuestaprestadorservicio/createEncuestaPrestadorServicio",this.urlGetQuestionsSurvey="/encuestaprestadorservicio/getQuestionsSurvey"}createEncuestaPrestadorServicio(e){return this.http.post(this.configService.settings.apiUrl+this.urlCreateEncuestaPrestadorServicio,e)}getQuestionsSurvey(){return this.http.get(this.configService.settings.apiUrl+this.urlGetQuestionsSurvey)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uk(t,n){if(t&1){let e=E();F(0),r(1,"mat-card-header")(2,"mat-card-subtitle"),c(3),s()(),r(4,"mat-card-content",16)(5,"app-star-rating",4),_("ratingUpdated",function(o){v(e);let a=x();return S(a.onRating3Changed(o))}),s()(),r(6,"mat-card-header")(7,"mat-card-subtitle"),c(8),s()(),r(9,"mat-card-content",17)(10,"app-star-rating",4),_("ratingUpdated",function(o){v(e);let a=x();return S(a.onRating4Changed(o))}),s()(),R()}if(t&2){let e=x();m(3),I(e.question2a),m(2),p("rating",e.rating3)("starCount",5),m(3),I(e.question2b),m(2),p("rating",e.rating4)("starCount",5)}}var b_=(()=>{class t{constructor(e,i,o,a,l){this.data=e,this.dialogRef=i,this._snackBar=o,this.encuestaPrestadorServicioService=a,this.countSurveyService=l,this.question1=null,this.question1a=null,this.question1b=null,this.question2=null,this.question2a=null,this.question2b=null,this.question3=null,this.rating1=0,this.rating2=0,this.rating3=0,this.rating4=0,this.feedbackFormControl=new O("",[A.required]),this.providerRotationFormControl=new O(null)}ngOnInit(){this.getQuestionsSurvey(),this.providerRotationFormControl.valueChanges.subscribe(e=>{e=="no"&&(this.rating3=0,this.rating4=0)})}getQuestionsSurvey(){this.encuestaPrestadorServicioService.getQuestionsSurvey().subscribe(e=>{e.statusCode==200?(this.question1=e.body.data.pregunta1,this.question1a=e.body.data.pregunta1a,this.question1b=e.body.data.pregunta1b,this.question2=e.body.data.pregunta2,this.question2a=e.body.data.pregunta2a,this.question2b=e.body.data.pregunta2b,this.question3=e.body.data.pregunta3):(this.showMessage(e.body.data.message),this.dialogRef.close())})}onRating1Changed(e){this.rating1=e}onRating2Changed(e){this.rating2=e}onRating3Changed(e){this.rating3=e}onRating4Changed(e){this.rating4=e}save(){let i={idPosteoProveedor:this.data.idPosteoProveedor,tecnico:this.rating1,habilidadesBlandas:this.rating2,esRotacionMismoProveedor:this.providerRotationFormControl.value=="si",eficienciaEmpalme:this.rating3,calidadEmpalme:this.rating4,feedback:this.feedbackFormControl.value};this.encuestaPrestadorServicioService.createEncuestaPrestadorServicio(i).subscribe(o=>{o.statusCode==200?(this.showMessage(o.body.data.message),this.countSurveyService.getCountSurveys().subscribe(),this.dialogRef.close()):this.showMessage(o.body.data.message)})}close(){this.dialogRef.close()}validateForm(){return this.rating1==0||this.rating2==0||!this.providerRotationFormControl.value||this.providerRotationFormControl.value=="si"&&(this.rating3==0||this.rating4==0)}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Y),g(W),g(K),g(C_),g(tn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-prestador-servicio"]],decls:40,vars:16,consts:[["color","accent"],[1,"example-card"],[1,"content-center"],["id","question1a",1,"content-center"],["color","accent",3,"ratingUpdated","rating","starCount"],["id","question1b",1,"content-center"],[3,"formControl"],["id","btnRotationSi","value","si",1,"mx-1"],["id","btnRotationNo","value","no",1,"mx-1"],[4,"ngIf"],[1,"example-full-width"],["id","enterSuggestion","matInput","","placeholder","Comentario",3,"formControl"],[1,"row","justify-content-start","button"],[1,"col-6"],["id","btnSaveProviderSurvey","bc-button","","sizeButton","small","type","button",1,"bc-button-small","bc-button-primary",3,"click","disabled"],["bc-button","","sizeButton","small","type","button",1,"bc-button-small","bc-button-secondary",3,"click"],["id","question2a",1,"content-center"],["id","question2b",1,"content-center"]],template:function(i,o){i&1&&(r(0,"mat-toolbar",0),c(1),s(),r(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title"),c(5),s()(),r(6,"mat-card-header",2)(7,"mat-card-subtitle"),c(8),s()(),r(9,"mat-card-content",3)(10,"app-star-rating",4),_("ratingUpdated",function(l){return o.onRating1Changed(l)}),s()(),r(11,"mat-card-header",2)(12,"mat-card-subtitle"),c(13),s()(),r(14,"mat-card-content",5)(15,"app-star-rating",4),_("ratingUpdated",function(l){return o.onRating2Changed(l)}),s()(),r(16,"mat-card-header")(17,"mat-card-title"),c(18),s()(),r(19,"mat-card-content",2)(20,"mat-radio-group",6)(21,"mat-radio-button",7),c(22,"Si"),s(),r(23,"mat-radio-button",8),c(24,"No"),s()()(),h(25,uk,11,6,"ng-container",9),r(26,"mat-card-header")(27,"mat-card-title"),c(28),s()(),r(29,"mat-card-content")(30,"mat-form-field",10),C(31,"textarea",11),s()(),r(32,"mat-card-actions")(33,"div",12)(34,"div",13)(35,"button",14),_("click",function(){return o.save()}),c(36,"Guardar"),s()(),r(37,"div",13)(38,"button",15),_("click",function(){return o.close()}),c(39,"Cancelar"),s()()()()()),i&2&&(m(),Uo(" ",o.data.cedula," - ",o.data.nombre," - ",o.data.empresa,""),m(4),T("1. ",o.question1,""),m(3),I(o.question1a),m(2),p("rating",o.rating1)("starCount",5),m(3),I(o.question1b),m(2),p("rating",o.rating2)("starCount",5),m(3),T("2. ",o.question2,""),m(2),p("formControl",o.providerRotationFormControl),m(5),p("ngIf",o.providerRotationFormControl.value=="si"),m(3),T("3. ",o.question3,""),m(3),p("formControl",o.feedbackFormControl),m(4),p("disabled",o.validateForm()))},dependencies:[gi,Tl,Ha,qa,of,za,Ee,_e,ar,rr,Xo,V,q,H,G,Il,kt],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;padding-left:16px;padding-right:16px}.content-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.mx-1[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}mat-card-subtitle[_ngcontent-%COMP%]{color:#1d1d1d;font-size:17px}"]})}}return t})();function hk(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function gk(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombre," ")}}function _k(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.empresa," ")}}function Ck(t,n){if(t&1){let e=E();r(0,"td",10)(1,"button",11),_("click",function(){let o=v(e).$implicit,a=x(3);return S(a.openSurvey(o))}),r(2,"mat-icon"),c(3,"assignment"),s()()()}if(t&2){let e=n.index;m(),Bt("id","btnAnswerSurvey",e,"")}}function bk(t,n){t&1&&C(0,"tr",12)}function vk(t,n){if(t&1&&(r(0,"table",3),F(1,4),h(2,hk,2,1,"td",5),R(),F(3,6),h(4,gk,2,1,"td",5),R(),F(5,7),h(6,_k,2,1,"td",5),R(),F(7,8),h(8,Ck,4,2,"td",5),R(),h(9,bk,1,0,"tr",9),s()),t&2){let e=x().$implicit,i=x();p("dataSource",e.aprobados),m(9),p("matRowDefColumns",i.displayedColumns)}}function Sk(t,n){if(t&1){let e=E();r(0,"mat-expansion-panel",1),_("opened",function(){let o=v(e).$implicit,a=x();return S(a.getAprobados(o))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),s(),r(4,"mat-panel-description"),c(5),s()(),h(6,vk,10,2,"table",2),s()}if(t&2){let e=n.$implicit,i=n.index;Bt("id","btnEntrance",i,""),m(3),T(" Solicitud: ",e.idSolicitud," "),m(2),T(" ",e.rol," "),m(),p("ngIf",!!e.aprobados&&e.aprobados.data.length!==0)}}var v_=(()=>{class t{constructor(e,i,o,a){this.ingresoService=e,this._snackBar=i,this.dialog=o,this.posteoService=a,this.onChangeCountSurvey=new Ui,this.displayedColumns=["cedula","nombre","empresa","acciones"],this.dataSource=[]}ngOnInit(){this.getIngresos()}getIngresos(){this.ingresoService.getAllPendienteEncustaPrestadorServicio().subscribe(e=>{e.statusCode==200?this.dataSource=e.body.data.entrances:this.dataSource=[],this.ingresoService.countAllPendienteEncustaPrestadorServicio().subscribe(i=>{i.statusCode==200&&this.onChangeCountSurvey.emit(i.body.data.total)})})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openSurvey(e){this.dialog.open(b_,{width:"90%",data:e,disableClose:!0}).afterClosed().subscribe(o=>{this.getIngresos()})}getAprobados(e){this.posteoService.getAprobadosPendienteEncuesta(e.idSolicitud).subscribe(i=>{i.statusCode==200?e.aprobados=new Se(i.body.data.postSuppliers):(e.aprobados=new Se([]),this.showMessage(i.body.data.message))})}static{this.\u0275fac=function(i){return new(i||t)(g(Qi),g(K),g(Z),g(Dn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-prestadores-servicio"]],outputs:{onChangeCountSurvey:"onChangeCountSurvey"},decls:2,vars:1,consts:[["hideToggle","",3,"id","opened",4,"ngFor","ngForOf"],["hideToggle","",3,"opened","id"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","cedula"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","empresa"],["matColumnDef","acciones"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["aria-label","Boton","matTooltip","Diligenciar encuesta prestador servicio",1,"bc-button-icon",3,"click","id"],["mat-row",""]],template:function(i,o){i&1&&(r(0,"mat-accordion"),h(1,Sk,7,5,"mat-expansion-panel",0),s()),i&2&&(m(),p("ngForOf",o.dataSource))},dependencies:[Ql,ql,Gl,$l,Ul,X,Pe,Fe,De,ke,Re,Ae,oe,ae,V],styles:["table[_ngcontent-%COMP%]{width:100%}"]})}}return t})();var S_=(()=>{class t{constructor(e,i,o,a,l){this.encuestaAtencionDemandaService=e,this.data=i,this._snackBar=o,this.dialogRef=a,this.countSurveyService=l,this.question1=null,this.question2=null,this.rating1=0,this.feedbackFormControl=new O("",[A.required])}ngOnInit(){this.getQuestionsSurvey()}onRating1Changed(e){this.rating1=e}getQuestionsSurvey(){this.encuestaAtencionDemandaService.getQuestionsSurvey().subscribe(e=>{e.statusCode==200?(this.question1=e.body.data.pregunta1,this.question2=e.body.data.pregunta2):(this.showMessage(e.body.data.message),this.dialogRef.close())})}save(){let i={idIngreso:this.data.idSolicitud,calificacion:this.rating1,observacion:this.feedbackFormControl.value};this.encuestaAtencionDemandaService.createSurvey(i).subscribe(o=>{o.statusCode==200?(this.showMessage(o.body.data.message),this.countSurveyService.getCountSurveys().subscribe(),this.dialogRef.close()):this.showMessage(o.body.data.message)})}close(){this.dialogRef.close()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Sr),g(Y),g(K),g(W),g(tn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-encuesta-atencion-demanda"]],decls:22,vars:8,consts:[["color","accent"],[1,"example-card"],[1,"content-center"],["color","accent",3,"ratingUpdated","rating","starCount"],[1,"example-full-width"],["matInput","","placeholder","Comentario","id","enterSuggestion",3,"formControl"],[1,"row","justify-content-start","button"],[1,"col-6"],["bc-button","","sizeButton","small","type","button","id","btnSaveDemandSurvey",1,"bc-button-small","bc-button-primary",3,"click","disabled"],["bc-button","","sizeButton","small","type","button",1,"bc-button-small","bc-button-secondary",3,"click"]],template:function(i,o){i&1&&(r(0,"mat-toolbar",0),c(1),s(),r(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title"),c(5),s()(),r(6,"mat-card-content",2)(7,"app-star-rating",3),_("ratingUpdated",function(l){return o.onRating1Changed(l)}),s()(),r(8,"mat-card-header")(9,"mat-card-title"),c(10),s()(),r(11,"mat-card-content")(12,"mat-form-field",4),C(13,"textarea",5),s()(),r(14,"mat-card-actions")(15,"div",6)(16,"div",7)(17,"button",8),_("click",function(){return o.save()}),c(18,"Guardar"),s()(),r(19,"div",7)(20,"button",9),_("click",function(){return o.close()}),c(21,"Cancelar"),s()()()()()),i&2&&(m(),Ht(" ",o.data.idSolicitud," - ",o.data.componenteMenor,""),m(4),T("1. ",o.question1,""),m(2),p("rating",o.rating1)("starCount",5),m(3),T("2. ",o.question2,""),m(3),p("formControl",o.feedbackFormControl),m(4),p("disabled",o.rating1==0))},dependencies:[gi,Tl,Ha,qa,za,Ee,_e,Xo,q,H,G,Il,kt],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;padding-left:16px;padding-right:16px}.content-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}}return t})();function xk(t,n){t&1&&(r(0,"th",9),c(1," Solicitud "),s())}function wk(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idSolicitud," ")}}function Ek(t,n){t&1&&(r(0,"th",9),c(1," Componente "),s())}function Mk(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.componenteMenor," ")}}function Ik(t,n){t&1&&(r(0,"th",9),c(1," Categoria "),s())}function Tk(t,n){if(t&1&&(r(0,"td",10),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.rol," ")}}function Pk(t,n){t&1&&(r(0,"th",9),c(1," Acciones "),s())}function Dk(t,n){if(t&1){let e=E();r(0,"td",10)(1,"button",11),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openSurvey(o))}),r(2,"mat-icon"),c(3,"assignment"),s()()()}if(t&2){let e=n.index;m(),Bt("id","btnAnswerSurvey",e,"")}}function Fk(t,n){t&1&&C(0,"tr",12)}function Rk(t,n){t&1&&C(0,"tr",13)}var y_=(()=>{class t{constructor(e,i){this.encuestaAtencionDemandaService=e,this.dialog=i,this.onChangeCountSurvey=new Ui,this.displayedColumns=["idSolicitud","componenteMenor","rol","acciones"]}ngOnInit(){this.getEncuestas()}getEncuestas(){this.encuestaAtencionDemandaService.getpendingSurveysToFill().subscribe(e=>{e.statusCode==200?this.dataSource=new Se(e.body.data.encuestas):this.dataSource=new Se([]),this.encuestaAtencionDemandaService.countAllClosedWithoutSurvey().subscribe(i=>{i.statusCode==200&&this.onChangeCountSurvey.emit(i.body.data.total)})})}openSurvey(e){this.dialog.open(S_,{width:"90%",data:e,disableClose:!0}).afterClosed().subscribe(o=>{this.getEncuestas()})}static{this.\u0275fac=function(i){return new(i||t)(g(Sr),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-atencion-demanda"]],outputs:{onChangeCountSurvey:"onChangeCountSurvey"},decls:15,vars:3,consts:[["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","idSolicitud"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","componenteMenor"],["matColumnDef","rol"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-label","Boton","matTooltip","Diligenciar encuesta atenci\xF3n demanda",1,"bc-button-icon",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"table",0),F(1,1),h(2,xk,2,0,"th",2)(3,wk,2,1,"td",3),R(),F(4,4),h(5,Ek,2,0,"th",2)(6,Mk,2,1,"td",3),R(),F(7,5),h(8,Ik,2,0,"th",2)(9,Tk,2,1,"td",3),R(),F(10,6),h(11,Pk,2,0,"th",2)(12,Dk,4,2,"td",3),R(),h(13,Fk,1,0,"tr",7)(14,Rk,1,0,"tr",8),s()),i&2&&(p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns))},dependencies:[X,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe],styles:["table[_ngcontent-%COMP%]{width:100%}"]})}}return t})();function Ak(t,n){if(t&1&&(r(0,"span",3),c(1,"PRESTADORES DE SERVICIO"),s()),t&2){let e=x();p("matBadge",e.countSurveyServiceProvider)}}function Ok(t,n){t&1&&C(0,"app-prestadores-servicio")}function Vk(t,n){if(t&1&&(r(0,"span",4),c(1,"ATENCI\xD3N DEMANDA"),s()),t&2){let e=x();p("matBadge",e.countSurveyDemandAtention)}}function Nk(t,n){t&1&&C(0,"app-atencion-demanda")}var x_=(()=>{class t{constructor(e){this.countSurveyService=e,this.countSurveyServiceProvider=null,this.countSurveyDemandAtention=null}ngOnInit(){this.getCountSurveys()}getCountSurveys(){this.countSurveyService.getCounter().subscribe(e=>{this.setCountServiceProvider(e.serviceProvider),this.setCountDemandAtention(e.demandAtention)}),this.countSurveyService.getCountSurveys().subscribe()}setCountServiceProvider(e){this.countSurveyServiceProvider=e>0?e:null}setCountDemandAtention(e){this.countSurveyDemandAtention=e>0?e:null}static{this.\u0275fac=function(i){return new(i||t)(g(tn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-encuestas"]],decls:7,vars:0,consts:[["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],["matTabContent",""],["matBadgeOverlap","false","matBadgeColor","accent","id","btnProviderSatisfactionSurvey","matTooltip","Prestadores de servicio",3,"matBadge"],["matBadgeOverlap","false","matBadgeColor","accent","id","btnDemandServiceSurvey","matTooltip","Atenci\xF3n demanda",3,"matBadge"]],template:function(i,o){i&1&&(r(0,"mat-tab-group",0)(1,"mat-tab"),h(2,Ak,2,1,"ng-template",1)(3,Ok,1,0,"ng-template",2),s(),r(4,"mat-tab"),h(5,Vk,2,1,"ng-template",1)(6,Nk,1,0,"ng-template",2),s()())},dependencies:[Ei,_i,Ci,bi,oe,Zo,v_,y_]})}}return t})();var zk=["tabSurvey"],Hk=["modalNotificacion"];function qk(t,n){t&1&&C(0,"bc-transaction-status",15,2)}function Gk(t,n){if(t&1&&(r(0,"span",13,1),c(2,"PERSONAS "),s(),h(3,qk,2,0,"bc-transaction-status",14)),t&2){let e=x();m(3),p("ngIf",e.countExpired>0||e.countPeople>0)}}function Uk(t,n){t&1&&(r(0,"span",17),c(1,"CONOCIMIENTO PERSONA"),s())}function $k(t,n){t&1&&C(0,"app-persona-lider")}function Qk(t,n){t&1&&(r(0,"span",17),c(1,"CERTIFICACIONES"),s())}function Wk(t,n){if(t&1&&C(0,"app-persona-certificacion",18),t&2){let e=x(2);p("origen",e.currentParent)}}function Kk(t,n){t&1&&(r(0,"mat-tab-group",16)(1,"mat-tab"),h(2,Uk,2,0,"ng-template",7)(3,$k,1,0,"ng-template",8),s(),r(4,"mat-tab"),h(5,Qk,2,0,"ng-template",7)(6,Wk,1,1,"ng-template",8),s()())}function Yk(t,n){t&1&&(r(0,"span",19),c(1,"SOLICITUD RETIROS"),s())}function Xk(t,n){t&1&&C(0,"app-retiros-base",20),t&2&&p("idResourceOrigin","REC002")}function Zk(t,n){t&1&&(r(0,"mat-tab"),h(1,Yk,2,0,"ng-template",7)(2,Xk,1,1,"ng-template",8),s())}function Jk(t,n){t&1&&(r(0,"span",21),c(1,"SOLICITUD INGRESOS"),s())}function eA(t,n){t&1&&C(0,"app-ingreso",22),t&2&&p("idResourceOrigin","REC002")}function tA(t,n){t&1&&(r(0,"mat-tab"),h(1,Jk,2,0,"ng-template",7)(2,eA,1,1,"ng-template",8),s())}function iA(t,n){t&1&&(r(0,"span",23),c(1,"INGRESOS NO DEMANDA"),s())}function oA(t,n){t&1&&C(0,"app-ingreso-no-demanda",22),t&2&&p("idResourceOrigin","REC002")}function nA(t,n){t&1&&(r(0,"mat-tab"),h(1,iA,2,0,"ng-template",7)(2,oA,1,1,"ng-template",8),s())}function aA(t,n){if(t&1&&(r(0,"span",24,3),c(2,"ENCUESTAS"),s()),t&2){let e=x();p("matBadge",e.countSurveys)}}function rA(t,n){t&1&&C(0,"app-encuestas")}function sA(t,n){t&1&&(r(0,"span",25),c(1,"HISTORICO DEL EQUIPO"),s())}function lA(t,n){if(t&1&&C(0,"app-historico-formacion",26),t&2){let e=x();p("resourceId",e.currentParent)}}var w_=(()=>{class t{constructor(e,i){this.countSurveyService=e,this.loginService=i,this.title="Mi equipo",this.equipo=sa.equipo,this.listPeople=!1,this.countSurveys=null,this.messageSurveys=!1,this.messagePerson=!1,this.currentParent="REC002",this.successfulStatusCode=200,this.countExpired=0,this.countPeople=0}ngOnInit(){this.getCountSurveys()}getCountSurveys(){console.log("2"),this.countSurveyService.getCounter().subscribe(e=>{this.changeCountSurvey(e.total)}),this.countSurveyService.getCountSurveys().pipe(Ce(()=>{this.countSurveys>0&&(this.nameButon="Encuesta",this.messageSurveys=!0,this.message="Actualmente cuentas con encuestas pendientes por diligenciar",this.modalNotificacion.openModal())})).subscribe()}changeCountSurvey(e){this.countSurveys=e>0?e:null}responseModalNotificacion(){this.messageSurveys&&this.tabSurvey.nativeElement.click(),this.modalNotificacion.shutDown()}static{this.\u0275fac=function(i){return new(i||t)(g(tn),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-miequipo"]],viewQuery:function(i,o){if(i&1&&(L(zk,5),L(Hk,7)),i&2){let a;j(a=z())&&(o.tabSurvey=a.first),j(a=z())&&(o.modalNotificacion=a.first)}},decls:20,vars:11,consts:[["modalNotificacion",""],["tabPersonLeader",""],["statusTransaction",""],["tabSurvey",""],[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],["matTabContent",""],[4,"ngIf"],["title","Notificaci\xF3n","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable","subTitle","buttonAlignment","textBtn"],["modalContent",""],[2,"text-align","center"],["id","tabPersonLeader","matTooltip","Gestion de Ingresos"],["status","warning","size","xs",4,"ngIf"],["status","warning","size","xs"],["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["id","tabRetirement","matTooltip","Retiros"],[3,"origen"],["id","tabRetreat","matTooltip","Gesti\xF3n de Retiros"],["rol","equipo",3,"idResourceOrigin"],["id","tabEntrance","matTooltip","Gestion de Ingresos"],[3,"idResourceOrigin"],["id","tabPerson","matTooltip","Gestion de Ingresos"],["id","tabSurvey","matTooltip","Encuestas","matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],["id","tabHistoricTeam","matTooltip","Formaci\xF3n por equipo"],[3,"resourceId"]],template:function(i,o){if(i&1){let a=E();r(0,"div",4)(1,"mat-card",5)(2,"mat-tab-group",6)(3,"mat-tab"),h(4,Gk,4,1,"ng-template",7)(5,Kk,7,0,"ng-template",8),s(),h(6,Zk,3,0,"mat-tab",9)(7,tA,3,0,"mat-tab",9)(8,nA,3,0,"mat-tab",9),r(9,"mat-tab"),h(10,aA,3,1,"ng-template",7)(11,rA,1,0,"ng-template",8),s(),r(12,"mat-tab"),h(13,sA,2,0,"ng-template",7)(14,lA,1,1,"ng-template",8),s()()()(),r(15,"bc-modal",10,0),_("stateClick",function(){return v(a),S(o.responseModalNotificacion())}),r(17,"div",11)(18,"p",12),c(19),s()()()}i&2&&(m(6),p("ngIf",o.loginService.validateModule("SM35")),m(),p("ngIf",o.loginService.validateModule("SM36")),m(),p("ngIf",o.loginService.validateModule("SM1")),m(7),p("typeIcon","warning")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null)("buttonAlignment","horizontal")("textBtn",o.nameButon),m(4),T(" ",o.message," "))},dependencies:[gi,Ei,_i,Ci,bi,oe,Zo,V,Mn,ec,tc,sr,Hf,Wt,f_,__,x_],styles:["[_nghost-%COMP%]     .mat-mdc-tab-header{background-color:#2c2a29}[_nghost-%COMP%]     .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}[_nghost-%COMP%]     .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();function cA(t,n){if(t&1&&(r(0,"mat-option",15),c(1),s()),t&2){let e=n.$implicit;p("value",e),m(),T(" ",e.descriptionOriginDiagnostic," ")}}function mA(t,n){t&1&&(r(0,"mat-error"),c(1," Origen del conocimiento "),s())}function dA(t,n){if(t&1&&(r(0,"mat-option",15),c(1),s()),t&2){let e=n.$implicit;p("value",e),m(),T(" ",e," ")}}function pA(t,n){t&1&&(r(0,"mat-error"),c(1," Calificaci\xF3n es requerido "),s())}var E_=(()=>{class t{constructor(e,i,o,a){this._snackBar=e,this.dialogRef=i,this.data=o,this.diagnosticoService=a,this.originDiagnosticFormControl=new $i("",[A.required]),this.scoreFormControl=new O(0,[A.required]),this.scores=[0,10,20,30,40,50,60,70,80,90,100],this.successfulStatusCode=200}ngOnInit(){this.listOriginDiagnostic()}closePopupWindow(){this.dialogRef.close()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}listOriginDiagnostic(){this.diagnosticoService.listOriginDiagnostic().pipe(Ce(()=>{this.data.type_action==="update"&&this.getDiagnosedKnowledge()})).subscribe(e=>{e.statusCode===this.successfulStatusCode?this.originDiagnostics=e.body.data:this.showMessage(e.body.data.message)})}validFields(){return![this.originDiagnosticFormControl.valid,this.scoreFormControl.valid].includes(!1)}saveDiagnosedKnowledge(){if(this.originDiagnosticFormControl.markAsTouched(),this.scoreFormControl.markAsTouched(),this.validFields()){let e={};switch(this.data.type_action){case"create":e.conocimiento={idConocimiento:this.data.knowledge_id},e.persona={idPersona:this.data.person_id},e.tipoAutodiagnostico={idTipoAutodiagnostico:this.originDiagnosticFormControl.value.idOriginDiagnostic},e.puntaje=this.scoreFormControl.value,this.diagnosticoService.createDiagnosedKnowledge(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close()});break;case"update":e.tipoAutodiagnostico={idTipoAutodiagnostico:this.originDiagnosticFormControl.value.idOriginDiagnostic},e.puntaje=this.scoreFormControl.value,this.diagnosticoService.updateDiagnosedKnowledge(this.data.diagnostic_object.diagnosticId,e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close()});break}}else this.showMessage("existen campos requeridos sin diligenciar")}getDiagnosedKnowledge(){this.diagnosticoService.getDiagnosedKnowledge(this.data.diagnostic_object.diagnosticId).subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=this.originDiagnostics.find(o=>o.descriptionOriginDiagnostic===e.body.data.diagnostic.originDiagnosticName);this.originDiagnosticFormControl.setValue(i),this.scoreFormControl.setValue(parseInt(e.body.data.diagnostic.score))}else this.showMessage(e.body.data.message)})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(yn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-agregar-autodiagnostico"]],decls:33,vars:7,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["center",""],["mat-raised-button","","color","primary","matTooltip","Guardar",3,"click"],["mat-raised-button","","matTooltip","Cancelar","cdkFocusInitial","",3,"click"],[3,"value"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.closePopupWindow()}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",6)(10,"div",7)(11,"div",8)(12,"mat-form-field")(13,"mat-label"),c(14,"\xBFComo desarrollaste este conocimiento?"),s(),r(15,"mat-select",9),h(16,cA,2,2,"mat-option",10),s(),h(17,mA,2,0,"mat-error",11),s()()(),r(18,"div",7)(19,"div",8)(20,"mat-form-field")(21,"mat-label"),c(22,"\xBFDe 0 a 100 como te calificar\xEDas?"),s(),r(23,"mat-select",9),h(24,dA,2,2,"mat-option",10),s(),h(25,pA,2,0,"mat-error",11),s()()(),r(26,"div",7)(27,"div",8)(28,"mat-dialog-actions",12)(29,"button",13),_("click",function(){return o.saveDiagnosedKnowledge()}),c(30,"Guardar"),s(),r(31,"button",14),_("click",function(){return o.closePopupWindow()}),c(32,"Cancelar"),s()()()()()),i&2&&(m(4),I(o.data.title),m(11),p("formControl",o.originDiagnosticFormControl),m(),p("ngForOf",o.originDiagnostics),m(),p("ngIf",o.originDiagnosticFormControl.hasError("required")),m(6),p("formControl",o.scoreFormControl),m(),p("ngForOf",o.scores),m(),p("ngIf",o.scoreFormControl.hasError("required")))},dependencies:[gt,Ri,le,La,X,_e,ve,et,St,oe,ae,V,H,G],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0}.pequenio[_ngcontent-%COMP%]{font-size:9pt;color:#00000061}.flex-container[_ngcontent-%COMP%]{display:flex;width:300px;justify-content:space-between}.alert-text[_ngcontent-%COMP%]{font-weight:700;font-size:9pt;color:red}"]})}}return t})();var M_=(()=>{class t{constructor(e,i,o,a,l,d){this.data=e,this.dialog=i,this.conocimientoService=o,this._snackBar=a,this.loginService=l,this.dialogRef=d,this.showSpinner=!1}ngOnInit(){}excluir(){this.data.mensaje="\xBFRealmente desea excluir el conocimiento "+this.data.nombre+"?  Se enviar\xE1 la solicitud a su l\xEDder.",this.data.boton="Solicitar Exclusi\xF3n",this.dialog.open($e,{width:"400px",data:this.data}).afterClosed().subscribe(i=>{i!=null&&(this.showSpinner=!0,this.conocimientoService.excluirConocimiento(this.loginService.getData().idPersona,i.data.idConocimiento).subscribe(o=>{this.showSpinner=!1,this.showMessage(o.mensaje),this.dialogRef.close({data:this.data})}))})}formar(){}autodiagnosticar(){}diagnosticar(){}sugerir(){}compartir(){}comentar(){}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}createDiagnosedKnowledge(){let e={};e.title="Agregar conocimiento adquirido:",e.person_id=this.loginService.getData().idPersona,e.knowledge_id=this.data.idConocimiento,e.type_action="create",this.dialog.open(E_,{width:"450px",data:e})}static{this.\u0275fac=function(i){return new(i||t)(g(Y),g(Z),g(lo),g(K),g(he),g(W))}}static{this.\u0275cmp=D({type:t,selectors:[["app-gestionar-conocimiento"]],decls:40,vars:2,consts:[[3,"showSpinner"],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],["mat-stroked-button","","color","primary","matTooltip","Solicitar Excluir",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Marcar como Aprendido",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Solicitar Formaci\xF3n","disabled","",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Llenar Autodiagn\xF3stico","disabled","",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Solicitar Diagnostico","disabled","",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Sugerir Curso","disabled","",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Compartir Conocimiento","disabled","",3,"click"],["mat-stroked-button","","color","primary","matTooltip","Comentario","disabled","",3,"click"]],template:function(i,o){i&1&&(C(0,"app-progreso-spinner",0),r(1,"h2",1),c(2),s(),r(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-dialog-actions")(7,"button",5),_("click",function(){return o.excluir()}),r(8,"mat-icon"),c(9,"block"),s(),c(10," Solicitar Excluir "),s(),r(11,"button",6),_("click",function(){return o.createDiagnosedKnowledge()}),r(12,"mat-icon"),c(13,"spellcheck"),s(),c(14," Marcar como Aprendido "),s(),r(15,"button",7),_("click",function(){return o.formar()}),r(16,"mat-icon"),c(17,"school"),s(),c(18," Solicitar Formaci\xF3n "),s(),r(19,"button",8),_("click",function(){return o.autodiagnosticar()}),r(20,"mat-icon"),c(21,"edit"),s(),c(22," Llenar Autodiagn\xF3stico "),s(),r(23,"button",9),_("click",function(){return o.diagnosticar()}),r(24,"mat-icon"),c(25,"done"),s(),c(26," Solicitar Diagnostico "),s(),r(27,"button",10),_("click",function(){return o.sugerir()}),r(28,"mat-icon"),c(29,"collections_bookmarks"),s(),c(30," Sugerir Curso "),s(),r(31,"button",11),_("click",function(){return o.compartir()}),r(32,"mat-icon"),c(33,"local_library"),s(),c(34," Compartir Conocimiento "),s(),r(35,"button",12),_("click",function(){return o.comentar()}),r(36,"mat-icon"),c(37,"priority_high"),s(),c(38," Comentario "),s(),C(39,"br"),s()()()()),i&2&&(p("showSpinner",o.showSpinner),m(2),T("\xBFQu\xE9 desea hacer con ",o.data.nombre,"?"))},dependencies:[Ri,le,La,X,oe,Lo],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center;display:grid}.mat-button-base[_ngcontent-%COMP%]{margin-left:8px}"]})}}return t})();var uA=()=>[6,10,100,1e3];function fA(t,n){t&1&&(r(0,"th",27),c(1,"Nombre"),s())}function hA(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombre," ")}}function gA(t,n){t&1&&(r(0,"th",27),c(1,"Tipo de Conocimiento "),s())}function _A(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsTipoConocimiento," ")}}function CA(t,n){t&1&&(r(0,"th",27),c(1,"Es estrat\xE9gico"),s())}function bA(t,n){t&1&&(r(0,"mat-icon",30),c(1,"check"),s())}function vA(t,n){if(t&1&&(r(0,"td",28),h(1,bA,2,0,"mat-icon",29),s()),t&2){let e=n.$implicit;m(),p("ngIf",e.esEstrategico)}}function SA(t,n){t&1&&(r(0,"th",27),c(1,"Es SVA"),s())}function yA(t,n){t&1&&(r(0,"mat-icon",30),c(1,"check"),s())}function xA(t,n){if(t&1&&(r(0,"td",28),h(1,yA,2,0,"mat-icon",29),s()),t&2){let e=n.$implicit;m(),p("ngIf",e.esSva)}}function wA(t,n){t&1&&(r(0,"th",27),c(1,"Requerido"),s())}function EA(t,n){t&1&&(r(0,"mat-icon",30),c(1,"check"),s())}function MA(t,n){if(t&1&&(r(0,"td",28),h(1,EA,2,0,"mat-icon",29),s()),t&2){let e=n.$implicit;m(),p("ngIf",e.obligatorio==1)}}function IA(t,n){t&1&&(r(0,"th",27),c(1,"Nivel Objetivo"),s())}function TA(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),I(e.nivelObjetivo)}}function PA(t,n){t&1&&(r(0,"th",27),c(1,"Autodiagn\xF3stico"),s())}function DA(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),I(e.autodiagnostico)}}function FA(t,n){t&1&&(r(0,"th",27),c(1,"Diagn\xF3stico"),s())}function RA(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),I(e.nivelAlcanzado)}}function kA(t,n){t&1&&(r(0,"th",27),c(1,"Excluido"),s())}function AA(t,n){if(t&1){let e=E();r(0,"button",34),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openDialog("Incluir",o))}),r(1,"mat-icon"),c(2,"check"),s()()}}function OA(t,n){if(t&1){let e=E();r(0,"button",35),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openDialog("Incluir",o))}),r(1,"mat-icon"),c(2,"report_problem"),s()()}}function VA(t,n){if(t&1){let e=E();r(0,"button",36),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openDialog("Incluir",o))}),r(1,"mat-icon"),c(2,"schedule"),s()()}}function NA(t,n){if(t&1&&(r(0,"td",28),h(1,AA,3,0,"button",31)(2,OA,3,0,"button",32)(3,VA,3,0,"button",33),s()),t&2){let e=n.$implicit;m(),p("ngIf",e.estadoConocimientoExcluido=="S"),m(),p("ngIf",e.estadoConocimientoExcluido=="R"),m(),p("ngIf",e.estadoConocimientoExcluido=="P")}}function BA(t,n){t&1&&(r(0,"th",27),c(1,"Alineado"),s())}function LA(t,n){if(t&1&&(r(0,"td",28),c(1),s()),t&2){let e=n.$implicit;m(),I(e.conocimientoAlineado)}}function jA(t,n){t&1&&(r(0,"th",27),c(1,"Acciones"),s())}function zA(t,n){if(t&1){let e=E();r(0,"td",28)(1,"div")(2,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Noti",o))}),r(3,"mat-icon"),c(4,"notifications"),s()()()()}}function HA(t,n){t&1&&C(0,"tr",38)}function qA(t,n){t&1&&C(0,"tr",39)}var I_=(()=>{class t{constructor(e,i,o,a){this.loginService=e,this.dialog=i,this.conocimientosService=o,this._snackBar=a,this.isLoggedIn=!1,this.title="Mi ruta de conocimientos",this.filtroFormControl=new O("",[]),this.displayedColumns=["position","name","weight","symbol","obligatorio","nivelObjetivo","autodiagnostico","nivelAlcanzado","conocimientoExcluido","conocimientoAlineado","acciones"],this.successfulStatusCode=200,this.showRedColor=!1,this.showGreenColor=!1,this.showTextIndicator=!1}ngOnInit(){this.getConocimientosPersona()}applyFilter(e){this.dataSourceSub.filter=e.trim().toLowerCase(),this.dataSourceSub.paginator&&this.dataSourceSub.paginator.firstPage()}openDialog(e,i){i.action=e,i.action=="Noti"?this.openNotiDialog(i):i.action=="Incluir"&&this.openIncluirDialog(i)}openIncluirDialog(e){e.mensaje="\xBFRealmente desea remover la exclusi\xF3n del conocimiento "+e.nombre+"?",e.boton="Remover exclusi\xF3n",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.conocimientosService.incluirConocimiento(this.loginService.getData().idPersona,o.data.idConocimiento).subscribe(a=>{this.getConocimientosPersona(),this.showMessage(a.mensaje)})})}openNotiDialog(e){this.dialog.open(M_,{width:"300px",data:e}).afterClosed().subscribe(o=>{this.getConocimientosPersona()})}getConocimientosPersona(e){this.conocimientosService.getConocimientosPersona(this.loginService.getData().idPersona).subscribe(i=>{if(i!=null){i.sort((a,l)=>{if(a.conocimientoAlineado>l.conocimientoAlineado)return-1;if(l.conocimientoAlineado>a.conocimientoAlineado)return 1});let o=i.filter(a=>a.mostrarConocimiento);this.dataSourceSub=new Se(o),this.dataSourceSub.paginator=this.paginator,this.dataSourceSub.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSourceSub.filter=e.trim().toLowerCase(),this.dataSourceSub.paginator&&this.dataSourceSub.paginator.firstPage())}})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(Z),g(lo),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-carrera"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:50,vars:6,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["matColumnDef","obligatorio"],["matColumnDef","nivelObjetivo"],["matColumnDef","autodiagnostico"],["matColumnDef","nivelAlcanzado"],["matColumnDef","conocimientoExcluido"],["matColumnDef","conocimientoAlineado"],["matColumnDef","acciones"],["mat-header-row","","class","subrow",4,"matHeaderRowDef"],["mat-row","","class","subrow",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary",4,"ngIf"],["color","primary"],["class","bc-button-icon","matTooltip","Remover exclusi\xF3n",3,"click",4,"ngIf"],["class","bc-button-icon","matTooltip","Remover solicitud de exclusi\xF3n",3,"click",4,"ngIf"],["matTooltip","Remover exclusi\xF3n","class","red-indicator-color",3,"click",4,"ngIf"],["matTooltip","Remover exclusi\xF3n",1,"bc-button-icon",3,"click"],["matTooltip","Remover solicitud de exclusi\xF3n",1,"bc-button-icon",3,"click"],["matTooltip","Remover exclusi\xF3n",1,"red-indicator-color",3,"click"],["matTooltip","Solicitar",1,"bc-button-icon",3,"click"],["mat-header-row","",1,"subrow"],["mat-row","",1,"subrow"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()()()(),r(13,"table",10),F(14,11),h(15,fA,2,0,"th",12)(16,hA,2,1,"td",13),R(),F(17,14),h(18,gA,2,0,"th",12)(19,_A,2,1,"td",13),R(),F(20,15),h(21,CA,2,0,"th",12)(22,vA,2,1,"td",13),R(),F(23,16),h(24,SA,2,0,"th",12)(25,xA,2,1,"td",13),R(),F(26,17),h(27,wA,2,0,"th",12)(28,MA,2,1,"td",13),R(),F(29,18),h(30,IA,2,0,"th",12)(31,TA,2,1,"td",13),R(),F(32,19),h(33,PA,2,0,"th",12)(34,DA,2,1,"td",13),R(),F(35,20),h(36,FA,2,0,"th",12)(37,RA,2,1,"td",13),R(),F(38,21),h(39,kA,2,0,"th",12)(40,NA,4,3,"td",13),R(),F(41,22),h(42,BA,2,0,"th",12)(43,LA,2,1,"td",13),R(),F(44,23),h(45,jA,2,0,"th",12)(46,zA,5,0,"td",13),R(),h(47,HA,1,0,"tr",24)(48,qA,1,0,"tr",25),s(),C(49,"mat-paginator",26)}i&2&&(m(6),p("formControl",o.filtroFormControl),m(7),p("dataSource",o.dataSourceSub),m(34),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,uA)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}table[_ngcontent-%COMP%]{width:100%}.maintable[_ngcontent-%COMP%]{padding:10px}.negrita[_ngcontent-%COMP%]{font-weight:700}.main-div[_ngcontent-%COMP%]{height:75vh;display:flex;justify-content:center;align-items:center}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.indicator-text[_ngcontent-%COMP%]{font-weight:700;font-size:14px;padding-top:14px;text-align:right}.red-indicator-color[_ngcontent-%COMP%]{color:red}.green-indicator-color[_ngcontent-%COMP%]{color:green}.material-icons.color_red[_ngcontent-%COMP%]{color:red}"]})}}return t})();var UA=()=>[6,10,100,1e3];function $A(t,n){if(t&1&&(r(0,"mat-option",19),c(1),s()),t&2){let e=n.$implicit;p("value",e.idConocimiento),m(),T(" ",e.nombre," ")}}function QA(t,n){t&1&&(r(0,"th",20),c(1," Ranking "),s())}function WA(t,n){if(t&1&&(r(0,"td",21),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.ranking," ")}}function KA(t,n){t&1&&(r(0,"th",22),c(1," Persona "),s())}function YA(t,n){if(t&1&&(r(0,"td",21),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombre," ")}}function XA(t,n){t&1&&(r(0,"th",22),c(1," Componente "),s())}function ZA(t,n){if(t&1&&(r(0,"td",21),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.estructura," ")}}function JA(t,n){t&1&&C(0,"tr",23)}function eO(t,n){t&1&&C(0,"tr",24)}var T_=(()=>{class t{constructor(e,i,o,a){this.conocimientoService=e,this.personaService=i,this.dialog=o,this._snackBar=a,this.conocimientoFormControl=new O("",[A.required]),this.filtroFormControl=new O("",[]),this.displayedColumns=["ranking","nombre","estructura"]}ngOnInit(){this.conocimientoService.getConocimientos().subscribe(e=>{this.conocimientoList=e})}buscar(){this.conocimientoFormControl.markAsTouched(),this.conocimientoFormControl.hasError("required")?this.showMessage("Por favor diligencie los campos marcados"):this.getTablaConocimientos(null,this.conocimientoFormControl.value)}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getTablaConocimientos(e,i){this.personaService.getTablaRanking(i).subscribe(o=>{o!=null&&(this.dataSource=new Se(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()))})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(lo),g(ot),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-directorio"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:29,vars:8,consts:[["fontSize",""],[1,"example-spacer"],[1,"conocimiento"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matTooltip","Buscar",1,"bc-fab-button-mini",3,"click"],[1,"filtro"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","ranking"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","class","angosto",4,"matHeaderCellDef"],["matColumnDef","estructura"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"angosto"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),c(3,"Conocimiento"),s(),r(4,"mat-select",3,0),h(6,$A,2,2,"mat-option",4),s()(),r(7,"button",5),_("click",function(){return v(a),S(o.buscar())}),r(8,"mat-icon"),c(9,"search"),s()()(),r(10,"div",1)(11,"mat-form-field",6)(12,"mat-label"),c(13,"Filtro"),s(),r(14,"input",7),_("keyup",function(d){return v(a),S(o.applyFilter(d))}),s()()(),r(15,"div",8)(16,"table",9),F(17,10),h(18,QA,2,0,"th",11)(19,WA,2,1,"td",12),R(),F(20,13),h(21,KA,2,0,"th",14)(22,YA,2,1,"td",12),R(),F(23,15),h(24,XA,2,0,"th",14)(25,ZA,2,1,"td",12),R(),h(26,JA,1,0,"tr",16)(27,eO,1,0,"tr",17),s(),C(28,"mat-paginator",18),s()}i&2&&(m(4),p("formControl",o.conocimientoFormControl),m(2),p("ngForOf",o.conocimientoList),m(8),p("formControl",o.filtroFormControl),m(2),p("dataSource",o.dataSource),m(10),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(7,UA)))},dependencies:[gt,X,Ee,_e,ve,$,St,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ae,q,H,G],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{margin-right:8px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:left}mat-form-field[_ngcontent-%COMP%]{width:100%}.filtro[_ngcontent-%COMP%], .conocimiento[_ngcontent-%COMP%]{width:70%}table[_ngcontent-%COMP%]{width:100%}.accion[_ngcontent-%COMP%]{width:10%}.persona[_ngcontent-%COMP%]{width:90%}.maintable[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();function iO(t,n){t&1&&(r(0,"div",10)(1,"div",11)(2,"p",12),c(3,"\xBFDesea cancelar la inscripci\xF3n a este curso?"),s()()())}function oO(t,n){if(t&1){let e=E();r(0,"div",10),C(1,"div",13),r(2,"div",14)(3,"button",15),_("click",function(){v(e);let o=x();return S(o.closePopupWindow())}),c(4,"Cancelar"),s()(),r(5,"div",14)(6,"button",16),_("click",function(){v(e);let o=x();return S(o.getFormEvent())}),c(7,"Aceptar"),s()(),C(8,"div",13),s()}}function nO(t,n){if(t&1){let e=E();r(0,"mat-card")(1,"div",17)(2,"div",18)(3,"div",19),C(4,"img",20),s(),r(5,"div")(6,"p"),c(7),s()()()(),r(8,"div",10),C(9,"div",14),r(10,"div",21)(11,"button",22),_("click",function(){v(e);let o=x();return S(o.closePopupWindow())}),c(12,"Cerrar"),s()(),C(13,"div",14),s()()}if(t&2){let e=x();m(2),vt("id",e.messageColor),m(2),Bt("src"," ","assets/iconos/"+e.imageName+".png"," ",vn),m(),_l("col-10 ",e.textColor," div-full-width"),m(2),I(e.responseMessage)}}var P_=(()=>{class t{constructor(e,i,o,a,l){this.formBuilder=e,this.matSnackBar=i,this.dialogRef=o,this.data=a,this.personaOfertaService=l,this.imageName="alert",this.textColor="black-text-color",this.messageColor="error-messag",this.formButtons=!0,this.responseMessage="",this.successStatusCode=200}ngOnInit(){this.buildForm()}buildForm(){this.eventForm=this.formBuilder.group({})}closePopupWindow(){this.dialogRef.close()}showMessage(e){this.matSnackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}getFormEvent(){this.formButtons=!1,this.personaOfertaService.cancelRegistration(this.data.offerObject.offerPersonId).subscribe(e=>{e!==void 0?(e.statusCode===this.successStatusCode&&(this.imageName="white-ok",this.textColor="white-text-color",this.messageColor="info-messag"),this.responseMessage=e.body.data.message):this.responseMessage="No se recibe objeto respuesta del servidor"})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(K),g(W),g(Y),g(la))}}static{this.\u0275cmp=D({type:t,selectors:[["app-cancelar-inscripcion"]],decls:16,vars:5,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"formGroup"],[1,"container"],["class","row justify-content-start line-break",4,"ngIf"],[4,"ngIf"],[1,"row","justify-content-start","line-break"],[1,"col-12"],[1,"center-text"],[1,"col-2"],[1,"col-4"],["matTooltip","Cancelar",1,"bc-button-small","bc-button-secondary",3,"click"],["matTooltip","Aceptar",1,"bc-button-small","bc-button-primary",3,"click"],[1,"center-content"],[3,"id"],[1,"col-2","icon-messag"],["width","80",3,"src"],[1,"col-4","center-text"],["matTooltip","Cerrar",1,"bc-button-small","bc-button-primary","btn-space",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",4)(8,"button",5),_("click",function(){return o.closePopupWindow()}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",6)(12,"div",7),h(13,iO,4,0,"div",8)(14,oO,9,0,"div",8)(15,nO,14,7,"mat-card",9),s()()),i&2&&(m(6),I(o.data.title),m(5),p("formGroup",o.eventForm),m(2),p("ngIf",o.formButtons),m(),p("ngIf",o.formButtons),m(),p("ngIf",!o.formButtons))},dependencies:[gi,le,X,oe,V,Ye,Ke,Je],styles:[".div-full-width[_ngcontent-%COMP%]{width:100%}.line-break[_ngcontent-%COMP%]{padding-top:20px}.center-text[_ngcontent-%COMP%]{text-align:center}.black-text-color[_ngcontent-%COMP%]{color:#000}.white-text-color[_ngcontent-%COMP%]{color:#fff}.center-content[_ngcontent-%COMP%]{display:flex;justify-content:center}#info-messag[_ngcontent-%COMP%]{background-color:#00c389;border-radius:10px;padding:10px;font-weight:500;font-size:15px;text-align:center;word-wrap:break-word;width:96%}#error-messag[_ngcontent-%COMP%]{background-color:#fdda24;border-radius:10px;padding:10px;font-weight:500;font-size:15px;text-align:center;word-wrap:break-word;width:96%}.icon-messag[_ngcontent-%COMP%]{padding:10px;text-align:center;width:100%}"]})}}return t})();var Hc=class{constructor(){}};function aO(t,n){t&1&&(r(0,"div",10)(1,"div",11)(2,"p",12),c(3,"\xBFDesea pre-inscribirse a este curso?"),s()()())}function rO(t,n){if(t&1){let e=E();r(0,"div",10),C(1,"div",13),r(2,"div",14)(3,"button",15),_("click",function(){v(e);let o=x();return S(o.closePopupWindow())}),c(4,"Cancelar"),s()(),r(5,"div",14)(6,"button",16),_("click",function(){v(e);let o=x();return S(o.getFormEvent())}),c(7,"Aceptar"),s()(),C(8,"div",13),s()}}function sO(t,n){if(t&1){let e=E();r(0,"mat-card")(1,"div",17)(2,"div",18)(3,"div",19),C(4,"img",20),s(),r(5,"div")(6,"p"),c(7),s()()()(),r(8,"div",10),C(9,"div",14),r(10,"div",21)(11,"button",22),_("click",function(){v(e);let o=x();return S(o.closePopupWindow())}),c(12,"Cerrar"),s()(),C(13,"div",14),s()()}if(t&2){let e=x();m(2),vt("id",e.messageColor),m(2),Bt("src"," ","assets/iconos/"+e.imageName+".png"," ",vn),m(),_l("col-10 ",e.textColor," div-full-width"),m(2),I(e.responseMessage)}}var D_=(()=>{class t{constructor(e,i,o,a,l){this.formBuilder=e,this.matSnackBar=i,this.dialogRef=o,this.data=a,this.personaOfertaService=l,this.imageName="alert",this.textColor="black-text-color",this.messageColor="error-messag",this.formButtons=!0,this.responseMessage="",this.successStatusCode=200}ngOnInit(){this.buildForm()}buildForm(){this.eventForm=this.formBuilder.group({})}closePopupWindow(){this.dialogRef.close()}showMessage(e){this.matSnackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}getFormEvent(){this.formButtons=!1;let e={oferta:{idOferta:this.data.offerObject.offerId},persona:{idPersona:this.data.personId}};this.personaOfertaService.registerPerson(e).subscribe(i=>{i!==void 0?(i.statusCode===this.successStatusCode&&(this.imageName="white-ok",this.textColor="white-text-color",this.messageColor="info-messag"),this.responseMessage=i.body.data.message):this.responseMessage="No se recibe objeto respuesta del servidor"})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(K),g(W),g(Y),g(la))}}static{this.\u0275cmp=D({type:t,selectors:[["app-registrar-persona"]],decls:16,vars:5,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"formGroup"],[1,"container"],["class","row justify-content-start line-break",4,"ngIf"],[4,"ngIf"],[1,"row","justify-content-start","line-break"],[1,"col-12"],[1,"center-text"],[1,"col-2"],[1,"col-4"],["matTooltip","Cancelar",1,"bc-button-small","bc-button-secondary",3,"click"],["matTooltip","Aceptar",1,"bc-button-small","bc-button-primary",3,"click"],[1,"center-content"],[3,"id"],[1,"col-2","icon-messag"],["width","80",3,"src"],[1,"col-4","center-text"],["matTooltip","Cerrar",1,"bc-button-small","bc-button-primary","btn-space",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",4)(8,"button",5),_("click",function(){return o.closePopupWindow()}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",6)(12,"div",7),h(13,aO,4,0,"div",8)(14,rO,9,0,"div",8)(15,sO,14,7,"mat-card",9),s()()),i&2&&(m(6),I(o.data.title),m(5),p("formGroup",o.eventForm),m(2),p("ngIf",o.formButtons),m(),p("ngIf",o.formButtons),m(),p("ngIf",!o.formButtons))},dependencies:[gi,le,X,oe,V,Ye,Ke,Je],styles:[".div-full-width[_ngcontent-%COMP%]{width:100%}.line-break[_ngcontent-%COMP%]{padding-top:20px}.center-text[_ngcontent-%COMP%]{text-align:center}.black-text-color[_ngcontent-%COMP%]{color:#000}.white-text-color[_ngcontent-%COMP%]{color:#fff}.center-content[_ngcontent-%COMP%]{display:flex;justify-content:center}#info-messag[_ngcontent-%COMP%]{background-color:#00c389;border-radius:10px;padding:10px;font-weight:500;font-size:15px;text-align:center;word-wrap:break-word;width:96%}#error-messag[_ngcontent-%COMP%]{background-color:#fdda24;border-radius:10px;padding:10px;font-weight:500;font-size:15px;text-align:center;word-wrap:break-word;width:96%}.icon-messag[_ngcontent-%COMP%]{padding:10px;text-align:center;width:100%}"]})}}return t})();var cO=["modal"];function mO(t,n){if(t&1&&(r(0,"span",9),c(1),Mt(2,"titlecase"),s()),t&2){let e=n.$implicit,i=n.last;m(),Ht(" ",Pi(2,2,e),"",i?".":","," ")}}function dO(t,n){t&1&&(r(0,"span",13),c(1,"Presencial"),s())}function pO(t,n){t&1&&(r(0,"span",13),c(1,"Virtual"),s())}function uO(t,n){t&1&&(r(0,"span",13),c(1,"Virtual (D)"),s())}function fO(t,n){if(t&1){let e=E();r(0,"button",20),_("click",function(){v(e);let o=x();return S(o.registerPerson())}),c(1," Pre-Inscribirme "),s()}}function hO(t,n){t&1&&(r(0,"button",21),c(1," Sin cupos disponibles "),s())}function gO(t,n){if(t&1&&(r(0,"li"),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCurso,"")}}var R_=(()=>{class t{constructor(e,i,o,a,l,d,u,f){this._snackBar=e,this.dialogRef=i,this.data=o,this.ofertaService=a,this.personaOfertaService=l,this.loginService=d,this.dialog=u,this.encuestaOfertaService=f,this.typeIcon="error",this.customWidth="small",this.titleAlign="center",this.buttonAlignment="horizontal",this.formatType="simple",this.values=[],this.isEncuestaPendiente=!0,this.successfulStatusCode=200,this.courseOffer=new Hc,this.capacity={capacity:0,availableCapacity:0}}ngOnInit(){this.getInformationCourse(),this.setEncuestaPendiente()}getInformationCourse(){this.ofertaService.getInformationCourse(this.data.offer.offerId).subscribe(e=>{e!==void 0&&(e.statusCode===this.successfulStatusCode?this.courseOffer=e.body.data.courseOfferObject:this.showMessage(e.body.data.message))}),this.personaOfertaService.getCapacityOffer(this.data.offer.offerId).subscribe(e=>{e!==void 0&&(e.statusCode===this.successfulStatusCode?this.capacity=e.body.data:this.showMessage(e.body.data.message))})}onNoClick(){this.dialogRef.close()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}registerPerson(){if(this.isEncuestaPendiente)this.modal.openModal();else{let e={title:"Pre-inscribirme a curso:",personId:this.loginService.getData().idPersona,offerObject:this.data.offer};this.dialog.open(D_,{width:"600px",data:e}).afterClosed().subscribe(()=>{this.dialogRef.close()})}}setEncuestaPendiente(){this.encuestaOfertaService.getBuscarEncuestasPendiente(this.loginService.getData().idPersona).subscribe(e=>{let i=e.body.data.objects;this.values=e.body.data.objects,i.length==0?this.isEncuestaPendiente=!1:this.isEncuestaPendiente=!0})}cerrarModal(){this.modal.shutDown()}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(oc),g(la),g(he),g(Z),g(Na))}}static{this.\u0275cmp=D({type:t,selectors:[["app-detalle-curso"]],viewQuery:function(i,o){if(i&1&&L(cO,5),i&2){let a;j(a=z())&&(o.modal=a.first)}},decls:117,vars:30,consts:[["modal",""],[1,"container"],[1,"row","align-items-flex-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-7"],["matListItemTitle",""],["matLine","",1,"manual-break"],["matLine","","class","manual-break",4,"ngFor","ngForOf"],[1,"col-5"],["matListItemLine","",4,"ngIf"],["matListItemLine",""],[1,"col-6"],["id","btnPreEnrollCourse","class","bc-button-small bc-button-primary btn-space","matTooltip","Pre-Inscribirme","style","margin-top: 15px;",3,"click",4,"ngIf"],["disabled","","class","bc-button-small bc-button-primary btn-space","matTooltip","Pre-Inscribirme","style","margin-top: 15px;",4,"ngIf"],["title","Acci\xF3n previa necesaria","displayButton","true","textBtn","Entendido",3,"stateClick","typeIcon","customWidth","titleAlign","buttonAlignment"],["modalContent",""],[4,"ngFor","ngForOf"],["id","btnPreEnrollCourse","matTooltip","Pre-Inscribirme",1,"bc-button-small","bc-button-primary","btn-space",2,"margin-top","15px",3,"click"],["disabled","","matTooltip","Pre-Inscribirme",1,"bc-button-small","bc-button-primary","btn-space",2,"margin-top","15px"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4,"Informaci\xF3n del curso"),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",2)(10,"div",7)(11,"mat-list")(12,"mat-list-item")(13,"span",8),c(14,"Nombre del curso:"),s(),r(15,"span",9),c(16),s()(),r(17,"mat-list-item")(18,"span",8),c(19,"Objetivo del curso:"),s(),r(20,"span",9),c(21),s()(),r(22,"mat-list-item")(23,"span",8),c(24,"Descripci\xF3n del curso:"),s(),r(25,"span",9),c(26),s()(),r(27,"mat-list-item")(28,"span",8),c(29,"Contenido:"),s(),r(30,"span",9),c(31),s()(),r(32,"mat-list-item")(33,"span",8),c(34,"Prerrequisitos:"),s(),r(35,"span",9),c(36),s()(),r(37,"mat-list-item")(38,"span",8),c(39,"Cargo al que est\xE1 orientado:"),s(),h(40,mO,3,4,"span",10),s()()(),r(41,"div",11)(42,"mat-list-item")(43,"span",8),c(44,"Modalidad:"),s(),h(45,dO,2,0,"span",12)(46,pO,2,0,"span",12)(47,uO,2,0,"span",12),s(),r(48,"mat-list-item")(49,"span",8),c(50,"Proveedor:"),s(),r(51,"span",13),c(52),s()(),r(53,"div",2)(54,"div",14)(55,"mat-list-item")(56,"span",8),c(57,"Cupos m\xE1ximos:"),s(),r(58,"span",13),c(59),s()()(),r(60,"div",14)(61,"mat-list-item")(62,"span",8),c(63,"Cupos disponibles:"),s(),r(64,"span",13),c(65),s()()()(),r(66,"mat-list-item")(67,"span",8),c(68,"Dias programados:"),s(),r(69,"span",13),c(70),s()(),r(71,"div",2)(72,"div",14)(73,"mat-list-item")(74,"span",8),c(75,"Hora inicio:"),s(),r(76,"span",13),c(77),s()()(),r(78,"div",14)(79,"mat-list-item")(80,"span",8),c(81,"Hora fin:"),s(),r(82,"span",13),c(83),s()()()(),r(84,"div",2)(85,"div",14)(86,"mat-list-item")(87,"span",8),c(88,"Fecha inicio:"),s(),r(89,"span",13),c(90),Mt(91,"date"),s()()(),r(92,"div",14)(93,"mat-list-item")(94,"span",8),c(95,"Fecha fin:"),s(),r(96,"span",13),c(97),Mt(98,"date"),s()()()(),C(99,"br")(100,"br")(101,"br"),r(102,"div",2)(103,"div",14),h(104,fO,2,0,"button",15)(105,hO,2,0,"button",16),s()()()()(),r(106,"bc-modal",17,0),_("stateClick",function(){return v(a),S(o.cerrarModal())}),r(108,"div",18)(109,"p"),c(110,"Antes de inscribirte en una nueva oferta, debes responder la(s) encuesta(s) pendiente(s):"),s(),r(111,"ul"),h(112,gO,2,1,"li",19),s(),r(113,"p"),c(114,"Puedes acceder mediante la siguiente ruta:"),s(),r(115,"p"),c(116,"Conocimiento - Responder encuesta "),s()()()}i&2&&(m(16),I(o.courseOffer.courseName),m(5),I(o.courseOffer.courseObjective),m(5),I(o.courseOffer.courseDescription),m(5),I(o.courseOffer.contents),m(5),I(o.courseOffer.prerequisites),m(4),p("ngForOf",o.courseOffer.positionOriented),m(5),p("ngIf",o.courseOffer.modality=="P"),m(),p("ngIf",o.courseOffer.modality=="V"),m(),p("ngIf",o.courseOffer.modality=="D"),m(5),I(o.courseOffer.supplier),m(7),I(o.capacity.capacity),m(6),I(o.capacity.availableCapacity),m(5),I(o.courseOffer.schedule),m(7),I(o.courseOffer.startTime),m(6),I(o.courseOffer.endTime),m(7),I(Di(91,24,o.courseOffer.startDate,"dd/MM/yyyy")),m(7),I(Di(98,27,o.courseOffer.endDate,"dd/MM/yyyy")),m(7),p("ngIf",o.data.offer.status==="A"&&!o.data.offer.isRegistered),m(),p("ngIf",o.capacity.availableCapacity==0&&!(o.data.offer.status==="A"&&!o.data.offer.isRegistered)),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign)("buttonAlignment",o.buttonAlignment),m(6),p("ngForOf",o.values))},dependencies:[le,Y0,X,or,nr,Nl,Vl,oe,ae,V,Wt,_0,so],styles:[".manual-break[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;white-space:pre-wrap}[_nghost-%COMP%]     .mdc-list-item.mdc-list-item--with-two-lines{height:auto!important}"]})}}return t})();var _O=["inputstring"];function CO(t,n){t&1&&C(0,"bc-icon",28)}function bO(t,n){t&1&&C(0,"bc-icon",29)}function vO(t,n){t&1&&(r(0,"div"),c(1,"Presencial"),s())}function SO(t,n){t&1&&(r(0,"div"),c(1,"Virtual"),s())}function yO(t,n){t&1&&(r(0,"div"),c(1,"Virtual (D)"),s())}function xO(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",20),c(2),s(),r(3,"td",20),c(4),s(),r(5,"td",21),c(6),Mt(7,"date"),s(),r(8,"td",21),c(9),Mt(10,"date"),s(),r(11,"td",22),h(12,CO,1,0,"bc-icon",23)(13,bO,1,0,"bc-icon",24),s(),r(14,"td",22),h(15,vO,2,0,"div",25)(16,SO,2,0,"div",25)(17,yO,2,0,"div",25),s(),r(18,"td",20),c(19),s(),r(20,"td",26)(21,"bc-table-dropdown",27),_("onChange",function(o){v(e);let a=x(2);return S(a.optionSelected(o))}),s()()()}if(t&2){let e=n.$implicit;m(2),I(e.courseName),m(2),I(e.courseDescription),m(2),I(Di(7,14,e.startDate,"dd/MM/yyyy")),m(3),I(Di(10,17,e.endDate,"dd/MM/yyyy")),m(2),p("ngSwitch",e.isRegistered),m(),p("ngSwitchCase",!0),m(),p("ngSwitchCase",!1),m(),p("ngSwitch",e.modality),m(),p("ngSwitchCase","P"),m(),p("ngSwitchCase","V"),m(),p("ngSwitchCase","D"),m(2),I(e.startTime),m(2),p("row",e)("options",e.option)}}function wO(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Nombre del curso"),s(),r(9,"th",16),c(10,"Descripci\xF3n del curso"),s(),r(11,"th",17),c(12,"Fecha inicio"),s(),r(13,"th",17),c(14,"Fecha fin"),s(),r(15,"th",15),c(16,"Inscrito(a):"),s(),r(17,"th",15),c(18,"Modalidad"),s(),r(19,"th",15),c(20,"Hora inicio:"),s(),C(21,"th",18),s()(),r(22,"tbody"),h(23,xO,22,20,"tr",19),s()()(),C(24,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.tableAccCurrentPage),m(2),p("totalRegisters",e.TotalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0)("dropdownHtml",!0),m(19),p("ngForOf",e.tableAccCurrentPage)}}var k_=(()=>{class t{constructor(e,i,o,a){this.loginService=e,this.ofertaService=i,this.dialog=o,this.dialogService=a,this.page=1,this.limit=6,this.filter=null,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.TotalRegisters=0,this.tableAccCurrentPage=[],this.dataSources=[],this.options=[{id:"CancelarIncripcion",text:"Cancelar inscripci\xF3n",icon:"user-error"},{id:"Detalle",text:"Detalle formaci\xF3n",icon:"people"}]}ngOnInit(){this.listCoursesOffered()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listCoursesOffered())}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listCoursesOffered()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listCoursesOffered())}search(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listCoursesOffered()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}listCoursesOffered(){this.ofertaService.listCoursesOffered(this.filter,this.page,this.limit,this.loginService.getData().idPersona).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode?(this.TotalRegisters=e.body.data.total,this.dataSources=e.body.data.objects.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.movements=[this.dataSources],this.tableAccCurrentPage=this.movements[0]):this.showMessage(e.body.data.message,"error","Listar cursos ofertas"):this.showMessage("No se recibe objeto respuesta del servidor","error","Excepci\xF3n Listar cursos ofertas")})}cancelRegistration(e){let i={title:"Cancelar inscripci\xF3n:",offerObject:e};this.dialog.open(P_,{width:"600px",data:i}).afterClosed().subscribe(()=>{this.listCoursesOffered()})}offerDetail(e){let i={title:"Aforo",offer:e};this.dialog.open(R_,{data:i,width:"1200px",maxHeight:"90vh"}).afterClosed().subscribe(()=>{this.listCoursesOffered()})}optionSelected(e){e.optionSeleted.indexOf("Detalle")!==-1&&this.offerDetail(e.rowData),e.optionSeleted.indexOf("CancelarIncripcion")!==-1&&this.cancelRegistration(e.rowData)}getOptions(e){let i=[{id:"Detalle",text:"M\xE1s detalles e inscripci\xF3n",icon:"document-delivery"}];return(e.status==="A"||e.status==="F")&&e.isRegistered&&i.push({id:"CancelarIncripcion",text:"Cancelar inscripci\xF3n",icon:"quit"}),i}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(oc),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-ofertas"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(_O,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:14,vars:6,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","id","offerFilter","aria-label","custom-aria-label","type","text","value","","required","",3,"keyup"],[1,"col-1"],[1,"bc-col-1"],["id","searchOffer",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","fixed","true"],["scope","row","bc-cell","","scope","col","type","number"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","date"],["bc-cell","",3,"ngSwitch"],["class","bc-text-brand-complementary-00","name","approving-user","aria-hidden","true","aria-label","icono",4,"ngSwitchCase"],["class","bc-text-brand-complementary-01","name","user-error","aria-hidden","true","aria-label","icono",4,"ngSwitchCase"],[4,"ngSwitchCase"],["bc-cell","","type","action"],[3,"onChange","row","options"],["name","approving-user","aria-hidden","true","aria-label","icono",1,"bc-text-brand-complementary-00"],["name","user-error","aria-hidden","true","aria-label","icono",1,"bc-text-brand-complementary-01"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()()()(),h(13,wO,25,8,"bc-table-container",10)}i&2&&(m(12),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("ngIf",o.tableAccCurrentPage.length>0))},dependencies:[ae,V,ao,ro,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,fe,so],styles:['table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}.icon-green-color[_ngcontent-%COMP%]{color:green}.icon-red-color[_ngcontent-%COMP%]{color:red}.margin[_ngcontent-%COMP%]{padding-left:.2em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48!important}  .bc-table-container .bc-table-header-top{min-height:0px!important}']})}}return t})();function MO(t,n){if(t&1&&(r(0,"div",12)(1,"div",15)(2,"mat-form-field")(3,"mat-label"),c(4,"Resultado total"),s(),C(5,"input",14,0),s()(),r(7,"div",15)(8,"mat-form-field")(9,"mat-label"),c(10,"Nivel"),s(),C(11,"input",14,0),s()(),C(13,"div",15),s()),t&2){let e=x();m(5),p("formControl",e.diagnosticForm.controls.totalResultFormControl),m(6),p("formControl",e.diagnosticForm.controls.levelFormControl)}}function IO(t,n){t&1&&(r(0,"mat-form-field")(1,"mat-label"),c(2,"Resultado"),s(),C(3,"input",34),s())}function TO(t,n){if(t&1){let e=E();r(0,"div",27)(1,"button",35),_("click",function(){v(e);let o=x().index,a=x();return S(a.developTest(o))}),r(2,"mat-icon"),c(3,"visibility"),s()()()}}function PO(t,n){if(t&1&&(r(0,"div",24)(1,"div",12)(2,"div",25)(3,"mat-form-field")(4,"mat-label"),c(5,"Prueba"),s(),C(6,"input",26),s()(),r(7,"div",27)(8,"mat-form-field")(9,"mat-label"),c(10,"Dificultad"),s(),C(11,"input",28),s()(),r(12,"div",27)(13,"mat-form-field")(14,"mat-label"),c(15,"Tiempo"),s(),C(16,"input",29),s()(),r(17,"div",27)(18,"mat-form-field")(19,"mat-label"),c(20,"Peso"),s(),C(21,"input",30),s()(),r(22,"div",31),h(23,IO,4,0,"mat-form-field",32),s(),h(24,TO,4,0,"div",33),s()()),t&2){let e=n.index,i=x();p("formGroupName",e),m(23),p("ngIf",!i.disableDevelopTest(e)),m(),p("ngIf",i.disableDevelopTest(e))}}var DO={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"DD MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},A_=(()=>{class t{constructor(e,i,o,a,l,d,u){this.loginService=e,this.formBuilder=i,this.matSnackBar=o,this.dialogRef=a,this.data=l,this.pruebaService=d,this.dialog=u,this.arrayDirectives=[],this.testsDiagnostic=[],this.successStatusCode=200,this.createObject="create",this.updateObject="update",this.activeStatus="A",this.inactiveStatus="I",this.showDiagnosticType=!0,this.showTotalResult=!0,this.testFilterControl=new O}ngOnInit(){this.buildForm(),this.setArrayDirectives(this.arrayDirectives),this.listDiagnosticTest(),this.initializeForm()}buildForm(){this.diagnosticForm=this.formBuilder.group({diagnosticNameFormControl:[""],diagnosticDescriptionFormControl:[""],initialDateFormControl:[""],finalDateFormControl:[""],isExternalDiagnosticFormControl:[{value:!1,disabled:!0}],totalResultFormControl:[""],levelFormControl:[""],controllerArray:this.formBuilder.array([])})}initializeForm(){this.diagnosticForm.controls.diagnosticNameFormControl.setValue(this.data.diagnosticObject.diagnosticName),this.diagnosticForm.controls.diagnosticDescriptionFormControl.setValue(this.data.diagnosticObject.diagnosticDescription),this.diagnosticForm.controls.isExternalDiagnosticFormControl.setValue(this.data.diagnosticObject.isExternalDiagnostic),this.diagnosticForm.controls.initialDateFormControl.setValue(new Date(this.data.diagnosticObject.startDate.split("-")[1]+"-"+this.data.diagnosticObject.startDate.split("-")[2]+"-"+this.data.diagnosticObject.startDate.split("-")[0])),this.diagnosticForm.controls.finalDateFormControl.setValue(new Date(this.data.diagnosticObject.endDate.split("-")[1]+"-"+this.data.diagnosticObject.endDate.split("-")[2]+"-"+this.data.diagnosticObject.endDate.split("-")[0])),this.diagnosticForm.controls.totalResultFormControl.setValue(""),this.diagnosticForm.controls.levelFormControl.setValue("")}closePopupWindow(){this.dialogRef.close()}showMessage(e){this.matSnackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}setMinDate(){return this.minDate=new Date(this.diagnosticForm.controls.initialDateFormControl.value)}setArrayDirectives(e){let i=e.map(a=>this.formBuilder.group(a)),o=this.formBuilder.array(i);this.diagnosticForm.setControl("controllerArray",o)}disableDevelopTest(e){return this.testsDiagnostic[e].status==="A"}developTest(e){let i={testObject:{testId:this.testsDiagnostic[e].testId,personDiagnosticId:this.testsDiagnostic[e].personDiagnosticId,averageDifficulty:this.testsDiagnostic[e].averageDifficulty},origin:"CONOCIMIENTO"};this.dialog.open(Uf,{width:"1000px",data:i,disableClose:!0}).afterClosed().subscribe(()=>{this.diagnosticForm.controls.controllerArray.controls=[],this.arrayDirectives=[],this.setArrayDirectives(this.arrayDirectives),this.listDiagnosticTest()})}listDiagnosticTest(){this.showTotalResult=!0;let e=this.loginService.getData().idPersona||"",i=this.data.diagnosticObject.diagnosticId||"";this.pruebaService.listDiagnosticTest(e,i).pipe(Ce(()=>{for(let o=0;o<this.testsDiagnostic.length;o++){let a=this.testsDiagnostic[o].testName,l=this.testsDiagnostic[o].weight,d=this.testsDiagnostic[o].averageDifficulty,u=this.testsDiagnostic[o].estimatedTime,f=this.testsDiagnostic[o].testResult;this.arrayDirectives.push({testFormControl:[a],testWeightFormControl:[l],averageDifficultyFormControl:[d],estimatedTimeFormControl:[u],testResultTimeFormControl:[f]}),this.showTotalResult=this.showTotalResult&&this.testsDiagnostic[o].status==="I"}if(this.showTotalResult){let o=0,a="";for(let l=0;l<this.testsDiagnostic.length;l++){let d=this.testsDiagnostic[l].weight,u=this.testsDiagnostic[l].testResult;o+=u*d/100}a=o<=35?"Novato":o>=36&&o<=50?"Intermedio":o>=51&&o<=65?"Alto":o>=66&&o<=85?"Avanzado":o>=86&&o<=100?"Referente":"",this.diagnosticForm.controls.totalResultFormControl.setValue(o),this.diagnosticForm.controls.levelFormControl.setValue(a)}this.setArrayDirectives(this.arrayDirectives)})).subscribe(o=>{o!==void 0?o.statusCode===this.successStatusCode?(this.testsDiagnostic=[],this.testsDiagnostic=o.body.data):this.showMessage(o.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(at),g(K),g(W),g(Y),g(Gf),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-presentar-diagnostico"]],features:[na([{provide:Ii,useClass:Ga},{provide:mn,useValue:Ua},{provide:Ii,useClass:Ka,deps:[Ba,Wa]},{provide:mn,useValue:DO}])],decls:58,vars:16,consts:[["testName",""],["testDescription",""],["picker1",""],["picker2",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","maxlength","100","ngDefaultControl","","readonly","",3,"formControl"],[1,"col-4"],[1,"example-margin"],["matInput","","ngDefaultControl","","readonly","",3,"matDatepicker","max","formControl"],["matSuffix","",3,"for"],["matInput","","ngDefaultControl","","readonly","",3,"matDatepicker","max","min","formControl"],["color","accent","ngDefaultControl","",1,"example-checkbox",3,"formControl"],["class","row justify-content-start",4,"ngIf"],["formArrayName","controllerArray",2,"height","140px","overflow-x","hidden","overflow-y","scroll"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"col-6"],["matInput","","type","text","formControlName","testFormControl","readonly",""],[1,"col-1"],["matInput","","type","number","formControlName","averageDifficultyFormControl","readonly",""],["matInput","","type","number","formControlName","estimatedTimeFormControl","readonly",""],["matInput","","type","number","formControlName","testWeightFormControl","readonly",""],[1,"col-2"],[4,"ngIf"],["class","col-1",4,"ngIf"],["matInput","","type","number","formControlName","testResultTimeFormControl","readonly",""],["matTooltip","Presentar prueba",1,"bc-button-icon",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",8)(8,"button",9),_("click",function(){return v(a),S(o.closePopupWindow())}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",10)(12,"div",11),C(13,"br"),r(14,"div",12)(15,"div",13)(16,"mat-form-field")(17,"mat-label"),c(18,"Nombre"),s(),C(19,"input",14,0),s()()(),r(21,"div",12)(22,"div",13)(23,"mat-form-field")(24,"mat-label"),c(25,"Descripci\xF3n"),s(),C(26,"input",14,1),s()()(),r(28,"div",12)(29,"div",15)(30,"mat-form-field",16)(31,"mat-label"),c(32,"Fecha inicial"),s(),C(33,"input",17)(34,"mat-datepicker-toggle",18)(35,"mat-datepicker",null,2),s()(),r(37,"div",15)(38,"mat-form-field",16)(39,"mat-label"),c(40,"Fecha final"),s(),C(41,"input",19)(42,"mat-datepicker-toggle",18)(43,"mat-datepicker",null,3),s()(),r(45,"div",15),C(46,"br"),r(47,"mat-checkbox",20),c(48," Diagn\xF3stico con pruebas externas "),s()()(),h(49,MO,14,2,"div",21),C(50,"br"),r(51,"div",12)(52,"div",13)(53,"h6"),c(54,"Pruebas del diagn\xF3stico:"),s()()(),C(55,"br"),r(56,"div",22),h(57,PO,25,3,"div",23),s()()()}if(i&2){let a=re(36),l=re(44);m(6),I(o.data.title),m(5),p("formGroup",o.diagnosticForm),m(8),p("formControl",o.diagnosticForm.controls.diagnosticNameFormControl),m(7),p("formControl",o.diagnosticForm.controls.diagnosticDescriptionFormControl),m(7),p("matDatepicker",a)("max",o.maxDate)("formControl",o.diagnosticForm.controls.initialDateFormControl),m(),p("for",a),m(7),p("matDatepicker",l)("max",o.maxDate)("min",o.setMinDate())("formControl",o.diagnosticForm.controls.finalDateFormControl),m(),p("for",l),m(5),p("formControl",o.diagnosticForm.controls.isExternalDiagnosticFormControl),m(2),p("ngIf",o.showTotalResult),m(8),p("ngForOf",o.diagnosticForm.controls.controllerArray.controls)}},dependencies:[Io,ri,si,li,le,X,Ee,_e,ve,ai,oe,ae,V,Ye,q,Li,H,Ke,$t,G,Je,ni,D0,F0],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0}.pequenio[_ngcontent-%COMP%]{font-size:9pt;color:#00000061}.flex-container[_ngcontent-%COMP%]{display:flex;width:300px;justify-content:space-between}.alert-text[_ngcontent-%COMP%]{font-weight:700;font-size:9pt;color:red}[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#e4e4e4;border-radius:100px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:100px;border:2px solid transparent;background-clip:content-box;background-color:#fdda24}.hide[_ngcontent-%COMP%]{display:none!important}"]})}}return t})();var FO=()=>[6,10,100,1e3];function RO(t,n){t&1&&(r(0,"th",25),c(1,"Nombre del diagn\xF3stico"),s())}function kO(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),I(e.diagnosticName)}}function AO(t,n){t&1&&(r(0,"th",25),c(1,"Fecha inicio"),s())}function OO(t,n){if(t&1&&(r(0,"td",26),c(1),Mt(2,"date"),s()),t&2){let e=n.$implicit;m(),I(Di(2,1,e.startDate,"dd/MM/yyyy"))}}function VO(t,n){t&1&&(r(0,"th",25),c(1,"Fecha fin"),s())}function NO(t,n){if(t&1&&(r(0,"td",26),c(1),Mt(2,"date"),s()),t&2){let e=n.$implicit;m(),I(Di(2,1,e.endDate,"dd/MM/yyyy"))}}function BO(t,n){t&1&&(r(0,"th",25),c(1,"Con pruebas externas"),s())}function LO(t,n){t&1&&(r(0,"div"),c(1,"Si"),s())}function jO(t,n){t&1&&(r(0,"div"),c(1,"No"),s())}function zO(t,n){if(t&1&&(r(0,"td",27),h(1,LO,2,0,"div",28)(2,jO,2,0,"div",28),s()),t&2){let e=n.$implicit;p("ngSwitch",e.isExternalDiagnostic),m(),p("ngSwitchCase",!0),m(),p("ngSwitchCase",!1)}}function HO(t,n){t&1&&(r(0,"th",25),c(1,"Estado"),s())}function qO(t,n){t&1&&(r(0,"div"),c(1,"Pendiente"),s())}function GO(t,n){t&1&&(r(0,"div"),c(1,"Cerrado"),s())}function UO(t,n){if(t&1&&(r(0,"td",27),h(1,qO,2,0,"div",28)(2,GO,2,0,"div",28),s()),t&2){let e=n.$implicit;p("ngSwitch",e.status),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I")}}function $O(t,n){t&1&&(r(0,"th",29),c(1,"Acciones"),s())}function QO(t,n){if(t&1){let e=E();r(0,"td",26)(1,"button",30),_("click",function(){let o=v(e).$implicit,a=x();return S(a.developDiagnostic(o))}),r(2,"mat-icon"),c(3,"description"),s()()()}}function WO(t,n){t&1&&C(0,"tr",31)}function KO(t,n){t&1&&C(0,"tr",32)}var O_=(()=>{class t{constructor(e,i,o,a){this.loginService=e,this.mcqDiagnosticoService=i,this.dialog=o,this._snackBar=a,this.filtroFormControl=new O("",[]),this.displayedColumns=["diagnosticName","startDate","endDate","isExternalDiagnostic","status","actions"],this.successStatusCode=200}ngOnInit(){this.listPersonDiagnostic(null)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}listPersonDiagnostic(e){let i=this.loginService.getData().idPersona||"";this.mcqDiagnosticoService.listPersonDiagnostic(i).subscribe(o=>{o!==void 0?o.statusCode===this.successStatusCode?(this.dataSource=new Se(o.body.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!==null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())):this.showMessage(o.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}developDiagnostic(e){let i={title:"Presentar diagn\xF3stico:",diagnosticObject:e};this.dialog.open(A_,{width:"920px",data:i}).afterClosed().subscribe(()=>{this.listPersonDiagnostic(null)})}static{this.\u0275fac=function(i){return new(i||t)(g(he),g($f),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-mcq-diagnosticos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:36,vars:6,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","diagnosticName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","isExternalDiagnostic"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["mat-header-cell","",1,"accion"],["matTooltip","Presentar diagn\xF3stico",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()()()(),r(13,"div",10)(14,"table",11),F(15,12),h(16,RO,2,0,"th",13)(17,kO,2,1,"td",14),R(),F(18,15),h(19,AO,2,0,"th",13)(20,OO,3,4,"td",14),R(),F(21,16),h(22,VO,2,0,"th",13)(23,NO,3,4,"td",14),R(),F(24,17),h(25,BO,2,0,"th",13)(26,zO,3,3,"td",18),R(),F(27,19),h(28,HO,2,0,"th",13)(29,UO,3,3,"td",18),R(),F(30,20),h(31,$O,2,0,"th",21)(32,QO,4,0,"td",14),R(),h(33,WO,1,0,"tr",22)(34,KO,1,0,"tr",23),s(),C(35,"mat-paginator",24),s()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(8),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,FO)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ao,ro,q,H,G,te,ee,Me,fe,so],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:15%}.ancho[_ngcontent-%COMP%]{width:30%}.angosto[_ngcontent-%COMP%]{width:7%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}"]})}}return t})();var XO=["containerCheck"],ZO=["text"];function JO(t,n){t&1&&(r(0,"span",9),c(1,"Respuesta obligatoria"),s())}var V_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-fecha"]],viewQuery:function(i,o){if(i&1&&(L(XO,7,ia),L(ZO,5)),i&2){let a;j(a=z())&&(o.VCR=a.first),j(a=z())&&(o.txt=a.first)}},decls:16,vars:4,consts:[["text",""],["id","_d",1,"margen"],["bc-input","",1,"PreguntaFecha"],[1,"bc-row"],[1,"bc-col-2"],["type","split"],["bc-input","","typeInput","input-default-left","type","date","value","","required","","matTooltip","Escriba una fecha","typeInput","input-default-left",3,"id"],[2,"list-style","none"],["style","color:#ff0000",4,"ngIf"],[2,"color","#ff0000"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"bc-form-field")(2,"label"),c(3),s(),r(4,"label",2),c(5),s()(),r(6,"div",3)(7,"div",4)(8,"bc-input-date",5)(9,"bc-form-field"),C(10,"input",6,0),r(12,"em"),c(13,"calendar"),s(),r(14,"li",7),h(15,JO,2,0,"span",8),s()()()()()()),i&2&&(m(3),T("",o.idPregunta,"."),m(2),T(" ",o.descripcion,""),m(5),vt("id",o.idPreguntaEncuesta),m(5),p("ngIf",o.requerido))},dependencies:[oe,V,te,ee,kl],styles:[".margen[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:10px;width:85%;border-radius:10px;margin-left:4.5rem;margin-top:1rem}.PreguntaFecha[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;font-weight:600}input[_ngcontent-%COMP%]{margin-left:1rem;margin-bottom:2rem;display:inline!important;width:97%!important;height:30px}em[_ngcontent-%COMP%]{margin-right:1rem;left:14px;width:24px}.margen[_ngcontent-%COMP%]:hover{border-left:2px solid #fcda21;height:100%}"]})}}return t})();var e5=["containerCheck"],t5=["encuesta"];function i5(t,n){if(t&1&&C(0,"bc-checkbox",8,0),t&2){let e=n.$implicit,i=x();vt("label",e.elementValue),vt("id",i.idPreguntaEncuesta),p("value",e.elementValue)}}function o5(t,n){t&1&&(r(0,"span",9),c(1,"Respuesta obligatoria"),s())}var N_=(()=>{class t{constructor(){this.descripcion="",this.idPregunta="",this.pregunta="",this.requerido=!1,this.selectedItems=[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-checkbox"]],viewQuery:function(i,o){if(i&1&&(L(e5,7,ia),L(t5,5)),i&2){let a;j(a=z())&&(o.VCR=a.first),j(a=z())&&(o.txt=a.first)}},decls:9,vars:4,consts:[["encuesta",""],[1,"margen"],[1,"PreguntaCheckbox"],[1,"bc-row"],[1,"bc-col-2"],[3,"label","id","value",4,"ngFor","ngForOf"],[2,"list-style","none"],["style","color:#ff0000",4,"ngIf"],[3,"label","id","value"],[2,"color","#ff0000"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"bc-form-field")(2,"label",2),c(3),s()(),r(4,"div",3)(5,"div",4),h(6,i5,2,3,"bc-checkbox",5),r(7,"li",6),h(8,o5,2,0,"span",7),s()()()()),i&2&&(m(3),Ht("",o.idPregunta,". ",o.descripcion,""),m(3),p("ngForOf",o.opcionRespuesta),m(2),p("ngIf",o.requerido))},dependencies:[ae,V,ee,Wo],styles:[".margen[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:10px;width:85%;border-radius:10px;margin-left:4.5rem;margin-top:1rem}.bc-slider[_ngcontent-%COMP%]{margin-top:2rem;width:50%}.PreguntaCheckbox[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;font-weight:600}.encuestaCkeckbox[_ngcontent-%COMP%]{text-transform:capitalize;margin:5px;margin-bottom:1rem;display:flex;width:98%;padding:8px;height:40px;border-radius:10px;background-color:#fff}.margen[_ngcontent-%COMP%]:hover{border-left:2px solid #fcda21;height:100%}"]})}}return t})();function n5(t,n){t&1&&(r(0,"span",6),c(1,"Respuesta obligatoria"),s())}var B_=(()=>{class t{constructor(){this.descripcion="",this.idPregunta="",this.pregunta="",this.requerido=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-texto"]],decls:14,vars:5,consts:[["text",""],["id","_d",1,"margen"],["bc-input","",1,"PreguntaCajaTexto"],[2,"list-style","none"],["bc-input","","autofocus","","type","text","alt","T","placeholder"," Escriba aqu\xED su respuesta","matTooltip","Escriba aqu\xED su respuesta","value","",2,"display","inline !important","width","90% !important",3,"id","required"],["style","color:#ff0000",4,"ngIf"],[2,"color","#ff0000"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"bc-form-field")(2,"label"),c(3),s(),r(4,"label",2),c(5),s()(),r(6,"li",3)(7,"bc-form-field"),C(8,"input",4,0),r(10,"em"),c(11,"Modify"),s()()(),r(12,"li",3),h(13,n5,2,0,"span",5),s()()),i&2&&(m(3),T("",o.idPregunta,". "),m(2),I(o.descripcion),m(3),vt("id",o.idPreguntaEncuesta),p("required",o.requerido),m(5),p("ngIf",o.requerido))},dependencies:[oe,V,te,ee],styles:[".labelCajatexto[_ngcontent-%COMP%]{position:absolute;margin-top:1.5rem;margin-left:-15px}.eliminar[_ngcontent-%COMP%]{cursor:pointer}.eliminar[_ngcontent-%COMP%]:hover{background-color:#fcda21}.restObligatorio[_ngcontent-%COMP%]{margin-top:1rem}.margen[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:10px;width:85%;border-radius:10px;margin-left:4.5rem;margin-top:1rem}.cajatextoEncuesta[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:1rem;display:inline!important;width:97%!important;height:30px}.PreguntaCajaTexto[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;font-weight:600}.margen[_ngcontent-%COMP%]:hover{border-left:2px solid #fcda21;height:100%}"]})}}return t})();function a5(t,n){if(t&1&&(F(0),C(1,"input",6),r(2,"label",7),c(3),s(),R()),t&2){let e=n.$implicit,i=x();m(),p("id",i.idPreguntaEncuesta+":radio"+e)("required",i.requerido)("name",i.opcionRespuesta.idOpcionRespuestaEncuesta)("value",e),m(),p("for",i.idPreguntaEncuesta+":radio"+e),m(),T("\u2605",e,"")}}function r5(t,n){t&1&&(r(0,"span",8),c(1,"Respuesta obligatoria"),s())}var L_=(()=>{class t{constructor(){this.starRange=[]}ngOnInit(){let e=this.opcionRespuesta[0].elementValue;this.starRange=Array.from({length:+e+1},(i,o)=>o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-level"]],decls:10,vars:5,consts:[["id","_d",1,"margen"],["bc-input","",1,"PreguntaCajaTexto"],[1,"clasificacion",3,"id"],[4,"ngFor","ngForOf"],[2,"list-style","none"],["style","color:#ff0000",4,"ngIf"],["type","radio",3,"id","required","name","value"],[1,"Premiun",3,"for"],[2,"color","#ff0000"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"bc-form-field")(2,"label"),c(3),s(),r(4,"label",1),c(5),s()(),r(6,"p",2),h(7,a5,4,6,"ng-container",3),s(),r(8,"li",4),h(9,r5,2,0,"span",5),s()()),i&2&&(m(3),T("",o.idPregunta,". "),m(2),I(o.descripcion),m(),vt("id",o.idPreguntaEncuesta),m(),p("ngForOf",o.starRange.slice().reverse()),m(2),p("ngIf",o.requerido))},dependencies:[ae,V,te,ee],styles:[".margen[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:10px;width:85%;border-radius:10px;margin-left:4.5rem;margin-top:1rem}.PreguntaLevel[_ngcontent-%COMP%]{font-size:20px;margin-left:5px;font-weight:600}#form[_ngcontent-%COMP%]{width:250px;margin:0 auto;height:50px}#form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}#form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px}input[type=radio][_ngcontent-%COMP%]{display:none}.Premiun[_ngcontent-%COMP%]{color:gray;font-size:30px;margin-right:80%;margin-top:2rem}.clasificacion[_ngcontent-%COMP%]{direction:rtl;unicode-bidi:bidi-override;display:inline-flex;width:5%;align-content:stretch;justify-content:flex-end;margin-left:2rem}p[_ngcontent-%COMP%]{margin-top:-1rem;margin-bottom:1rem}.Premiun[_ngcontent-%COMP%]:hover, .Premiun[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:#fcda21}input[type=radio][_ngcontent-%COMP%]:checked ~ .Premiun[_ngcontent-%COMP%]{color:#fcda21}.margen[_ngcontent-%COMP%]:hover{border-left:2px solid #fcda21;height:100%}.PreguntaCajaTexto[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;font-weight:600}"]})}}return t})();function s5(t,n){if(t&1&&(r(0,"label",6),C(1,"input",7),c(2),s()),t&2){let e=n.$implicit,i=x();m(),p("name",i.idPregunta)("value",e.elementValue)("id",i.idPreguntaEncuesta+":"+e.elementValue),m(),T(" ",e.elementValue," ")}}function l5(t,n){t&1&&(r(0,"span",8),c(1,"Respuesta obligatoria"),s())}var j_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-radio"]],decls:10,vars:4,consts:[[1,"margen"],[1,"PreguntaRadio"],["role","radiogroup",1,"bc-radio-group"],["class","bc-radio-label",4,"ngFor","ngForOf"],[2,"list-style","none"],["style","color:#ff0000",4,"ngIf"],[1,"bc-radio-label"],["type","radio",3,"name","value","id"],[2,"color","#ff0000"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"bc-form-field")(2,"label"),c(3),s(),r(4,"label",1),c(5),s()(),r(6,"div",2),h(7,s5,3,4,"label",3),s(),r(8,"li",4),h(9,l5,2,0,"span",5),s()()),i&2&&(m(3),T("",o.idPregunta,". "),m(2),T(" ",o.descripcion,""),m(2),p("ngForOf",o.opcionRespuesta),m(2),p("ngIf",o.requerido))},dependencies:[ae,V,ee],styles:[".labelCajatexto[_ngcontent-%COMP%]{position:absolute;margin-top:1.5rem;margin-left:-15px}.margen[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:10px;width:85%;border-radius:10px;margin-left:4.5rem;margin-top:1rem}.margen[_ngcontent-%COMP%]:hover{border-left:2px solid #fcda21;height:100%}.PreguntaRadio[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;font-weight:600}.bc-radio-group[_ngcontent-%COMP%]{display:block!important;visibility:visible!important;opacity:1!important}.bc-radio-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:inline-block!important;visibility:visible!important;opacity:1!important}input[type=radio][_ngcontent-%COMP%]:checked ~ .Premiun[_ngcontent-%COMP%]{color:#fcda21}"]})}}return t})();var c5=["container"],m5=["frm"];function d5(t,n){if(t&1&&(r(0,"option",22),c(1),s()),t&2){let e=n.$implicit,i=n.index;p("value",i),m(),Ht(" ",e.nombreEncuesta,"-",e.dsCurso,"")}}function p5(t,n){if(t&1&&(r(0,"div",12)(1,"div",23)(2,"bc-form-field")(3,"label"),c(4,"Objetivo:"),s(),r(5,"label",24),c(6),s()()()()),t&2){let e=x(2);m(6),T("",e.descripcion," ")}}function u5(t,n){if(t&1){let e=E();r(0,"div")(1,"form",null,1)(3,"div",10)(4,"div",11)(5,"div",12)(6,"label",13),c(7,"Encuestas por diligenciar"),s(),r(8,"div",14)(9,"bc-form-field",15)(10,"select",16,2),_("change",function(){v(e);let o=re(11),a=x();return S(a.seleccionarIdEncuesta(o.value))}),r(12,"option"),c(13,"Seleccione..."),s(),h(14,d5,2,3,"option",17),s()()(),r(15,"div",11),h(16,p5,7,1,"div",18),s()()()(),C(17,"div",19,3),s(),r(19,"div",20)(20,"button",21),_("click",function(){v(e);let o=x();return S(o.guardar())}),c(21," Guardar "),s()()()}if(t&2){let e=x();m(14),p("ngForOf",e.encuestasUsuario),m(2),p("ngIf",e.nombreEncuesta)}}function f5(t,n){t&1&&(r(0,"label",25),c(1,"No tienes encuestas pendientes por diligenciar"),s())}var z_=(()=>{class t{constructor(e,i,o,a){this.encuestaService=e,this.encuestaOfertaService=i,this.loginService=o,this.dialogService=a,this.successStatusCode=200,this.idEncuesta="",this.nombreEncuesta="",this.idOferta="",this.descripcion="",this.indice=0,this.idPregunta="",this.descripcionPregunta="",this.encuestasUsuario=[],this.obligatorias=[],this.valores=[],this.componentsReferences=Array(),this.RRespuestas=[]}ngOnInit(){let e=this.loginService.getData().idPersona;this.encuestaOfertaService.getBuscarEncuestasPendiente(e).subscribe(i=>{let o=i.body.data.objects;this.encuestasUsuario=o})}cargar(e){this.idEncuesta=e.idSurvey,this.nombreEncuesta=e.name,this.descripcion=e.dsSurvey;let i=e.surveyQuestionDtos;i.sort((a,l)=>a.order-l.order);let o=i.length;this.PPreguntas=i,this.tamanoObligatorias=0;for(let a=0;a<o;a++){let l=i[a].idSurveyQuestion,d=+i[a].order+1,u=i[a].name,f=i[a].mandatory,b=i[a].dsQuestionType,y=i[a].questionsElementDtos,w=f=="1";w&&this.obligatorias.push(l),this.crearComponente(b,u,d,y,w,l)}}crearComponente(e,i,o,a,l,d){e=="Texto"?this.ComponentRef=B_:e=="Selecci\xF3n"?this.ComponentRef=N_:e=="Radio"?this.ComponentRef=j_:e=="Fecha"?this.ComponentRef=V_:this.ComponentRef=L_;let u=this.VCR.createComponent(this.ComponentRef),f=u.instance;this.indice++,f.descripcion=i,f.idPregunta=o,f.requerido=l,f.opcionRespuesta=a,f.idPreguntaEncuesta=d,this.componentsReferences.unshift(u)}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}guardar(){if(this.verificarControles()){let i=this.loginService.getData().idPersona,o=this.idEncuesta,a="",l="",d=[];this.valores=[];for(let f in this.inputRef)for(let b of this.inputRef[f]){let y=b;a=y.id,l=y.value;let w=y.checked;(y.type=="radio"&&w==!0||(y.type=="checkbox"||y.type=="select-one"||y.type=="date")&&a!="")&&(a.includes(":")&&(a=a.split(":")[0]),l!="undefined"&&l!=""&&this.valores.push(a))}if(this.obligatorias.every(f=>this.valores.includes(f))){for(let f in this.inputRef)for(let b of this.inputRef[f]){let y=b;a=y.id,l=y.value;let w=y.checked;(y.type=="radio"&&w==!0||(y.type=="checkbox"||y.type=="select-one"||y.type=="date"||y.alt=="T")&&a!="")&&(a.includes(":")&&(a=a.split(":")[0]),l!="undefined"&&l!=""&&d.push({idSurvey:o,value:l,idSurveyQuestion:a,personId:i,idOferta:this.idOferta}))}this.guardarRespuestas(d,o)}else this.showMessage("Faltan preguntas obligatorias","warning","\xA1Atenci\xF3n!")}}guardarRespuestas(e,i){this.encuestaService.insertOpcionRespuestaUsuario(e).subscribe(o=>{o.statusCode===this.successStatusCode?this.encuestaService.cambiarEstadoEncuesta(i,this.idOferta).subscribe(a=>{a.statusCode===this.successStatusCode?(this.showMessage(a.body.data.message,"success","Actualizar encuesta"),this.VCR.clear(),this.nombreEncuesta="",this.descripcion="",window.location.reload()):this.showMessage(a.body.data.message,"error","Error")}):this.showMessage(o.body.data.message,"error","Guardar respuestas")})}verificarControles(){let e=!0;for(let i in this.inputRef)for(let o=0;o<this.inputRef[i].length;o++){let a=this.inputRef[i][o];if(a.required&&a.value==""){let l=this.inputRef[i][o];l.focus(),l.select(),e=!1;break}}return e}seleccionarIdEncuesta(e){this.VCR.clear(),this.nombreEncuesta="",this.descripcion="",this.idOferta=this.encuestasUsuario[e].idRelacion,this.encuestaService.getInfoSurvey(this.encuestasUsuario[e].idEncuesta).subscribe(i=>{let o=i.body.data.getSurveyInformation;this.cargar(o)})}static{this.\u0275fac=function(i){return new(i||t)(g(Fn),g(Na),g(he),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-dg-encuesta"]],viewQuery:function(i,o){if(i&1&&(L(c5,5,ia),L(m5,5)),i&2){let a;j(a=z())&&(o.VCR=a.first),j(a=z())&&(o.inputRef=a.first)}},decls:11,vars:3,consts:[["sinEncuestas",""],["frm",""],["encuesta",""],["container",""],[4,"ngIf","ngIfElse"],[1,"ctnppal",3,"ngStyle"],["id","modal"],[1,"container"],[1,"illustracion"],["role","img","aria-hidden","true","aria-label","undefined",1,"bc-modal-center-icon","bc-sm","bc-icon-p"],[1,"bc-row"],[1,"bc-col-12"],[1,"tituloEncuesta"],["bc-input","","aria-label","custom-aria-label",1,"inputTitulo"],[1,"cajax"],["inputType","select"],[2,"width","100%",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","tituloEncuesta",4,"ngIf"],[1,"col-sm-9"],[1,"boton"],["bc-button","","sizeButton","small",3,"click"],[3,"value"],[1,"DescripcionEncuesta"],["bc-input","","aria-label","custom-aria-label","placeholder","descripcion","matTooltip","Descripcion de la encuesta",1,"inputDescripcion"],["bc-input","","aria-label","custom-aria-label","matTooltip","Descripcion de la encuesta",1,"inputDescripcion"]],template:function(i,o){if(i&1&&(h(0,u5,22,2,"div",4),r(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"bc-icon",9),c(6," ok "),s()(),r(7,"h4"),c(8,"Datos Guardados Correctamente!"),s()()()(),h(9,f5,2,0,"ng-template",null,0,p0)),i&2){let a=re(10);p("ngIf",(o.encuestasUsuario==null?null:o.encuestasUsuario.length)>0)("ngIfElse",a),m(),p("ngStyle",o.ctnppal)}},dependencies:[oe,ae,V,g0,Ye,R0,k0,Ke,T0,kt,te,ee,Me],styles:[".boton[_ngcontent-%COMP%]{padding:60px;width:40%;text-align:right!important;margin-left:30%;display:flex;justify-content:center}.bc-row[_ngcontent-%COMP%]{background-color:#f8f7f7;padding:15px;padding-right:1rem;width:85%;margin:2.5rem 4.5rem 1.5rem;border-radius:10px;border-left:6px solid #fcda21;height:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}#modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100vw;transition:all .5s}.container[_ngcontent-%COMP%]{border-radius:16px;width:400px;height:auto;position:absolute;padding:16px 24px 32px;background:#fff;top:50%;left:50%;transform:translate(-50%,-50%);border:#abcda4 1px solid}#modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:13px;text-align:center}#modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center;font-size:16px;letter-spacing:-.3px;font-family:Open Sans,sans-serif}.ctnppal[_ngcontent-%COMP%]{display:none}.illustracion[_ngcontent-%COMP%]{display:flex;justify-content:center}.bc-icon-p[_ngcontent-%COMP%]{background-color:#00c389;height:48px;width:48px;display:flex;justify-content:center;align-items:center;border-radius:50%;color:#070606de}"]})}}return t})();var g5=["misConocimientos"],_5=["modalMisConocimientos"];function C5(t,n){t&1&&(r(0,"span",10),c(1,"MAPAS DE CONOCIMIENTO"),s())}function b5(t,n){t&1&&(r(0,"span",12),c(1,"APRENDIZAJE"),s())}function v5(t,n){t&1&&C(0,"app-carrera")}function S5(t,n){t&1&&(r(0,"mat-tab"),h(1,b5,2,0,"ng-template",5)(2,v5,1,0,"ng-template",6),s())}function y5(t,n){t&1&&(r(0,"span",13),c(1,"DIAGN\xD3STICOS"),s())}function x5(t,n){t&1&&C(0,"app-mcq-diagnosticos")}function w5(t,n){t&1&&(r(0,"mat-tab"),h(1,y5,2,0,"ng-template",5)(2,x5,1,0,"ng-template",6),s())}function E5(t,n){if(t&1&&(r(0,"mat-tab-group",11),h(1,S5,3,0,"mat-tab",4)(2,w5,3,0,"mat-tab",4),s()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM13")),m(),p("ngIf",e.loginService.validateModule("SM54"))}}function M5(t,n){t&1&&(r(0,"mat-tab"),h(1,C5,2,0,"ng-template",5)(2,E5,3,2,"ng-template",6),s())}function I5(t,n){t&1&&(r(0,"span",14),c(1,"FORMACI\xD3N"),s())}function T5(t,n){t&1&&(r(0,"span",15),c(1,"FORMACI\xD3N"),s())}function P5(t,n){t&1&&C(0,"app-ofertas")}function D5(t,n){t&1&&(r(0,"span",16),c(1,"HISTORICO"),s())}function F5(t,n){if(t&1&&C(0,"app-historico-formacion",17),t&2){let e=x(3);p("resourceId",e.knowledgeResource)}}function R5(t,n){t&1&&(r(0,"mat-tab-group",11)(1,"mat-tab"),h(2,T5,2,0,"ng-template",5)(3,P5,1,0,"ng-template",6),s(),r(4,"mat-tab"),h(5,D5,2,0,"ng-template",5)(6,F5,1,1,"ng-template",6),s()())}function k5(t,n){t&1&&(r(0,"mat-tab"),h(1,I5,2,0,"ng-template",5)(2,R5,7,0,"ng-template",6),s())}function A5(t,n){t&1&&(r(0,"span",18),c(1,"RESPONDER ENCUESTA"),s())}function O5(t,n){t&1&&C(0,"app-dg-encuesta")}function V5(t,n){t&1&&(r(0,"span",19),c(1,"MIS CERTIFICACIONES"),s())}function N5(t,n){if(t&1&&C(0,"app-persona-certificacion",20),t&2){let e=x(2);p("origen",e.knowledgeResource)}}function B5(t,n){t&1&&(r(0,"mat-tab"),h(1,V5,2,0,"ng-template",5)(2,N5,1,1,"ng-template",6),s())}function L5(t,n){t&1&&(r(0,"span",21),c(1,"DIRECTORIO"),s())}function j5(t,n){t&1&&C(0,"app-directorio")}function z5(t,n){t&1&&(r(0,"mat-tab"),h(1,L5,2,0,"ng-template",5)(2,j5,1,0,"ng-template",6),s())}var H_=(()=>{class t{constructor(e,i,o){this.loginService=e,this.diagnosticoService=i,this.dialogService=o,this.currentParent="CTO",this.successfulStatusCode=200,this.title="Mis conocimientos",this.knowledgeResource="REC001"}ngOnInit(){this.validateExpiredDiagnostic()}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}getExpiredDiagnostic(){this.diagnosticoService.getExpiredDiagnostic(this.loginService.getData().idPersona).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.countExpiredDiagnostic=e.body.data.countExpiredDiagnostic,this.message=e.body.data.message):this.showMessage(e.body.data.message,"error","Listar diagn\xF3sticos")})}validateTransactionStatus(){this.getExpiredDiagnostic()}validateExpiredDiagnostic(){this.diagnosticoService.getExpiredDiagnostic(this.loginService.getData().idPersona).pipe(Ce(()=>{this.countExpiredDiagnostic>0&&this.modalMisConocimientos.openModal()})).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.countExpiredDiagnostic=e.body.data.countExpiredDiagnostic,this.message=e.body.data.message):this.showMessage(e.body.data.message,"error","Listar diagn\xF3sticos")})}responseModalConocimiento(){this.misConocimientos.nativeElement.click(),this.modalMisConocimientos.shutDown()}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(yn),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-conocimiento"]],viewQuery:function(i,o){if(i&1&&(L(g5,5),L(_5,7)),i&2){let a;j(a=z())&&(o.misConocimientos=a.first),j(a=z())&&(o.modalMisConocimientos=a.first)}},decls:15,vars:11,consts:[["modalMisConocimientos",""],[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["title","Conocimientos","textBtn","Mis conocimientos","typeNotify","warning",3,"stateClick","typeIcon","customWidth","titleAlign","isCancellable","subTitle","buttonAlignment"],["modalContent",""],[2,"text-align","center"],["matTooltip","Mapas de conocimiento"],["color","primary","backgroundColor","accent","mat-stretch-tabs","false","mat-align-tabs","start"],["matTooltip","Aprendizaje"],["matTooltip","Diagn\xF3sticos"],["id","tabTraining","matTooltip","Formaci\xF3n"],["id","tabOffers","matTooltip","Formaci\xF3n General"],["id","tabHistoric","matTooltip","Mi Formaci\xF3n"],[3,"resourceId"],["matTooltip","Diligenciar Encuesta"],["matTooltip","Mis certificaciones"],[3,"origen"],["matTooltip","Directorio de Conocimiento"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"mat-card",2)(2,"mat-tab-group",3),h(3,M5,3,0,"mat-tab",4)(4,k5,3,0,"mat-tab",4),r(5,"mat-tab"),h(6,A5,2,0,"ng-template",5)(7,O5,1,0,"ng-template",6),s(),h(8,B5,3,0,"mat-tab",4)(9,z5,3,0,"mat-tab",4),s()()(),r(10,"bc-modal",7,0),_("stateClick",function(){return v(a),S(o.responseModalConocimiento())}),r(12,"div",8)(13,"p",9),c(14),s()()()}i&2&&(m(3),p("ngIf",o.loginService.validateGroupModules("SM13,SM54")),m(),p("ngIf",o.loginService.validateModule("SM18")),m(4),p("ngIf",o.loginService.validateModule("SM14")),m(),p("ngIf",o.loginService.validateModule("SM17")),m(),p("typeIcon","warning")("customWidth","medium")("titleAlign","center")("isCancellable",!1)("subTitle",null)("buttonAlignment","horizontal"),m(4),T(" ",o.message," "))},dependencies:[gi,Ei,_i,Ci,bi,oe,V,ec,tc,Wt,I_,T_,k_,O_,z_],styles:["[_nghost-%COMP%]     .mat-mdc-tab-header{background-color:#2c2a29}[_nghost-%COMP%]     .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}[_nghost-%COMP%]     .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();var H5=()=>[6,10,100,1e3];function q5(t,n){t&1&&(r(0,"th",28),c(1," Documento "),s())}function G5(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function U5(t,n){t&1&&(r(0,"th",28),c(1," Nombre "),s())}function $5(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),Ht(" ",e.nombre," ",e.apellido," ")}}function Q5(t,n){t&1&&(r(0,"th",28),c(1," Valor "),s())}function W5(t,n){if(t&1&&(r(0,"td",29),c(1),Mt(2,"num"),s()),t&2){let e=n.$implicit;m(),T("$",Pi(2,1,e.valor)," ")}}function K5(t,n){t&1&&(r(0,"th",28),c(1," Fecha de vigencia "),s())}function Y5(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit,i=x();m(),T(" ",i.cambiarFecha(e.creado)," ")}}function X5(t,n){t&1&&(r(0,"th",30),c(1,"Seleccionar aplicante"),s())}function Z5(t,n){if(t&1){let e=E();r(0,"td",29)(1,"div")(2,"mat-checkbox",31),_("change",function(){let o=v(e).$implicit,a=x();return S(a.addItem(o.idPersonaCandidato,o.candidatoAgregado,o.enSolicitud))}),s()()()}if(t&2){let e=n.$implicit;m(2),p("checked",e.candidatoAgregado)("disabled",e.enSolicitud)}}function J5(t,n){t&1&&C(0,"tr",32)}function e6(t,n){t&1&&C(0,"tr",33)}var q_=(()=>{class t{constructor(e,i,o,a,l,d,u,f,b){this.dialogRef=e,this.data=i,this.personaService=o,this.router=a,this.posteoService=l,this._snackBar=d,this.dialog=u,this.loginService=f,this.posteoProveedorService=b,this.searchFormControl=new O(""),this.persona=[],this.mensaje="",this.personasList=[],this.items=[],this.filtroFormControl=new O("",[]),this.displayedColumns=["cedula","nombre","valor","fecha","acciones"]}ngOnInit(){this.getPersonasCandidatos()}openAddDialog(e){e.title="Crear nuevo aplicante: ",e.tipo="Agregar",this.dialog.open(fs,{width:"99%",height:"89%",data:e}).afterClosed().subscribe(o=>{this.getPersonasCandidatos()})}enviarCandidatos(){let e=this.data.idPosteo,i=this.items.join(",");this.posteoService.sendPosteoProveedor1(e,i).subscribe(o=>{o.error?(this.showMessage(o.error),this.getPersonasCandidatos()):(this.getPersonasCandidatos(),this.showMessage(o.resultado))},o=>{console.log(o),this.dialogRef.close({data:this.data})}),this.items=[]}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}eliminarSolicitud(e,i){this.posteoProveedorService.deleteSeleccion(this.data.idIngreso,e,i).subscribe(o=>{o==null?(this.showMessage("Un error ha ocurrido, por favor contacte a SkillHackers"),this.dialogRef.close({data:this.data})):(this.getPersonasCandidatos(),this.showMessage(o.response),this.getPersonasCandidatos())})}addItem(e,i,o){if(o)i=!0;else if(this.items.includes(e)){let a=this.items.indexOf(e);this.items.splice(a,1)}else this.items.push(e)}isPersonasEmpty(){return this.items!=null&&this.items!=null&&this.items.length>0}getPersonasCandidatos(){this.personaService.getPersonasCandidato(this.data.idRol,this.data.idHabilidades,this.data.idIngreso,this.data.idPosteo).subscribe(e=>{if(e){let i=e.map(o=>rt(it({},o),{candidatoAgregado:o.candidatoAgregado=="S"}));i=i.map(o=>rt(it({},o),{enSolicitud:o.candidatoAgregado==!0})),this.dataSource=new Se(i),this.dataSource.paginator=this.paginator,this.personasList=e}},e=>{this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})})}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onNoClick(){this.dialogRef.close()}cambiarFecha(e){if(e!=null){let i=new Date(e);return new Date(i.toUTCString()+"-5").toLocaleDateString("es-CO")}}static{this.\u0275fac=function(i){return new(i||t)(g(W),g(Y),g(ot),g(Ze),g(Dn),g(K),g(Z),g(he),g(Tn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-enviar-talento"]],viewQuery:function(i,o){if(i&1&&L($,7),i&2){let a;j(a=z())&&(o.paginator=a.first)}},decls:49,vars:9,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"row","justify-content-start"],[1,"col-12"],[1,"example-spacer"],["matInput","","placeholder","Escriba el texto a buscar",3,"keyup","formControl"],["aria-label","Boton","matTooltip","Crear nuevo aplicante",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","valor"],["matColumnDef","fecha"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"col-2"],[1,"bc-button-small","bc-button-secondary",3,"click"],[1,"bc-button-small","bc-button-primary",3,"click","disabled"],[1,"col-8"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],[3,"change","checked","disabled"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",6)(10,"div",7)(11,"div",8)(12,"mat-form-field")(13,"mat-label"),c(14,"Filtro"),s(),r(15,"input",9),_("keyup",function(l){return o.applyFilter(l)}),s()(),r(16,"button",10),_("click",function(){return o.openAddDialog(o.loginService.getData())}),r(17,"mat-icon"),c(18,"person_add"),s()()()()(),r(19,"div",6)(20,"div",7)(21,"div",11)(22,"table",12),F(23,13),h(24,q5,2,0,"th",14)(25,G5,2,1,"td",15),R(),F(26,16),h(27,U5,2,0,"th",14)(28,$5,2,2,"td",15),R(),F(29,17),h(30,Q5,2,0,"th",14)(31,W5,3,3,"td",15),R(),F(32,18),h(33,K5,2,0,"th",14)(34,Y5,2,1,"td",15),R(),F(35,19),h(36,X5,2,0,"th",20)(37,Z5,3,2,"td",15),R(),h(38,J5,1,0,"tr",21)(39,e6,1,0,"tr",22),s(),C(40,"mat-paginator",23),s()()(),r(41,"div",6)(42,"div",24)(43,"button",25),_("click",function(){return o.onNoClick()}),c(44,"Cancelar"),s()(),r(45,"div",24)(46,"button",26),_("click",function(){return o.enviarCandidatos()}),c(47,"Enviar"),s()(),C(48,"div",27),s()()),i&2&&(m(4),Ht("",o.data.title," ",o.data.idIngreso,""),m(11),p("formControl",o.filtroFormControl),m(7),p("dataSource",o.dataSource),m(16),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(8,H5)),m(6),p("disabled",!o.isPersonasEmpty()))},dependencies:[Io,le,X,Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,q,H,G,tr],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:40%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.mat-selection-list[_ngcontent-%COMP%]{max-height:400px;overflow:auto}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}"]})}}return t})();function t6(t,n){if(t&1&&(r(0,"mat-list-item")(1,"span",10),c(2,"Entorno/\xC1rea Funcional/Centros de Excelencia - Funcional"),s(),r(3,"span",11),c(4),s()()),t&2){let e=x();m(4),I(e.data.dsEstructuraFuncional)}}function i6(t,n){if(t&1&&(r(0,"div",14)(1,"label",15),c(2,"Informaci\xF3n adicional"),s(),r(3,"textarea",16,0),c(5),s()()),t&2){let e=x();m(5),I(e.data.mensaje)}}function o6(t,n){if(t&1&&(r(0,"mat-list-item")(1,"span",10),c(2,"Retiro"),s(),r(3,"span",11),c(4),s()()),t&2){let e=x();m(4),I(e.infoRetiro)}}var G_=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.dialogRef=i,this.data=o,this.ingresoService=a,this.retiroService=l}ngOnInit(){this.getAllEstadoIngresos(),this.data.idRetiro&&this.getRetiroRemplazo()}getRetiroRemplazo(){this.retiroService.getRetiroPorRemplazo(this.data.idRetiro).pipe(Ce(()=>{this.data.idEmpresa==this.retiroRemplazo.idEmpresa&&(this.infoRetiro=this.retiroRemplazo.nombre_talento+" / "+this.retiroRemplazo.fecha_retiro+" / "+this.retiroRemplazo.proveedor+" / "+this.retiroRemplazo.causal)})).subscribe(e=>{this.retiroRemplazo=e},e=>{this.router.navigate(["/login"]),this.dialogRef.close({data:this.data})})}getAllEstadoIngresos(){this.ingresoService.getAllEstadoIngreso().pipe(Ce(()=>{let e=this.estadoIngresoList.find(i=>i.valor===this.data.idEstadoSolicitud);e&&(this.abreviatura=e.descripcionHomologada)})).subscribe(e=>{this.estadoIngresoList=e})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(W),g(Y),g(Qi),g(af))}}static{this.\u0275cmp=D({type:t,selectors:[["app-detalle-posteo"]],decls:75,vars:25,consts:[["message",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["matListItemTitle",""],["matListItemLine",""],[4,"ngIf"],[1,"col-12"],[1,"col-12","margin-data"],["for",""],["readonly","","bc-input","","type","text"],["class","col-12 margin-data",4,"ngIf"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"mat-list")(13,"mat-list-item")(14,"span",10),c(15,"ID Solicitud"),s(),r(16,"span",11),c(17),s()(),r(18,"mat-list-item")(19,"span",10),c(20,"Nivel"),s(),r(21,"span",11),c(22),s()(),r(23,"mat-list-item")(24,"span",10),c(25,"Fecha posteo"),s(),r(26,"span",11),c(27),Mt(28,"date"),s()(),r(29,"mat-list-item")(30,"span",10),c(31,"Fecha cierre"),s(),r(32,"span",11),c(33),Mt(34,"date"),s()(),r(35,"mat-list-item")(36,"span",10),c(37,"Origen solicitud"),s(),r(38,"span",11),c(39),s()()()(),r(40,"div",9)(41,"mat-list")(42,"mat-list-item")(43,"span",10),c(44,"Fecha solicitud"),s(),r(45,"span",11),c(46),Mt(47,"date"),s()(),r(48,"mat-list-item")(49,"span",10),c(50,"Categor\xEDa"),s(),r(51,"span",11),c(52),s()(),r(53,"mat-list-item")(54,"span",10),c(55,"Estado"),s(),r(56,"span",11),c(57),s()(),r(58,"mat-list-item")(59,"span",10),c(60,"Cupo"),s(),r(61,"span",11),c(62),s()(),h(63,t6,5,1,"mat-list-item",12),s()()(),r(64,"div",8)(65,"div",13)(66,"div",14)(67,"label",15),c(68,"Habilidades"),s(),r(69,"textarea",16,0),c(71),s()(),h(72,i6,6,1,"div",17),r(73,"mat-list"),h(74,o6,5,1,"mat-list-item",12),s()()()()}i&2&&(m(4),Ht("",o.data.title," ",o.data.idPosteo,""),m(13),I(o.data.idIngreso),m(5),I(o.data.nivel),m(5),I(Di(28,16,o.data.fechaPosteo,"d/MM/yyyy")),m(6),I(Di(34,19,o.data.fechaLimite,"d/MM/yyyy")),m(6),I(o.data.origenSolicitud),m(7),I(Di(47,22,o.data.fechaIngreso,"d/MM/yyyy")),m(6),I(o.data.perfil),m(5),I(o.abreviatura),m(5),Ht("",o.data.cantidadActual,"/",o.data.cantidadMaxima,""),m(),p("ngIf",o.data.dsEstructuraFuncional),m(8),I(o.data.habilidades),m(),p("ngIf",o.data.mensaje),m(2),p("ngIf",o.infoRetiro))},dependencies:[le,X,or,nr,Nl,Vl,V,te,so],styles:[".texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0}.example-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.main[_ngcontent-%COMP%]{padding:0;margin:0}.contenido[_ngcontent-%COMP%]{font-size:small}.titulo[_ngcontent-%COMP%]{position:absolute;font-size:small}.test[_ngcontent-%COMP%]{display:flex;flex-direction:column}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}.info-adicional[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto}.margin-data[_ngcontent-%COMP%]{margin:15px}"]})}}return t})();var n6=()=>[6,10,100,1e3],On=t=>({"bg-red":t});function a6(t,n){if(t&1&&(r(0,"span",30),c(1,"Pendientes por confirmar participaci\xF3n"),s()),t&2){let e=x();p("matBadge",e.cantidadPosteoPendientesPorConfirmar)}}function r6(t,n){t&1&&(r(0,"th",31),c(1," ID Solicitud "),s())}function s6(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;p("ngClass",yi(2,On,e.pendienteParticipacion)),m(),T(" ",e.idIngreso," ")}}function l6(t,n){t&1&&(r(0,"th",31),c(1," Fecha Solicitud "),s())}function c6(t,n){if(t&1&&(r(0,"td",32),c(1),Mt(2,"date"),s()),t&2){let e=n.$implicit;p("ngClass",yi(5,On,e.pendienteParticipacion)),m(),T(" ",Di(2,2,e.fechaPosteo,"d/MM/yyyy")," ")}}function m6(t,n){t&1&&(r(0,"th",31),c(1," Nivel "),s())}function d6(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;p("ngClass",yi(2,On,e.pendienteParticipacion)),m(),T(" ",e.nivel," ")}}function p6(t,n){t&1&&(r(0,"th",31),c(1," Categor\xEDa "),s())}function u6(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;p("ngClass",yi(2,On,e.pendienteParticipacion)),m(),T(" ",e.perfil," ")}}function f6(t,n){t&1&&(r(0,"th",31),c(1," Subcategor\xEDa "),s())}function h6(t,n){if(t&1&&(r(0,"td",32),c(1),s()),t&2){let e=n.$implicit;p("ngClass",yi(2,On,e.pendienteParticipacion)),m(),T(" ",e.rol," ")}}function g6(t,n){t&1&&(r(0,"th",31),c(1," Habilidades"),s())}function _6(t,n){if(t&1){let e=E();r(0,"td",33)(1,"a",34),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openMensajeDialog(o))}),c(2),Mt(3,"truncate"),s()()}if(t&2){let e=n.$implicit;m(2),T(" ",Di(3,1,e.habilidades,"15"),"")}}function C6(t,n){t&1&&(r(0,"th",31),c(1," Fecha cierre "),s())}function b6(t,n){if(t&1&&(r(0,"td",35),c(1),Mt(2,"date"),s()),t&2){let e=n.$implicit;p("ngClass",yi(5,On,e.pendienteParticipacion)),m(),T(" ",Di(2,2,e.fechaLimite,"d/MM/yyyy")," ")}}function v6(t,n){t&1&&(r(0,"th",31),c(1," Cupo "),s())}function S6(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;p("ngClass",yi(3,On,e.pendienteParticipacion)),m(),Ht(" ",e.cantidadActual,"/",e.cantidadMaxima," ")}}function y6(t,n){t&1&&(r(0,"th",31),c(1," Estado "),s())}function x6(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit,i=x();p("ngClass",yi(2,On,e.pendienteParticipacion)),m(),T(" ",i.statusAbbreviation(e.idEstadoSolicitud)," ")}}function w6(t,n){t&1&&(r(0,"th",36),c(1,"Acciones"),s())}function E6(t,n){if(t&1){let e=E();r(0,"button",43),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.updatePostParticipation(o))}),r(1,"mat-icon",44),c(2,"assignment_late"),s()()}}function M6(t,n){if(t&1){let e=E();r(0,"td",33)(1,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.readPosteo(o.idPosteo))}),r(2,"mat-icon",38),c(3,"remove_red_eye"),s()(),r(4,"button",39),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Enviar",o))}),r(5,"mat-icon"),c(6,"input"),s()(),r(7,"button",40),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Ver",o))}),r(8,"mat-icon"),c(9,"people_outline"),s()(),r(10,"button",41),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Detail",o))}),r(11,"mat-icon"),c(12,"details"),s()(),h(13,E6,3,0,"button",42),s()}if(t&2){let e=n.$implicit,i=x();m(),p("disabled",e.visto>0),m(3),p("disabled",e.idEstadoSolicitud=="CAN"||e.idEstadoSolicitud=="CER"||i.validationDeadline(e.fechaLimite)||e.participa==null),m(3),p("disabled",!1),m(6),p("ngIf",e.pendienteParticipacion)}}function I6(t,n){t&1&&C(0,"tr",45)}function T6(t,n){t&1&&C(0,"tr",46)}var U_=(()=>{class t{constructor(e,i,o,a,l,d){this.posteoService=e,this._snackBar=i,this.dialogService=o,this.loginService=a,this.dialog=l,this.ingresoService=d,this.displayedColumns=["idSolicitud","fechaPosteo","nivel","perfil","rol","habilidades","estado","fechaLimite","cantidadMaxima","acciones"],this.filtroFormControl=new O("",[]),this.datanew=[],this.addDays=20,this.successfulStatusCode=200,this.cantidad=new Ui}ngOnInit(){let e=new Date;this.fechaActual=new Date(e.setHours(0,0,0,0)),this.getAllEstadoIngresos(),this.alertUserNetworkError(),this.getCantidadPosteosPorConfirmar()}openDialog(e,i){i.action=e,i.action=="Enviar"?this.openSendDialog(i):i.action=="Ver"?this.openViewDialog(i):i.action=="Detail"&&this.openDetailDialog(i)}getAllEstadoIngresos(){this.ingresoService.getAllEstadoIngreso().pipe(Ce(()=>{this.getPosteos(null)})).subscribe(e=>{this.estadoIngresoList=e})}openSendDialog(e){e.title="Enviar aplicantes: ",this.dialog.open(q_,{width:"80%",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.getPosteos(null)})}openViewDialog(e){e.proveedor="Proveedor",e.idPersona=this.loginService.getData().idPersona,e.title="Aplicantes a la solicitud: ",e.addDays=this.addDays,e.origin="ALIADO",this.dialog.open(cr,{width:"2000px",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.getPosteos(null)})}getPosteos(e){let i=this.paginator.pageIndex;this.posteoService.getAllByIdPersona().pipe(Ce(()=>{this.applyFilter(this.filtroFormControl.value),this.dataSource.sort=this.sort,this.paginator.pageIndex=i,this.paginator.page.next({pageIndex:i,pageSize:this.paginator.pageSize,length:this.paginator.length})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?(this.datanew=o.body.data.posts.filter(a=>a.visto!=1),this.cantidad.emit(this.datanew.length),this.dataSource=new Se(o.body.data.posts.reverse()),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())):this.showMessage(o.body.data.message)},o=>{this.showMessage(o)})}applyFilter(e){let i=e;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}readPosteo(e){this.posteoService.updateVisto(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.getPosteos(null):this.showMessage(i.body.data.message)},i=>{this.showMessage(i)})}validationDeadline(e){let i=new Date(e.split("-")[1]+"-"+e.split("-")[2]+"-"+e.split("-")[0]);return this.fechaActual>i}openMensajeDialog(e){e.mensaje=e.habilidades.split(","),e.titulo="Habilidades",this.dialog.open(Cf,{data:e}).afterClosed().subscribe(o=>{this.getPosteos(null)})}convertDate(e){let i=new Date(e);return new Date(i.toUTCString()+"-5")}statusAbbreviation(e){let i=this.estadoIngresoList.find(o=>o.valor===e);return i?i.descripcionHomologada:""}openDetailDialog(e){e.mode="select",e.title="Detalle solicitud:",this.dialog.open(G_,{width:"1000px",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{o!=null})}getCantidadPosteosPorConfirmar(){this.posteoService.getPendientesPorConfirmacion().subscribe(e=>{this.cantidadPosteoPendientesPorConfirmar=e.body.data.numberOfPosts},e=>{this.showMessage("Error: "+e.toString())})}updatePostParticipation(e){var i={mensaje:`\xBFParticipar\xE1 en la solicitud: ${e.idIngreso}?`,opciones:[{name:"Si",color:"primary",icon:"check"},{name:"No",color:"warn",icon:"cancel"}]};this.dialog.open(ps,{data:i}).afterClosed().subscribe(a=>{if(a!=null){let l=null;a.data.opcion=="Si"?l=!0:a.data.opcion=="No"&&(l=!1),this.posteoService.updatePostParticipation(e.idPosteo,l).pipe(Ce(()=>{this.ngOnInit()})).subscribe(d=>{d.error?this.showMessage(d.error):this.showMessage(d.body.data.message)})}})}alertUserNetworkError(){this.ingresoService.getEntrancesByUserNetworkErrorThenOk().subscribe(e=>{if(e.body.data.entrancesByUserNetworkError.length>0){let i="\xA1Advertencia! Las siguientes solicitudes presentan novedades por no asignar el usuario de red a tiempo: ",o="";e.body.data.entrancesByUserNetworkError.forEach(u=>{o+=`(${u.idSolicitud} - ${u.nombrePrestadorDeServicio}) `});let d=this.dialogService.open(pe,{id:"MyAlertId",type:"warning",text:i+o,title:"Novedad - Ingreso(s) pendiente por usuario de red"})}else e.error&&this.showMessage("Fall\xF3 la generaci\xF3n de novedades por usuario de red.")})}static{this.\u0275fac=function(i){return new(i||t)(g(Dn),g(K),g(ue),g(he),g(Z),g(Qi))}}static{this.\u0275cmp=D({type:t,selectors:[["app-posteo"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},outputs:{cantidad:"cantidad"},decls:50,vars:7,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],["id","quantityPostPendingToConfirm","class","infoPosts","matBadgeOverlap","false","matBadgeColor","warn",3,"matBadge",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idSolicitud"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","fechaPosteo"],["matColumnDef","nivel"],["matColumnDef","perfil"],["matColumnDef","rol"],["matColumnDef","habilidades"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaLimite"],["mat-cell","","style","text-align: center;",3,"ngClass",4,"matCellDef"],["matColumnDef","cantidadMaxima"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["id","quantityPostPendingToConfirm","matBadgeOverlap","false","matBadgeColor","warn",1,"infoPosts",3,"matBadge"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngClass"],["mat-cell",""],["href","javascript:void(0);",1,"waves-effect","waves-block()",3,"click"],["mat-cell","",2,"text-align","center",3,"ngClass"],["mat-header-cell","",1,"accion"],["matTooltip","Marcar como le\xEDda",1,"bc-button-icon",3,"click","disabled"],["color","warn"],["matTooltip","Enviar aplicantes",1,"bc-button-icon",3,"click","disabled"],["matTooltip","Ver aplicantes enviados",1,"bc-button-icon",3,"click","disabled"],["matTooltip","Detallar posteo",1,"bc-button-icon",3,"click"],["id","btnConfirmParticipationPost","class","bc-button-icon","matTooltip","Confirmar participacion posteo",3,"click",4,"ngIf"],["id","btnConfirmParticipationPost","matTooltip","Confirmar participacion posteo",1,"bc-button-icon",3,"click"],["color","accent"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),r(13,"div",7),h(14,a6,2,1,"span",10),s()()(),r(15,"div")(16,"table",11),F(17,12),h(18,r6,2,0,"th",13)(19,s6,2,4,"td",14),R(),F(20,15),h(21,l6,2,0,"th",13)(22,c6,3,7,"td",14),R(),F(23,16),h(24,m6,2,0,"th",13)(25,d6,2,4,"td",14),R(),F(26,17),h(27,p6,2,0,"th",13)(28,u6,2,4,"td",14),R(),F(29,18),h(30,f6,2,0,"th",13)(31,h6,2,4,"td",14),R(),F(32,19),h(33,g6,2,0,"th",13)(34,_6,4,4,"td",20),R(),F(35,21),h(36,C6,2,0,"th",13)(37,b6,3,7,"td",22),R(),F(38,23),h(39,v6,2,0,"th",13)(40,S6,2,5,"td",22),R(),F(41,24),h(42,y6,2,0,"th",13)(43,x6,2,4,"td",22),R(),F(44,25),h(45,w6,2,0,"th",26)(46,M6,14,4,"td",20),R(),h(47,I6,1,0,"tr",27)(48,T6,1,0,"tr",28),s(),C(49,"mat-paginator",29),s()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(8),p("ngIf",o.cantidadPosteoPendientesPorConfirmar>0),m(2),p("dataSource",o.dataSource),m(31),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(6,n6)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,Zo,Ut,V,q,H,G,te,ee,Me,fe,so,pf],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:15%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.bg-red[_ngcontent-%COMP%]{color:red}.infoPosts[_ngcontent-%COMP%]{font-size:smaller;color:currentcolor;display:inline-block}"]})}}return t})();var D6=()=>[6,10,100,1e3];function F6(t,n){if(t&1){let e=E();r(0,"button",28),_("click",function(){v(e);let o=x();return S(o.openAddDialogTrainingPerson())}),r(1,"mat-icon"),c(2,"group_add"),s()()}}function R6(t,n){t&1&&(r(0,"th",29),c(1," Documento "),s())}function k6(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function A6(t,n){t&1&&(r(0,"th",29),c(1," Nombre "),s())}function O6(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),Ht(" ",e.nombre," ",e.apellido,"")}}function V6(t,n){t&1&&(r(0,"th",29),c(1," Valor "),s())}function N6(t,n){if(t&1&&(r(0,"td",31),c(1),Mt(2,"num"),s()),t&2){let e=n.$implicit;m(),T(" $",Pi(2,1,e.valor)," ")}}function B6(t,n){t&1&&(r(0,"th",29),c(1," A\xF1os de Exp "),s())}function L6(t,n){if(t&1&&(r(0,"td",31),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.aniosExp," ")}}function j6(t,n){t&1&&(r(0,"th",32),c(1,"Acciones"),s())}function z6(t,n){t&1&&(r(0,"mat-icon",37),c(1,"event_available"),s())}function H6(t,n){t&1&&(r(0,"mat-icon",37),c(1,"event_busy"),s())}function q6(t,n){if(t&1){let e=E();r(0,"td",31)(1,"button",33),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDialog("Update",o))}),r(2,"mat-icon"),c(3,"edit"),s()(),r(4,"button",34),_("click",function(){let o=v(e).$implicit,a=x();return S(a.detalleHojaVida(o))}),r(5,"mat-icon"),c(6,"recent_actors"),s()(),r(7,"button",35),_("click",function(){let o=v(e).$implicit,a=x();return S(a.setStateOfCandidate(o))}),h(8,z6,2,0,"mat-icon",36)(9,H6,2,0,"mat-icon",36),s()()}if(t&2){let e=n.$implicit,i=x();m(7),p("id","buttonActiveCandidatePerson-"+e.idPersonaCandidato)("matTooltip",i.activeButtonText),m(),p("ngIf",!i.activoFormControl.value),m(),p("ngIf",i.activoFormControl.value)}}function G6(t,n){t&1&&C(0,"tr",38)}function U6(t,n){t&1&&C(0,"tr",39)}var $_=(()=>{class t{constructor(e,i,o,a,l){this.candidatoService=e,this.router=i,this.dialog=o,this.loginService=a,this._snackBar=l,this.personaList=[],this.filtroFormControl=new O("",[]),this.displayedColumns=["documento","nombre","valor","aniosexp","acciones"],this.activoFormControl=new O(!0,[]),this.successStatusCode=200,this.activoFormControl.valueChanges.subscribe(d=>{d?this.activeButtonText="Marcar como: No Disponibles":this.activeButtonText="Marcar como: Disponible"})}ngOnInit(){this.getTalentos(null),this.providerIsAllowed()}openDialog(e,i){i.action=e,i.action=="Update"&&this.openAddEditDialog(i,"Editar")}openAddEditDialog(e,i){let o=this.loginService.getData();if(o.title="Editar aplicante: ",o.user=e,o.tipo=i,e&&!e.esPrestadorEnEntrenamiento)this.dialog.open(fs,{width:"99%",height:"89%",data:o}).afterClosed().subscribe(()=>{this.getTalentos(null)});else{let a=this.loginService.getData();a.title="Editar aplicante en entrenamiento:  ",a.tipo="Editar",a.idPersonaCandidato=e.idPersonaCandidato,this.dialog.open(dd,{width:"99%",height:"89%",data:a}).afterClosed().subscribe(()=>{this.getTalentos(null)})}}openAddDialog(){let e=this.loginService.getData();e.title="Crear nuevo aplicante: ",e.tipo="Agregar",this.dialog.open(fs,{width:"99%",height:"89%",data:e}).afterClosed().subscribe(o=>{this.getTalentos(null)})}openAddDialogTrainingPerson(){let e=this.loginService.getData();e.title="Crear nuevo aplicante en entrenamiento: ",e.tipo="Agregar",this.dialog.open(dd,{width:"99%",height:"89%",data:e}).afterClosed().subscribe(o=>{this.getTalentos(null)})}getTalentos(e){let i=this.paginator.pageIndex;this.candidatoService.getTalentoByPersona(this.activoFormControl.value).pipe(Ce(()=>{this.applyFilter(this.filtroFormControl.value),this.dataSource.sort=this.sort,this.paginator.pageIndex=i,this.paginator.page.next({pageIndex:i,pageSize:this.paginator.pageSize,length:this.paginator.length})})).subscribe(o=>{let a=o.body.data.candidatePersonListByState;for(let l=0;l<a.length;l++){let d=a[l].cursos==null||a[l].cursos===""?"":JSON.parse(a[l].cursos),u=d==""?"":d.filter(y=>y.curso!="");a[l].cursos=u;let f=a[l].experiencia==null||a[l].experiencia===""?"":JSON.parse(a[l].experiencia),b=f==""?"":f.filter(y=>y.compania!="");a[l].experiencia=b}a!=null?(this.dataSource=new Se(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())):this.showMessage("No Existen Personas")},o=>{this.showMessage("Error: "+o.toString()),this.router.navigate(["/login"])})}applyFilter(e){let i=e;i&&(this.dataSource.filter=i.trim().toLowerCase()),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}detalleHojaVida(e){e.mode="select",e.title="Hoja de vida: ";let i=this.dialog.open(lr,{data:e,maxHeight:"90vh"})}providerIsAllowed(){this.candidatoService.getProviderIsAllowedToAddTraining().subscribe(e=>{e.error?this.showMessage("No se recibe objeto respuesta del servidor"):this.providerIsAllowedAddTraining=e.body.data.isAllowed})}setStateOfCandidate(e){this.activoFormControl.value?e.mensaje=`\xBFRealmente desea inactivar al prestador de servicio ${e.nombre+" "+e.apellido}?`:e.mensaje=`\xBFRealmente desea activar al prestador de servicio ${e.nombre+" "+e.apellido}?`,e.boton="Aceptar",this.dialog.open($e,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.updateStateOfCandidate(e.idPersonaCandidato)})}updateStateOfCandidate(e){this.candidatoService.updateStateOfCandidate(e,!this.activoFormControl.value).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.showMessage(i.body.data.message),this.getTalentos(null)):this.showMessage(i.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}static{this.\u0275fac=function(i){return new(i||t)(g(vf),g(Ze),g(Z),g(he),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-candidatos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:42,vars:9,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],["matTooltip","Crear nuevo aplicante",1,"bc-fab-button-mini",3,"click"],["id","btnAddPersonInTraining","class","bc-fab-button-mini","matTooltip","Crear nuevo aplicante entrenamiento",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","documento"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","ngClass","'line-breaker'",4,"matCellDef"],["matColumnDef","nombre"],["mat-cell","",4,"matCellDef"],["matColumnDef","valor"],["matColumnDef","aniosexp"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginatorAndSlide"],["ngDefaultControl","",1,"toggleCandidatePerson",3,"change","formControl"],[1,"paginatorCandidatePerson",3,"pageSizeOptions"],["id","btnAddPersonInTraining","matTooltip","Crear nuevo aplicante entrenamiento",1,"bc-fab-button-mini",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","","ngClass","'line-breaker'"],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Editar aplicante",1,"bc-button-icon",3,"click"],["matTooltip","Hoja De Vida",1,"bc-button-icon",3,"click"],[1,"bc-button-icon",3,"click","id","matTooltip"],["style","color: black;",4,"ngIf"],[2,"color","black"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),r(13,"div",7)(14,"bc-form-field")(15,"button",10),_("click",function(){return v(a),S(o.openAddDialog())}),r(16,"mat-icon"),c(17,"person_add"),s()(),h(18,F6,3,0,"button",11),s()()()(),r(19,"div",12)(20,"table",13),F(21,14),h(22,R6,2,0,"th",15)(23,k6,2,1,"td",16),R(),F(24,17),h(25,A6,2,0,"th",15)(26,O6,2,2,"td",18),R(),F(27,19),h(28,V6,2,0,"th",15)(29,N6,3,3,"td",18),R(),F(30,20),h(31,B6,2,0,"th",15)(32,L6,2,1,"td",18),R(),F(33,21),h(34,j6,2,0,"th",22)(35,q6,10,4,"td",18),R(),h(36,G6,1,0,"tr",23)(37,U6,1,0,"tr",24),s(),r(38,"div",25)(39,"mat-slide-toggle",26),_("change",function(){return v(a),S(o.getTalentos(null))}),c(40),s(),C(41,"mat-paginator",27),s()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(12),p("ngIf",o.providerIsAllowedAddTraining),m(2),p("dataSource",o.dataSource),m(16),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(2),p("formControl",o.activoFormControl),m(),T(" ",o.activoFormControl.value?"DISPONIBLES":"NO DISPONIBLES"," "),m(),p("pageSizeOptions",Te(8,D6)))},dependencies:[X,$,Ko,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,Ut,V,q,H,G,te,ee,Me,fe,tr],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%], .persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}.experiencia[_ngcontent-%COMP%]{width:25%}.button-example-spacer[_ngcontent-%COMP%]{display:flex;margin-right:20px;gap:5px}#btnAddPersonInTraining[_ngcontent-%COMP%]{background-color:#fdda24}.paginatorAndSlide[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]})}}return t})();var Q_=(()=>{class t{constructor(e,i,o,a,l,d){this.generadorExcelService=e,this.dialog=i,this._snackBar=o,this.reporteService=a,this.router=l,this.loginService=d,this.showSpinner=!1,this.successfulStatusCode=200}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}openDateDialogProviderReport(){let e={};e.title="Fechas reporte:",this.dialog.open(Qf,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&(this.showSpinner=!0,this.reporteService.getProviderReport(this.loginService.getData().idPersona,o.data.fechaInicio,o.data.fechaFin).subscribe(a=>{this.showSpinner=!1,a.statusCode!=200?this.router.navigate(["/login"]):this.generadorExcelService.generarExcel(a.body.data)}))})}static{this.\u0275fac=function(i){return new(i||t)(g(Zl),g(Z),g(K),g(Jl),g(Ze),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-reportes-proveedor"]],decls:6,vars:1,consts:[[3,"showSpinner"],["mat-raised-button","","color","accent","matTooltip","Ingresos",3,"click"]],template:function(i,o){i&1&&(C(0,"app-progreso-spinner",0),r(1,"section")(2,"button",1),_("click",function(){return o.openDateDialogProviderReport()}),r(3,"mat-icon"),c(4,"assignment"),s(),c(5,` Generar reporte
`),s()()),i&2&&p("showSpinner",o.showSpinner)},dependencies:[Ri,X,oe,Lo],styles:["section[_ngcontent-%COMP%]{display:table;margin:8px;width:98%;min-height:450px}button[_ngcontent-%COMP%]{display:table-cell;margin-right:8px;margin-bottom:8px;width:49%}"]})}}return t})();function W6(t,n){if(t&1&&(r(0,"span",6),c(1," GESTION TALENTOS "),s()),t&2){let e=x(2);p("matBadge",e.cantidad)}}function K6(t,n){if(t&1){let e=E();r(0,"app-posteo",7),_("cantidad",function(o){v(e);let a=x(2);return S(a.setCantidad(o))}),s()}}function Y6(t,n){t&1&&(r(0,"mat-tab"),h(1,W6,2,1,"ng-template",4)(2,K6,1,0,"ng-template",5),s())}function X6(t,n){t&1&&(r(0,"span",8),c(1,"PERSONAS"),s())}function Z6(t,n){t&1&&C(0,"app-candidatos")}function J6(t,n){t&1&&(r(0,"mat-tab"),h(1,X6,2,0,"ng-template",4)(2,Z6,1,0,"ng-template",5),s())}function eV(t,n){t&1&&(r(0,"span",9),c(1,"REPORTES PRESTADORES DE SERVICIO"),s())}function tV(t,n){t&1&&C(0,"app-reportes-proveedor")}function iV(t,n){t&1&&(r(0,"mat-tab"),h(1,eV,2,0,"ng-template",4)(2,tV,1,0,"ng-template",5),s())}function oV(t,n){t&1&&(r(0,"span",10),c(1,"SOLICITUD DE RETIROS"),s())}function nV(t,n){t&1&&C(0,"app-retiros-base",11),t&2&&p("idResourceOrigin","REC006")}var W_=(()=>{class t{constructor(e){this.loginService=e,this.title="Proveedores"}setCantidad(e){this.cantidad=e}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-aliado"]],decls:10,vars:3,consts:[[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["id","tabRequestPostsByProvider","matTooltip","Administraci\xF3n de talentos","matBadgeColor","warn",3,"matBadge"],[3,"cantidad"],["id","tabCandidatePerson","matTooltip","Men\xFA 2"],["matTooltip","Reportes"],["matTooltip","Retiros"],["rol","proveedor",3,"idResourceOrigin"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-tab-group",2),h(3,Y6,3,0,"mat-tab",3)(4,J6,3,0,"mat-tab",3),c(5,"\xA8 "),h(6,iV,3,0,"mat-tab",3),r(7,"mat-tab"),h(8,oV,2,0,"ng-template",4)(9,nV,1,1,"ng-template",5),s()()()()),i&2&&(m(3),p("ngIf",o.loginService.validateModule("SM31")),m(),p("ngIf",o.loginService.validateModule("SM32")),m(2),p("ngIf",o.loginService.validateModule("SM33")))},dependencies:[gi,Ei,_i,Ci,bi,oe,Zo,V,Mn,U_,$_,Q_],styles:[".maintable[_ngcontent-%COMP%]{padding:10px}  .mat-mdc-tab-header{background-color:#2c2a29}  .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}  .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();var aV=()=>[6,10,100,1e3];function rV(t,n){t&1&&(r(0,"th",28),c(1," Id ingreso "),s())}function sV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idIngreso," ")}}function lV(t,n){t&1&&(r(0,"th",28),c(1," Nombre "),s())}function cV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.personaCandidato,"")}}function mV(t,n){t&1&&(r(0,"th",28),c(1," Empresa "),s())}function dV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.empresa," ")}}function pV(t,n){t&1&&(r(0,"th",28),c(1," Concepto "),s())}function uV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.concepto==""?"PENDIENTE":e.concepto," ")}}function fV(t,n){t&1&&(r(0,"th",28),c(1," Observaciones "),s())}function hV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.observacion," ")}}function gV(t,n){t&1&&(r(0,"th",28),c(1," Fecha asignacion "),s())}function _V(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaAsignacion," ")}}function CV(t,n){t&1&&(r(0,"th",28),c(1," Persona asignada "),s())}function bV(t,n){if(t&1&&(r(0,"td",29),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.personaProceso," ")}}function vV(t,n){t&1&&(r(0,"th",30),c(1,"Acciones"),s())}function SV(t,n){if(t&1){let e=E();r(0,"td",29)(1,"button",31)(2,"mat-icon"),c(3,"more_vert"),s()(),r(4,"mat-menu",null,1)(6,"button",32),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.openEvaluacionesDialog(o,"ver-evaluaciones"))}),r(7,"mat-icon",33),c(8,"view_list"),s(),r(9,"span"),c(10,"Ver evaluaciones"),s()(),r(11,"button",34),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.asignarAdmProveedor(o))}),r(12,"mat-icon",33),c(13,"fingerprint"),s(),r(14,"span"),c(15,"Asignar"),s()(),r(16,"button",35),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.detalleHojaVida(o))}),r(17,"mat-icon",33),c(18,"recent_actors"),s(),r(19,"span"),c(20,"Hoja de vida"),s()()()()}if(t&2){let e=re(5);m(),p("matMenuTriggerFor",e)}}function yV(t,n){t&1&&C(0,"tr",36)}function xV(t,n){t&1&&C(0,"tr",37)}function wV(t,n){if(t&1&&(r(0,"table",14),F(1,15),h(2,rV,2,0,"th",16)(3,sV,2,1,"td",17),R(),F(4,18),h(5,lV,2,0,"th",16)(6,cV,2,1,"td",17),R(),F(7,19),h(8,mV,2,0,"th",16)(9,dV,2,1,"td",17),R(),F(10,20),h(11,pV,2,0,"th",16)(12,uV,2,1,"td",17),R(),F(13,21),h(14,fV,2,0,"th",16)(15,hV,2,1,"td",17),R(),F(16,22),h(17,gV,2,0,"th",16)(18,_V,2,1,"td",17),R(),F(19,23),h(20,CV,2,0,"th",16)(21,bV,2,1,"td",17),R(),F(22,24),h(23,vV,2,0,"th",25)(24,SV,21,1,"td",17),R(),h(25,yV,1,0,"tr",26)(26,xV,1,0,"tr",27),s()),t&2){let e=x();p("dataSource",e.dataSource),m(25),p("matHeaderRowDef",e.displayedColumns),m(),p("matRowDefColumns",e.displayedColumns)}}var K_=(()=>{class t{constructor(e,i,o,a,l){this.posteoProveedorService=e,this.dialog=i,this.loginService=o,this.personaService=a,this._snackBar=l,this.filtroFormControl=new O("",[]),this.displayedColumns=["idIngreso","nombre","empresa","observaciones","concepto","fechaEsperadaAsignacion","personaProceso","acciones"]}ngOnInit(){this.getCandidatosPendientes()}getCandidatosPendientes(){this.posteoProveedorService.getCandidatosPendientes().subscribe(e=>{this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openEvaluacionesDialog(e,i){let o=this.loginService.getData();o.title="Evaluaciones: ",o.user=e,o.tipo=i,this.dialog.open(Pn,{data:o}).afterClosed().subscribe(l=>{this.ngOnInit()})}detalleHojaVida(e){e.mode="select",e.title="Hoja de vida: ",this.dialog.open(lr,{maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.ngOnInit()})}asignarAdmProveedor(e){let i;this.personaService.getAdmProveedores().subscribe(o=>{o&&(i=o.map(l=>({id:l.idPersona,valor:l.nombre})),i.title="Asignar administrador de proveedores",i.boton="Asignar",i.campo="Persona",this.dialog.open(Df,{width:"500px",data:i}).afterClosed().subscribe(l=>{l&&this.posteoProveedorService.updateAsignacionASolicitud(e.idPosteoProveedor,l.data).subscribe(d=>{d.error?this.showMessage(d.error):this.showMessage(d.response),this.ngOnInit()}),this.ngOnInit()}))})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Tn),g(Z),g(he),g(ot),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-candidatos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:16,vars:4,consts:[["inputstring",""],["menu","matMenu"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","filter"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchCandidate","type","outline","size","small","customIcon","search",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],[3,"pageSizeOptions"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idIngreso"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","empresa"],["matColumnDef","concepto"],["matColumnDef","observaciones"],["matColumnDef","fechaEsperadaAsignacion"],["matColumnDef","personaProceso"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Acciones","aria-label","Menu detallado",1,"bc-button-icon",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","ver-evaluaciones","matTooltip","Ver evaluaciones",3,"click"],[1,"color-icon"],["mat-menu-item","","aria-label","Asignar","matTooltip","Asignar",3,"click"],["mat-menu-item","","aria-label","Hoja_de_vida","matTooltip","Hoja de vida",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",8)(11,"bc-form-field",9)(12,"bc-icon-button",10),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()()()(),r(13,"div",11),h(14,wV,27,3,"table",12),C(15,"mat-paginator",13),s()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(8),p("ngIf",o.dataSource),m(),p("pageSizeOptions",Te(3,aV)))},dependencies:[X,Po,To,Do,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:25%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}  .mat-menu-panel{overflow:hidden!important}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}"]})}}return t})();var bo=class{constructor(n,e,i,o,a,l){this.idCategoria=n,this.categoria=e,this.dsCategoria=i,this.descDetCatePpal=o,this.persona=a,this.estado=l}};var Vn=class{constructor(){}};var Nn=class{constructor(){}};var qc=class{constructor(){}};var Y_=(()=>{class t{constructor(e,i){this.httpClient=e,this.configService=i,this.urlGetObservacion="/observacioncategoria/get-observaciones-categoria",this.urlAddObservacion="/observacioncategoria/add-observaciones"}getObservacionesByCategoria(e){let i=new be().set("idCategoria",e);return this.httpClient.get(this.configService.settings.apiUrl+this.urlGetObservacion,{params:i})}addObservacion(e){return this.httpClient.post(this.configService.settings.apiUrl+this.urlAddObservacion,e)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yr=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetConocimientosCategoria="/conocimientocategoria/getconocimientoscategoria",this.urlConocimientosNoSeleccionadosCategoria="/conocimientocategoria/getconocimientocategorianoseleccionados",this.urlGetConocimientoCategoria="/conocimientocategoria/getconocimientocategoria",this.urlAddConocimientoCategoria="/conocimientocategoria/add",this.urlAddConocimientosCategorias="/conocimientocategoria/add-multiple",this.urlUpdateConocimientoCategoria="/conocimientocategoria/update",this.urlDeleteConocimientoCategoria="/conocimientocategoria/delete"}getConocimientos(e){let i=new be().set("idCategoria",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetConocimientosCategoria,{params:i})}getConocimientosNoSeleccionadosCategoria(e){let i=new be().set("idCategoria",e);return this.http.get(this.configService.settings.apiUrl+this.urlConocimientosNoSeleccionadosCategoria,{params:i})}getConocimientoCategoria(e){let i=new be().set("idConocimientoCategoria",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetConocimientoCategoria,{params:i})}addConocimientoCategoria(e){return this.http.post(this.configService.settings.apiUrl+this.urlAddConocimientoCategoria,e)}addConocimientosCategorias(e){return this.http.post(this.configService.settings.apiUrl+this.urlAddConocimientosCategorias,e)}updateConocimientoCategoria(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateConocimientoCategoria,e)}deleteConocimientosCategoria(e){return this.http.request("delete",this.configService.settings.apiUrl+this.urlDeleteConocimientoCategoria,{body:e})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IV(t,n){if(t&1&&(r(0,"bc-form-field",7),C(1,"bc-input-select",19),s()),t&2){let e=x();m(),p("formatType",e.formatType)("values",e.nivelValues)}}function TV(t,n){t&1&&(r(0,"div",3)(1,"bc-form-field"),C(2,"textarea",20),r(3,"label",21),c(4,"Descripci\xF3n detallada de la Categoria"),s()()())}function PV(t,n){t&1&&(r(0,"span",26),c(1,"Obligatorio"),s())}function DV(t,n){if(t&1&&(r(0,"div",7)(1,"bc-form-field",23),C(2,"bc-input-select",24),h(3,PV,2,0,"span",25),s()()),t&2){let e=x(2);m(2),p("formatType",e.formatType)("values",e.optionItems)("filter",!0),m(),p("ngIf",e.data.tipo=="add")}}function FV(t,n){t&1&&(r(0,"div",7)(1,"bc-form-field"),C(2,"input",27),r(3,"label",28),c(4,"Nombre de la Subcategoria Nivel 1 "),s(),r(5,"span"),c(6,"Obligatorio"),s()()())}function RV(t,n){if(t&1){let e=E();r(0,"bc-checkbox",32),_("change",function(o){v(e);let a=x(3);return S(a.isSubLvlDontApply(o))}),s()}}function kV(t,n){if(t&1&&(r(0,"div",7)(1,"bc-form-field"),C(2,"input",29),r(3,"label",30),c(4,"Nombre de la Subcategoria Nivel 2 "),s(),r(5,"span"),c(6,"Obligatorio"),s()(),h(7,RV,1,0,"bc-checkbox",31),s()),t&2){let e=x(2);m(7),p("ngIf",e.nivelCategoria.value=="CategoriaPadre"||e.nivelCategoria.value=="SubcategoriaN1")}}function AV(t,n){if(t&1&&(r(0,"div",22),h(1,DV,4,4,"div",6)(2,FV,7,0,"div",6)(3,kV,8,1,"div",6),s()),t&2){let e=x();m(),p("ngIf",e.categoriaForm.controls.nivelCategoria.value!="CategoriaPadre"),m(),p("ngIf",e.nivelCategoria.value=="CategoriaPadre"&&e.data.tipo=="add"),m(),p("ngIf",e.nivelCategoria.value!="SubcategoriaN2"&&e.data.tipo=="add")}}function OV(t,n){t&1&&(r(0,"span",26),c(1,"Obligatorio"),s())}function VV(t,n){t&1&&(r(0,"span",26),c(1,"Selecciona un tipo de conocimiento"),s())}function NV(t,n){if(t&1){let e=E();r(0,"div",45)(1,"button",46),_("click",function(){let o=v(e).$implicit,a=x(3);return S(a.removeSelectedKnowledge(o.idConocimiento))}),c(2),r(3,"bc-icon",47),c(4,"error"),s()()()}if(t&2){let e=n.$implicit;m(),vt("bcTooltipText",e.nombreConocimiento),m(),T(" ",e.nombreConocimiento," ")}}function BV(t,n){if(t&1){let e=E();r(0,"div",41)(1,"div",42)(2,"bc-form-field",23)(3,"bc-input-select",43),_("ngModelChange",function(){v(e);let o=x(2);return S(o.addSelectedKnowledge(o.selectedKnowledge.value))}),s(),h(4,VV,2,0,"span",25),s()(),r(5,"div",36)(6,"bc-icon-button",37),_("click",function(){v(e);let o=x(2);return S(o.resetSelectedKnowledge())}),s()(),r(7,"div",41),h(8,NV,5,2,"div",44),s()()}if(t&2){let e=x(2);m(3),p("formControl",e.selectedKnowledge)("formatType",e.formatType)("values",e.optionsConocimiento)("filter",!0),m(),p("ngIf",!e.tipoConocimiento.value),m(2),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","refresh"),m(2),p("ngForOf",e.categoriaForm.controls.idConocimientos.value)}}function LV(t,n){if(t&1){let e=E();r(0,"div",45)(1,"button",52),_("click",function(){let o=v(e).$implicit,a=x(3);return S(a.removeSelectedEvaluation(o.idEvaluacion))}),c(2),r(3,"bc-icon",47),c(4,"error"),s()()()}if(t&2){let e=n.$implicit;m(2),T(" ",e.dsEvaluacion," ")}}function jV(t,n){if(t&1){let e=E();r(0,"div",48)(1,"div",42)(2,"bc-form-field",23)(3,"bc-input-select",49),_("ngModelChange",function(){v(e);let o=x(2);return S(o.addSelectedEvaluation(o.selectedEvaluation.value))}),s()()(),r(4,"div",36)(5,"button",50)(6,"bc-icon",51),_("click",function(){v(e);let o=x(2);return S(o.resetSelectedEvaluation())}),c(7,"refresh"),s()()(),r(8,"div",41),h(9,LV,5,1,"div",44),s()()}if(t&2){let e=x(2);m(3),p("formControl",e.selectedEvaluation)("formatType",e.formatType)("values",e.optionsEvaluacion)("filter",!0),m(6),p("ngForOf",e.categoriaForm.controls.evaluaciones.value)}}function zV(t,n){if(t&1){let e=E();r(0,"div")(1,"div",33)(2,"div",34)(3,"bc-form-field",23)(4,"bc-input-select",35),h(5,OV,2,0,"span",25),s()()(),r(6,"div",36)(7,"bc-icon-button",37),_("click",function(){v(e);let o=x();return S(o.resetOwner())}),s()(),r(8,"div",34)(9,"bc-form-field")(10,"bc-input-select",38),_("ngModelChange",function(){v(e);let o=x();return S(o.cargarConocimientos())}),s()()()(),h(11,BV,9,11,"div",39)(12,jV,10,5,"div",40),s()}if(t&2){let e=x();m(4),p("formatType",e.formatType)("values",e.optionsOwner)("filter",!0),m(),p("ngIf",e.nivelCategoria.value=="SubcategoriaN2"),m(2),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","refresh"),m(3),p("formatType",e.formatType)("values",e.optionTypesKnowledge),m(),p("ngIf",e.tipoConocimiento.value||e.idConocimientos.value),m(),p("ngIf",e.data.tipo=="edit")}}function HV(t,n){t&1&&(r(0,"div",53)(1,"div",3)(2,"bc-form-field"),C(3,"textarea",54),r(4,"label",55),c(5,"Observaciones"),s()()()())}var Cp=(()=>{class t{constructor(e,i,o,a,l,d,u,f,b,y,w,M){this.fb=e,this.dialogRef=i,this.data=o,this.categoriaService=a,this._snackBar=l,this.loginService=d,this.conocimientosService=u,this.personaService=f,this.evaluacionesService=b,this.observacionService=y,this.conocimientoCategoriaService=w,this.categoriaEvaluacionService=M,this.noAplicaSubNivel2=!1,this.optionItems=[],this.optionsConocimiento=[],this.optionsOwner=[],this.optionTypesKnowledge=[],this.optionsEvaluacion=[],this.formatType="simple",this.tipoConocimientoLast="N/A",this.conocimientosLast=[],this.conocimientosAdd=[],this.conocimientosRemove=[],this.evaluacionesLast=[],this.selectedKnowledge=new O("N/A"),this.selectedEvaluation=new O("N/A"),this.nivelValues=[{label:"Categor\xEDa Principal",value:"CategoriaPadre"},{label:"Categoria Nivel 1",value:"SubcategoriaN1"},{label:"Categoria Nivel 2",value:"SubcategoriaN2"}],this.categoriaForm=this.fb.group({dsCategoria:["",[A.required]],idCategoriaPadre:["",[]],dsSubcategorias:this.fb.array([]),idSubcategoriaN1:["",[]],dsSubcategoriaN1:["",[]],idSubcategoriaN2:["",[]],dsSubcategoriaN2:["",[]],descDetCatePpal:["",[]],idConocimientos:[[],[]],nivelCategoria:["",[A.required]],owner:["",[]],tipoConocimiento:["",[]],observation:["",[]],evaluaciones:[[],[]]})}ngOnInit(){this.setupConditionalValidation(),this.cargarCategorias(),this.cargarLideres(),this.cargarTiposConocimiento()}setupConditionalValidation(){let e=this.categoriaForm.get("nivelCategoria");e.valueChanges.subscribe(i=>{let o=this.categoriaForm.get("idCategoriaPadre"),a=this.categoriaForm.get("owner"),l=this.categoriaForm.get("dsSubcategoriaN1"),d=this.categoriaForm.get("dsSubcategoriaN2");o.clearValidators(),a.clearValidators(),l.clearValidators(),d.clearValidators(),i==="SubcategoriaN1"?o.setValidators([A.required]):i==="SubcategoriaN2"?(o.setValidators([A.required]),a.setValidators([A.required])):i==="CategoriaPadre"&&(l.setValidators([A.required]),this.noAplicaSubNivel2?d.clearValidators():d.setValidators([A.required])),o.updateValueAndValidity({emitEvent:!1}),a.updateValueAndValidity({emitEvent:!1}),l.updateValueAndValidity({emitEvent:!1}),d.updateValueAndValidity({emitEvent:!1})}),e.updateValueAndValidity({emitEvent:!0})}cargarCategorias(){this.categoriaService.getCategorias().subscribe(e=>{e&&this.mostrarCategorias(e)}),this.data.tipo=="edit"&&(this.nivelCategoria.clearValidators(),this.categoriaForm.addControl("evaluaciones",new O([],[])),this.cargarCategoria(this.data.idCategoria),this.cargarEvaluaciones())}mostrarCategorias(e){this.data.tipo=="add"&&e.unshift({idCategoria:"N/A",dsCategoria:"N/A"}),this.optionItems=e.map(i=>({value:{idCategoria:i.idCategoria,categoria:i.categoria,dsCategoria:i.dsCategoria,descDetCatePpal:i.descDetCatePpal,owner:i.owner,estado:i.estado},label:i.dsCategoria}))}cargarCategoria(e){this.categoriaService.getCategoria(e).subscribe(i=>{this.categoryResult=i,this.dsCategoria.setValue(i.dsCategoria),this.categoryResult.idCategoriaPadre==e?(this.descDetCatePpal.setValue(this.categoryResult.descDetCatePpal),this.nivelCategoria.setValue("CategoriaPadre")):(this.idCategoriaPadre.setValue({idCategoria:this.categoryResult.idCategoriaPadre,dsCategoria:this.categoryResult.dsCategoriaPadre}),this.optionItems.unshift({value:this.idCategoriaPadre.value,label:this.idCategoriaPadre.value.dsCategoria}),this.nivelCategoria.setValue("SubcategoriaN2")),this.owner.setValue({idPersona:this.categoryResult.idPersona,nombre:this.categoryResult.nombrePersona,apellido1:this.categoryResult.lastnameOnePersona,apellido2:this.categoryResult.lastnameTwoPersona}),this.estado=this.categoryResult.estado,this.categoriaEvaluacionService.getGetEvaluationByCategory(e).subscribe(o=>{o.statusCode==200&&o.body.data!=null&&(this.categoriaForm.controls.evaluaciones.setValue(o.body.data.evaluacions),this.evaluacionesLast=o.body.data.evaluacions.slice())}),this.conocimientoCategoriaService.getConocimientos(e).subscribe(o=>{o&&(this.idConocimientos.setValue(o),this.conocimientosLast=o.slice())}),this.observacionService.getObservacionesByCategoria(e).subscribe(o=>{let a="";o&&o.body.data.objects&&o.body.data.objects.length>0&&(a=o.body.data.objects.slice(-1)[0].dsObservacionCategoria,this.observation.setValue(a))})},i=>{console.error("Error al cargar la categor\xEDa:",i)})}cargarConocimientos(){this.tipoConocimiento.value!=this.tipoConocimientoLast&&this.conocimientosService.getKnowledgeByType(this.tipoConocimiento.value.idTipoConocimiento).subscribe(e=>{this.optionsConocimiento=e.body.data.objects.map(i=>({value:i,label:i.nombreConocimiento})),this.data.tipo=="edit"&&this.idConocimientos.value&&(this.optionsConocimiento=this.optionsConocimiento.filter(i=>!this.idConocimientos.value.some(o=>o.idConocimiento===i.value.idConocimiento)))}),this.tipoConocimientoLast=this.tipoConocimiento.value}cargarLideres(){this.personaService.getLeaders().subscribe(e=>{this.optionsOwner=e.body.data.objects.map(i=>({value:{idPersona:i.personId,nombre:i.personName,apellido1:i.lastNameOne,apellido2:i.lastNameTwo},label:i.lastNameOne+" "+i.lastNameTwo+" "+i.personName})),this.data.tipo=="edit"&&this.owner.value.nombre!=null&&this.optionsOwner.unshift({value:this.owner.value,label:this.owner.value.nombre+" "+this.owner.value.apellido1+" "+this.owner.value.apellido2})})}cargarTiposConocimiento(){this.conocimientosService.getAllKnowledgeTypes().subscribe(e=>{this.optionTypesKnowledge=e.body.data.objects.map(i=>({value:{idTipoConocimiento:i.idTipoConocimiento,dsTipoConocimiento:i.dsTipoConocimiento},label:i.dsTipoConocimiento}))})}cargarEvaluaciones(){this.evaluacionesService.getEvaluaciones(null,null,null).subscribe(e=>{e.body.data.testsList&&e.body.data.testsList.length>0&&(this.optionsEvaluacion=e.body.data.testsList.map(i=>({value:{idEvaluacion:i.idEvaluacion,dsEvaluacion:i.dsEvaluacion,linkEvaluacion:i.linkEvaluacion},label:i.dsEvaluacion})),this.categoriaForm.controls.evaluaciones.value&&(this.optionsEvaluacion=this.optionsEvaluacion.filter(i=>!this.categoriaForm.controls.evaluaciones.value.some(o=>o.idEvaluacion===i.value.idEvaluacion))))})}onSubmit(){this.categoriaForm.valid&&(this.data.tipo=="add"?this.addCategoria():this.data.tipo=="edit"&&this.updateCategoria())}addCategoria(){let e=[];if(this.idConocimientos.value.length>0){let l=!1,d=(this.dsSubcategoriaN1.value??"").trim(),u=(this.dsSubcategoriaN2.value??"").trim();switch(this.nivelCategoria.value){case"CategoriaPadre":(d.length>0&&u.length>0||this.noAplicaSubNivel2)&&(l=!0);break;case"SubcategoriaN1":(this.dsSubcategoriaN2.value.length>0||this.noAplicaSubNivel2)&&(l=!0);break;case"SubcategoriaN2":l=!0;break;default:this.noAplicaSubNivel2&&(l=!0);break}l?this.owner.value?this.estado="A":this.estado="D":this.estado="D"}else this.estado="D";let i=new bo(null,null,this.dsCategoria.value,this.descDetCatePpal.value,null,this.estado),o=new bo(null,this.nivelCategoria.value=="SubcategoriaN1"?this.idCategoriaPadre.value:i,this.nivelCategoria.value=="SubcategoriaN1"?this.dsCategoria.value:this.dsSubcategoriaN1.value,this.nivelCategoria.value=="SubcategoriaN1"?this.idCategoriaPadre.value.descDetCatePpal:i.descDetCatePpal,this.owner.value&&(this.dsSubcategoriaN1.value||this.nivelCategoria.value=="SubcategoriaN1")?this.owner.value:null,this.estado),a=new bo(null,this.nivelCategoria.value=="SubcategoriaN2"?this.idCategoriaPadre.value:o,this.nivelCategoria.value=="SubcategoriaN2"?this.dsCategoria.value:this.dsSubcategoriaN2.value,this.nivelCategoria.value=="SubcategoriaN2"?this.idCategoriaPadre.value.descDetCatePpal:i.descDetCatePpal,this.owner.value&&(this.dsSubcategoriaN2.value||this.nivelCategoria.value=="SubcategoriaN2")?this.owner.value:null,this.estado);this.nivelCategoria.value=="CategoriaPadre"?e.push(i,this.dsSubcategoriaN1.value?o:null,this.dsSubcategoriaN2.value&&this.dsSubcategoriaN2.value!="N/A"?a:null):this.nivelCategoria.value=="SubcategoriaN1"?e.push(o,this.dsSubcategoriaN2.value&&this.dsSubcategoriaN2.value!="N/A"?a:null):e.push(a),this.categoriaService.addCategoria(e,this.idConocimientos.value.length>0).subscribe(l=>{l.body.data.error?this.showMessage(l.body.data.error):(this.idConocimientos.value&&this.addConocimientos(l.body.data.idSubcategoria,this.idConocimientos.value),this.observation.value&&this.addObservaciones(l.body.data.idSubcategoria),this.showMessage(l.body.data.response),this.dialogRef.close())})}addConocimientos(e,i){let o=[],a=new bo(e,null,null,null,null,null);for(let l of i){let d=new Vn;d.categoria=a,d.conocimiento=new Nn,d.conocimiento.idConocimiento=l.idConocimiento,d.conocimiento.dsConocimiento=l.dsConocimiento,d.conocimiento.nombreConocimiento=l.nombreConocimiento,o.push(d)}this.conocimientoCategoriaService.addConocimientosCategorias(o).subscribe(l=>{this.dialogRef.close()})}addEvaluaciones(e,i){let o={categoryId:e,evaluacions:i};this.categoriaEvaluacionService.createEvaluation(o).subscribe(a=>{this.dialogRef.close()})}addObservaciones(e){let i=new qc;i.dsObservacionCategoria=this.observation.value,i.idCategoria=e,i.idPersona=this.loginService.getData().idPersona,this.observacionService.addObservacion(i).subscribe(o=>{this.dialogRef.close()})}updateCategoria(){this.nivelCategoria.value=="SubcategoriaN2"&&this.idCategoriaPadre.value.idCategoria&&this.owner.value.idPersona&&this.idConocimientos.value&&this.categoriaForm.controls.evaluaciones.value?this.estado="A":this.nivelCategoria.value=="CategoriaPadre"&&this.descDetCatePpal.value?this.estado="A":this.estado="D";let e=new bo(this.data.idCategoria,this.idCategoriaPadre.value.idCategoria?new bo(this.idCategoriaPadre.value.idCategoria,null,null,null,null,this.estado):null,this.dsCategoria.value,this.descDetCatePpal.value,this.owner.value.idPersona?this.owner.value:null,this.estado);this.categoriaService.updateCategoria(e,this.idConocimientos.value.length>0).subscribe(i=>{i.error?this.showMessage(i.error):(this.idConocimientos.value&&this.updateConocimientos(this.data.idCategoria),this.categoriaForm.controls.evaluaciones.value&&this.updateEvaluaciones(this.data.idCategoria),this.observation.value&&this.addObservaciones(this.data.idCategoria),this.showMessage(i.response),this.dialogRef.close())})}updateConocimientos(e){let i;if(this.conocimientosLast){let o=this.conocimientosLast.filter(a=>!this.idConocimientos.value.includes(a));o&&this.removeConocimientos(e,o),i=this.idConocimientos.value.filter(a=>!this.conocimientosLast.includes(a))}else i=this.idConocimientos.value.slice();i&&this.addConocimientos(e,i)}removeConocimientos(e,i){let o=[],a=new bo(e,null,null,null,null,null);for(let l of i){let d=new Vn;d.categoria=a,d.conocimiento=new Nn,d.conocimiento.idConocimiento=l.idConocimiento,d.conocimiento.dsConocimiento=l.dsConocimiento,d.conocimiento.nombreConocimiento=l.nombreConocimiento,o.push(d)}this.conocimientoCategoriaService.deleteConocimientosCategoria(o).subscribe(l=>{this.dialogRef.close()})}updateEvaluaciones(e){let i;if(this.evaluacionesLast){let o=this.evaluacionesLast.filter(a=>!this.categoriaForm.controls.evaluaciones.value.includes(a));o&&this.removeEvaluaciones(e,o),i=this.categoriaForm.controls.evaluaciones.value.filter(a=>!this.evaluacionesLast.includes(a))}else i=this.categoriaForm.controls.evaluaciones.value.slice();i&&this.addEvaluaciones(e,i)}removeEvaluaciones(e,i){this.categoriaEvaluacionService.removeCategoriaEvaluacion(e,i).subscribe(o=>{this.dialogRef.close()})}get dsCategoria(){return this.categoriaForm.get("dsCategoria")}get idCategoriaPadre(){return this.categoriaForm.get("idCategoriaPadre")}get dsSubcategorias(){return this.categoriaForm.get("dsSubcategorias")}get idSubcategoriaN1(){return this.categoriaForm.get("idSubcategoriaN1")}get dsSubcategoriaN1(){return this.categoriaForm.get("dsSubcategoriaN1")}get idSubcategoriaN2(){return this.categoriaForm.get("idSubcategoriaN2")}get dsSubcategoriaN2(){return this.categoriaForm.get("dsSubcategoriaN2")}get descDetCatePpal(){return this.categoriaForm.get("descDetCatePpal")}get idConocimientos(){return this.categoriaForm.get("idConocimientos")}get nivelCategoria(){return this.categoriaForm.get("nivelCategoria")}get owner(){return this.categoriaForm.get("owner")}get tipoConocimiento(){return this.categoriaForm.get("tipoConocimiento")}get observation(){return this.categoriaForm.get("observation")}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}addSelectedKnowledge(e){this.idConocimientos.value.every(i=>i!==e)&&e!=="N/A"&&(this.optionsConocimiento=this.optionsConocimiento.filter(i=>i.value!==e),this.idConocimientos.value.push(e))}resetSelectedKnowledge(){this.idConocimientos.value=[],this.cargarConocimientos()}resetOwner(){this.owner.setValue(null),this.categoriaForm.controls.owner.reset()}removeSelectedKnowledge(e){this.idConocimientos.value=this.idConocimientos.value.filter(i=>i.idConocimiento!==e),this.cargarConocimientos()}addSelectedEvaluation(e){this.categoriaForm.controls.evaluaciones.value.every(i=>i!==e)&&e!=="N/A"&&(this.optionsEvaluacion=this.optionsEvaluacion.filter(i=>i.value!==e),this.categoriaForm.controls.evaluaciones.value.push(e))}resetSelectedEvaluation(){this.categoriaForm.controls.evaluaciones.setValue([]),this.cargarEvaluaciones()}removeSelectedEvaluation(e){this.categoriaForm.controls.evaluaciones.setValue(this.categoriaForm.controls.evaluaciones.value.filter(i=>i.idEvaluacion!==e)),this.cargarEvaluaciones()}onCancelButton(){this.dialogRef.close()}isSubLvlDontApply(e){e.srcElement.checked?(this.noAplicaSubNivel2=!0,this.dsSubcategoriaN2.setValue("N/A"),this.dsSubcategoriaN2.disable()):(this.noAplicaSubNivel2=!1,this.dsSubcategoriaN2.setValue(null),this.dsSubcategoriaN2.enable())}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(In),g(K),g(he),g(lo),g(ot),g(Yo),g(Y_),g(yr),g(gr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-categoria"]],decls:27,vars:8,consts:[["submitButton",""],[1,"container-fluid","overflow-auto"],[1,"row","align-items-start"],[1,"col-12"],["mat-dialog-title",""],[3,"formGroup"],["class","col-6",4,"ngIf"],[1,"col-6"],["bc-input","","type","text","id","nombreCategoria","state","default","formControlName","dsCategoria","required",""],["for","nombreCategoria"],[1,"row","align-items","start","my-1"],["class","col-12",4,"ngIf"],["class","row align-items-start my-1",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row","align-items-start","my-3"],[1,"col-4"],["bc-button","","sizeButton","small","type","submit",3,"click","disabled"],["bc-button","","sizeButton","small",1,"bc-button-small","bc-button-secondary",3,"click"],["componentId","opcionNivelCategoria","formControlName","nivelCategoria","label","Nivel de la Categoria","span","Obligatorio",3,"formatType","values"],["bc-input","","type","text","id","descdetcateppal","state","default","formControlName","descDetCatePpal"],["for","descdetcateppal"],[1,"row","align-items-start","my-1"],[1,"example-full-width"],["formControlName","idCategoriaPadre","label","Categoria Padre",3,"formatType","values","filter"],["class","text-small",4,"ngIf"],[1,"text-small"],["bc-input","","type","text","id","nombreSubcategoriaN1","state","default","formControlName","dsSubcategoriaN1"],["for","nombreSubcategoriaN1"],["bc-input","","type","text","id","nombreSubcategoriaN2","state","default","formControlName","dsSubcategoriaN2"],["for","nombreSubcategoriaN2"],["class","col-6 offset-5","label","NO APLICA",3,"change",4,"ngIf"],["label","NO APLICA",1,"col-6","offset-5",3,"change"],[1,"row","my-4"],[1,"col-5"],["formControlName","owner","label","Due\xF1o de la Categoria",3,"formatType","values","filter"],[1,"col-2","col-sm-1","my-3"],[3,"click","type","color","shadow","size","customIcon"],["formControlName","tipoConocimiento","label","Tipo de Conocimiento",3,"ngModelChange","formatType","values"],["class","row my-2",4,"ngIf"],["class","row my-1",4,"ngIf"],[1,"row","my-2"],[1,"col-7"],["label","Conocimientos asociados","span","Selecci\xF3n m\xFAltiple",3,"ngModelChange","formControl","formatType","values","filter"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],["bc-button","","typeButton","ghost","sizeButton","small","bc-tooltip","","bcTooltipPosition","left",1,"text-truncate",3,"click","bcTooltipText"],["width","40"],[1,"row","my-1"],["label","Evaluaciones asociadas","span","Selecci\xF3n m\xFAltiple",3,"ngModelChange","formControl","formatType","values","filter"],["bc-button-icon",""],["size","st","aria-hidden","true","aria-label","icono",3,"click"],["bc-button","","typeButton","ghost","sizeButton","small",1,"text-truncate",3,"click"],[1,"row"],["bc-input","","id","observacion","type","text","state","default","formControlName","observation","cols","30","rows","10"],["for","observacion"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()()(),r(5,"form",5)(6,"div",2),h(7,IV,2,2,"bc-form-field",6),r(8,"bc-form-field",7),C(9,"input",8),r(10,"label",9),c(11,"Nombre de la Categoria"),s(),r(12,"span"),c(13,"Obligatorio"),s()(),r(14,"div",10),h(15,TV,5,0,"div",11),s(),h(16,AV,4,3,"div",12)(17,zV,13,13,"div",13)(18,HV,6,0,"div",14),s(),r(19,"div",15)(20,"div",16)(21,"button",17,0),_("click",function(){return v(a),S(o.onSubmit())}),c(23,"Guardar"),s()(),r(24,"div",16)(25,"button",18),_("click",function(){return v(a),S(o.onCancelButton())}),c(26,"Cancelar"),s()()()()()}i&2&&(m(4),I(o.data.title),m(),p("formGroup",o.categoriaForm),m(2),p("ngIf",o.data.tipo=="add"),m(8),p("ngIf",o.nivelCategoria.value=="CategoriaPadre"),m(),p("ngIf",o.nivelCategoria.value),m(),p("ngIf",o.data.tipo=="add"&&o.nivelCategoria.value||o.data.tipo=="edit"&&o.nivelCategoria.value!="CategoriaPadre"),m(),p("ngIf",o.nivelCategoria.value||o.data.tipo=="edit"),m(3),p("disabled",o.categoriaForm.invalid))},dependencies:[le,ae,V,Ye,q,H,Ke,At,G,Je,ni,kt,Qt,te,ee,Me,It,Wo,fe],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.hide[_ngcontent-%COMP%]{display:none!important}.text-small[_ngcontent-%COMP%]{font-size:smaller}.restore_knowledges_category[_ngcontent-%COMP%]{display:flex}"]})}}return t})();var GV=t=>({ex3:t});function UV(t,n){if(t&1&&(r(0,"mat-hint",19),c(1),s()),t&2){let e=x();m(),I(e.textMessageEvaluation)}}function $V(t,n){if(t&1&&(r(0,"mat-option",20),c(1),s()),t&2){let e=n.$implicit;p("id","evaluationOption-"+e.idEvaluacion)("value",e),m(),T(" ",e.dsEvaluacion," ")}}function QV(t,n){if(t&1){let e=E();r(0,"mat-list",21)(1,"mat-list-item",22)(2,"div",23),c(3),s(),r(4,"div",13)(5,"mat-icon",24),_("click",function(){let o=v(e).$implicit,a=x();return S(a.removeEvaluation(o))}),c(6,"delete_forever"),s()()()()}if(t&2){let e=n.$implicit;m(3),T(" ",e.dsEvaluacion," "),m(2),p("id","evaluationTableElement-"+e.idEvaluacion)}}var X_=(()=>{class t{constructor(e,i,o,a,l,d){this._snackBar=e,this.dialogRef=i,this.data=o,this._evaluacionService=a,this.fb=l,this._categoriaEvaluacionService=d,this.listEvaluation=[],this.listRemoveEvaluation=[],this.showTextEvaluation=!1,this.textMessageEvaluation="resultados",this.action="create",this.buildForm()}ngOnInit(){this.filteredOptionsEvaluation$=this.evaluacionForm.controls.evaluacion.valueChanges.pipe(ho(""),Gi(200),is(e=>{let i=this.evaluacionForm.controls.evaluacion.value;return e&&typeof e=="string"?e.length>=2&&e==i?this.searchEvaluation(e):[]:ts(void 0)})),this.getCategoryEvaluation()}buildForm(){this.evaluacionForm=this.fb.group({evaluacion:[""]})}validateCode(){setTimeout(()=>{this.evaluacionForm.controls.evaluacion.value&&typeof this.evaluacionForm.controls.evaluacion.value=="string"&&this.evaluacionForm.controls.evaluacion.setValue("")},500)}getCategoryEvaluation(){this._categoriaEvaluacionService.getGetEvaluationByCategory(this.data.idCategoria).subscribe(e=>{e.statusCode==200&&(this.listEvaluation=e.body.data.evaluacions,this.listEvaluation.length>0&&(this.action="update"))})}searchEvaluation(e){return this.showTextEvaluation=!0,this.textMessageEvaluation="Buscando...",this._evaluacionService.getEvaluacionByFilter(e).pipe(eo(i=>i.statusCode==200?(i.body.data.objects.length>0?this.showTextEvaluation=!1:(this.showTextEvaluation=!0,this.textMessageEvaluation="No se encuentran resultados"),i.body.data.objects):[]),ul(i=>ts({dsEvaluacion:"",idEvaluacion:""})))}displayFnEvaluacion(e){return e&&e.dsEvaluacion?e.dsEvaluacion:""}onSubmit(){this.listEvaluation.length>0&&(this.action=="update"?this.updateEvaluation():this.createEvaluation())}updateEvaluation(){let e={categoryId:this.data.idCategoria,evaluacions:this.listEvaluation,eliminarEvaluaciones:this.listRemoveEvaluation};this._categoriaEvaluacionService.updateEvaluation(e).subscribe(i=>{i.statusCode==200?(this.showMessage(i.body.data.message),this.dialogRef.close(e.categoryId)):this.showMessage(i.body.data.message)})}createEvaluation(){let e={categoryId:this.data.idCategoria,evaluacions:this.listEvaluation};this._categoriaEvaluacionService.createEvaluation(e).subscribe(i=>{i.statusCode==200?(this.showMessage(i.body.data.message),this.dialogRef.close(e.categoryId)):this.showMessage(i.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}addEvaluacion(){if(this.evaluacionForm.controls.evaluacion.value){let e=this.evaluacionForm.controls.evaluacion.value;this.listEvaluation.find(o=>o.idEvaluacion==e.idEvaluacion)||(this.listEvaluation.push({dsEvaluacion:e.dsEvaluacion,idEvaluacion:e.idEvaluacion}),this.evaluacionForm.controls.evaluacion.setValue(""))}}removeEvaluation(e){this.listEvaluation=this.listEvaluation.filter(i=>i.idEvaluacion!=e.idEvaluacion),this.action=="update"&&this.listRemoveEvaluation.push({dsEvaluacion:e.dsEvaluacion,idEvaluacion:e.idEvaluacion})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(W),g(Y),g(Yo),g(at),g(gr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-categoria-evaluaciones"]],decls:29,vars:12,consts:[["auto","matAutocomplete"],["mat-dialog-title",""],[1,"container"],[1,"row"],[3,"ngSubmit","formGroup"],[1,"col-8"],["type","text","id","inputEvaluationSearch","optionSelected","","matInput","","formControlName","evaluacion","placeholder","Busque la Evaluaci\xF3n","refactorValue","","name","evaluacion",3,"blur","matAutocomplete"],["align","end",4,"ngIf"],[3,"displayWith"],[3,"id","value",4,"ngFor","ngForOf"],["id","addEvaluation","bc-button","","sizeButton","small","type","button",1,"bc-button-small","bc-button-primary","col-2",3,"click"],[3,"ngClass"],[1,"sub-title"],[1,"col-12"],["role","list",4,"ngFor","ngForOf"],[1,"row","justify-content-start","button"],[1,"col-6"],["type","button",1,"bc-button-small","bc-button-secondary",3,"click"],["id","saveEvaluationsCategory","type","submit",1,"bc-button-small","bc-button-primary"],["align","end"],[3,"id","value"],["role","list"],["role","listitem"],[1,"col-10"],["color","warn","matTooltip","Remover evaluacion",1,"pointer",3,"click","id"]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1),s(),r(2,"div",2)(3,"div",3)(4,"form",4),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(5,"mat-form-field",5)(6,"mat-label"),c(7,"Evaluaci\xF3n*:"),s(),r(8,"input",6),_("blur",function(){return v(a),S(o.validateCode())})("blur",function(){return v(a),S(o.validateCode())}),s(),h(9,UV,2,1,"mat-hint",7),r(10,"mat-autocomplete",8,0),h(12,$V,2,3,"mat-option",9),Mt(13,"async"),s()(),r(14,"button",10),_("click",function(){return v(a),S(o.addEvaluacion())}),c(15,"Agregar"),s(),r(16,"div",11),C(17,"hr"),r(18,"p",12),c(19,"Evaluaciones agregadas: "),s(),r(20,"div",13),h(21,QV,7,2,"mat-list",14),s()(),r(22,"div",15)(23,"div",16)(24,"button",17),_("click",function(){return v(a),S(o.onNoClick())}),c(25,"Cancelar"),s()(),r(26,"div",16)(27,"button",18),c(28,"Guardar"),s()()()()()()}if(i&2){let a=re(11);m(),T("Categoria: ",o.data.title,""),m(3),p("formGroup",o.evaluacionForm),m(4),p("matAutocomplete",a),m(),p("ngIf",o.showTextEvaluation),m(),p("displayWith",o.displayFnEvaluacion),m(2),p("ngForOf",Pi(13,8,o.filteredOptionsEvaluation$)),m(4),p("ngClass",yi(10,GV,o.listEvaluation.length>=6)),m(5),p("ngForOf",o.listEvaluation)}},dependencies:[Dl,gt,Fl,le,X,Ee,_e,ve,Fi,or,nr,oe,Ut,ae,V,Ye,q,H,Ke,Je,ni,kt,Eo],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer}div.ex3[_ngcontent-%COMP%]{width:100%;height:400px;overflow:auto}.title[_ngcontent-%COMP%]{font:100 18px/32px Roboto,Helvetica Neue,sans-serif!important;text-align:center;color:#4a4a4a}.sub-title[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}}return t})();var WV=t=>({hide:t});function KV(t,n){if(t&1&&(r(0,"mat-option",12),c(1),s()),t&2){let e=n.$implicit;p("value",e.idConocimiento)("ngClass",yi(3,WV,!e.show)),m(),T(" ",e.nombreConocimiento," ")}}function YV(t,n){t&1&&(r(0,"mat-error"),c(1," Conocimiento requerido "),s())}var bp=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.conocimientoCategoriaService=l,this.filterControl=new O,this.conocimientosCategorias=[],this.conocimientoCategoriaGroup=this.fb.group({idConocimiento:["",[A.required]]})}ngOnInit(){this.cargarConocimientos()}cargarConocimientos(){this.conocimientoCategoriaService.getConocimientosNoSeleccionadosCategoria(this.data.idCategoria).subscribe(e=>{e&&(this.conocimientosCategorias=e,this.data.tipo=="edit"&&this.cargarCategoria(this.data.idConocimientoCategoria),this.mostrarCategorias(this.conocimientosCategorias))})}mostrarCategorias(e){this.optionItems=e.map(i=>({idConocimiento:i.idConocimiento,nombreConocimiento:i.nombreConocimiento})),this.filteredOptions=this.filterControl.valueChanges.pipe(ho(""),eo(i=>(this.optionItems.forEach(o=>{o.show=o.nombreConocimiento.toLocaleLowerCase().includes(i.toLowerCase())}),this.optionItems)))}cargarCategoria(e){this.conocimientoCategoriaService.getConocimientoCategoria(e).subscribe(i=>{i&&(this.conocimientosCategorias.unshift({idConocimiento:i.idConocimiento,nombreConocimiento:i.nombreConocimiento}),this.idConocimiento.setValue(i.idConocimiento),this.mostrarCategorias(this.conocimientosCategorias))})}onSubmit(){this.conocimientoCategoriaGroup.valid&&(this.data.tipo=="add"?this.addCategoria():this.data.tipo=="edit"&&this.updateCategoria())}addCategoria(){let e=new Vn;e.categoria=new bo(this.data.idCategoria,null,null,null,null,null),e.conocimiento=new Nn,e.conocimiento.idConocimiento=this.idConocimiento.value,this.conocimientoCategoriaService.addConocimientoCategoria(e).subscribe(i=>{i.error?this.showMessage(i.error):(this.showMessage(i.response),this.dialogRef.close())})}updateCategoria(){let e=new Vn;e.categoria=new bo(this.data.idCategoria,null,null,null,null,null),e.conocimiento=new Nn,e.conocimiento.idConocimiento=this.idConocimiento.value,e.idConocimientoCategoria=this.data.idConocimientoCategoria,this.conocimientoCategoriaService.updateConocimientoCategoria(e).subscribe(i=>{i.error?this.showMessage(i.error):(this.showMessage(i.response),this.dialogRef.close())})}get idConocimiento(){return this.conocimientoCategoriaGroup.get("idConocimiento")}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(yr))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-conocimiento-categoria"]],decls:21,vars:8,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"example-full-width"],[1,"completo",3,"formControl"],["matInput","","type","text","name","filter-options","id","filter-options","placeholder","Buscar",3,"formControl"],[3,"value","ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-4"],["type","submit",1,"bc-button-small","bc-button-primary"],[3,"value","ngClass"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()()(),r(5,"form",4),_("ngSubmit",function(){return o.onSubmit()}),r(6,"div",1)(7,"div",2)(8,"mat-form-field",5)(9,"mat-label"),c(10,"Conocimiento"),s(),r(11,"mat-select",6)(12,"mat-form-field",5),C(13,"input",7),s(),h(14,KV,2,5,"mat-option",8),Mt(15,"async"),s(),h(16,YV,2,0,"mat-error",9),s()()(),r(17,"div",1)(18,"div",10)(19,"button",11),c(20,"Guardar"),s()()()()()),i&2&&(m(4),I(o.data.title),m(),p("formGroup",o.conocimientoCategoriaGroup),m(6),p("formControl",o.conocimientoCategoriaGroup.controls.idConocimiento),m(2),p("formControl",o.filterControl),m(),p("ngForOf",Pi(15,6,o.filteredOptions)),m(2),p("ngIf",o.conocimientoCategoriaGroup.controls.idConocimiento.hasError("required")))},dependencies:[gt,le,Ee,_e,ve,et,St,Ut,ae,V,Ye,q,H,Ke,G,Je,Eo],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:90%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.hide[_ngcontent-%COMP%]{display:none!important}"]})}}return t})();var XV=()=>[5,10,15];function ZV(t,n){t&1&&(r(0,"th",26),c(1," Id conocimiento "),s())}function JV(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idConocimiento," ")}}function e7(t,n){t&1&&(r(0,"th",26),c(1," Nombre "),s())}function t7(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombreConocimiento,"")}}function i7(t,n){t&1&&(r(0,"th",28),c(1,"Acciones"),s())}function o7(t,n){if(t&1){let e=E();r(0,"td",27)(1,"button",29)(2,"mat-icon"),c(3,"more_vert"),s()(),r(4,"mat-menu",null,1)(6,"button",30),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.editarConocimientoCategoria(o))}),r(7,"mat-icon",31),c(8,"edit"),s(),r(9,"span"),c(10,"Editar conocimiento"),s()()()()}if(t&2){let e=re(5);m(),p("matMenuTriggerFor",e)}}function n7(t,n){t&1&&C(0,"tr",32)}function a7(t,n){t&1&&C(0,"tr",33)}function r7(t,n){if(t&1&&(r(0,"table",17),F(1,18),h(2,ZV,2,0,"th",19)(3,JV,2,1,"td",20),R(),F(4,21),h(5,e7,2,0,"th",19)(6,t7,2,1,"td",20),R(),F(7,22),h(8,i7,2,0,"th",23)(9,o7,11,1,"td",20),R(),h(10,n7,1,0,"tr",24)(11,a7,1,0,"tr",25),s()),t&2){let e=x();p("dataSource",e.dataSource),m(10),p("matHeaderRowDef",e.displayedColumns),m(),p("matRowDefColumns",e.displayedColumns)}}var Z_=(()=>{class t{constructor(e,i,o,a,l){this.dialog=e,this.loginService=i,this.conocimientoCategoriaService=o,this._snackBar=a,this.data=l,this.filtroFormControl=new O("",[]),this.displayedColumns=["idConocimiento","nombreConocimiento","acciones"]}ngOnInit(){this.getConocimientoCategorias()}getConocimientoCategorias(){this.conocimientoCategoriaService.getConocimientos(this.data.idCategoria).subscribe(e=>{e&&(this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}addConocimientoCategoria(e){let i=e;i.idCategoria=this.data.idCategoria,i.title="A\xF1adir nuevo Conocimiento",i.tipo="add",this.dialog.open(bp,{width:"700px",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}editarConocimientoCategoria(e){let i=e;i.idCategoria=this.data.idCategoria,i.title="Editar conocimiento",i.tipo="edit",this.dialog.open(bp,{width:"700px",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(he),g(yr),g(K),g(Y))}}static{this.\u0275cmp=D({type:t,selectors:[["app-conocimiento-categorias"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:26,vars:5,consts:[["inputstring",""],["menu","matMenu"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-12"],["mat-dialog-title",""],[1,"col-10"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],[1,"col-1"],["aria-label","Add","matTooltip","Asociar conocimiento",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],[3,"pageSizeOptions"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idConocimiento"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreConocimiento"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Acciones","aria-label","Menu detallado",1,"bc-button-icon",3,"matMenuTriggerFor"],["mat-menu-item","","matTooltip","Editar conocimiento",3,"click"],[1,"color-icon"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),c(4),s()()(),r(5,"div",3)(6,"div",6)(7,"bc-form-field",7)(8,"em"),C(9,"bc-icon",8),s(),r(10,"input",9,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(12,"label"),c(13,"Escriba el texto a buscar"),s()(),r(14,"bc-form-field",10)(15,"bc-icon-button",11),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),r(16,"div",12)(17,"bc-form-field")(18,"button",13),_("click",function(){return v(a),S(o.addConocimientoCategoria(o.loginService.getData()))}),r(19,"mat-icon"),c(20,"add"),s()()()()(),r(21,"div",3)(22,"div",4)(23,"div",14),h(24,r7,12,3,"table",15),C(25,"mat-paginator",16),s()()()()}i&2&&(m(4),I(o.data.title),m(6),p("formControl",o.filtroFormControl),m(14),p("ngIf",o.dataSource),m(),p("pageSizeOptions",Te(4,XV)))},dependencies:[le,X,Po,To,Do,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:25%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}"]})}}return t})();var s7=["modal"],l7=["modal1"],c7=()=>[6,10,100,1e3],J_=(t,n)=>({activo:t,inactivo:n});function m7(t,n){t&1&&(r(0,"th",34),c(1," Id categor\xEDa "),s())}function d7(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idCategoria," ")}}function p7(t,n){t&1&&(r(0,"th",34),c(1," Nombre "),s())}function u7(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCategoria,"")}}function f7(t,n){t&1&&(r(0,"th",34),c(1," Nombre categor\xEDa padre "),s())}function h7(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsCategoriaPadre,"")}}function g7(t,n){t&1&&(r(0,"th",34),c(1," Descripci\xF3n detallada "),s())}function _7(t,n){if(t&1&&(r(0,"div"),c(1),s()),t&2){let e=x().$implicit;m(),I(e.descDetCatePpal)}}function C7(t,n){if(t&1){let e=E();r(0,"td",35)(1,"button",36),_("click",function(){let o=v(e).$implicit;return S(o.mostrar=!o.mostrar)}),r(2,"mat-icon"),c(3),s()(),h(4,_7,2,1,"div",37),s()}if(t&2){let e=n.$implicit;m(3),I(e.mostrar?"visibility_off":"visibility"),m(),p("ngIf",e.mostrar)}}function b7(t,n){t&1&&(r(0,"th",38),c(1,"Acciones"),s())}function v7(t,n){if(t&1){let e=E();r(0,"button",46),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openConocimientosCategoria(o))}),r(1,"mat-icon",43),c(2,"event_note"),s(),r(3,"span"),c(4,"Ver conocimientos"),s()()}}function S7(t,n){if(t&1){let e=E();r(0,"button",47),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openCategoriaEvaluaciones(o))}),r(1,"mat-icon",43),c(2,"view_list"),s(),r(3,"span"),c(4,"Evaluaciones"),s()()}if(t&2){let e=x().$implicit;p("id","buttonEvaluations-"+e.idCategoria)}}function y7(t,n){if(t&1){let e=E();r(0,"td",35)(1,"button",39)(2,"mat-icon"),c(3,"more_vert"),s()(),r(4,"mat-menu",null,3),h(6,v7,5,0,"button",40)(7,S7,5,1,"button",41),r(8,"button",42),_("click",function(){let o=v(e).$implicit,a=x();return S(a.editarCategoria(o))}),r(9,"mat-icon",43),c(10,"edit"),s(),r(11,"span"),c(12,"Editar categor\xEDas"),s()(),r(13,"button",44),_("click",function(){let o=v(e).$implicit,a=x();return S(a.activateCategory(o))}),r(14,"mat-icon",45),c(15),s(),r(16,"span"),c(17),s()()()()}if(t&2){let e=n.$implicit,i=re(5);m(),p("id","buttonCategoryViewMore-"+e.idCategoria)("matMenuTriggerFor",i),m(5),p("ngIf",e.esCategoriaHija),m(),p("ngIf",e.esCategoriaHija),m(7),p("ngClass",no(7,J_,e.estado==="A",e.estado==="I")),m(),T(" ",e.estado=="A"?"highlight_off":"check_circle"," "),m(2),I(e.estado=="A"?"Inactivar":"Activar")}}function x7(t,n){t&1&&(r(0,"th",34),c(1," Estado "),s())}function w7(t,n){if(t&1&&(r(0,"td",35)(1,"mat-icon",45),c(2),s()()),t&2){let e=n.$implicit;m(),p("ngClass",no(2,J_,e.estado==="I",e.estado==="A")),m(),T(" ",e.estado=="A"?"check_circle":"highlight_off"," ")}}function E7(t,n){t&1&&C(0,"tr",48)}function M7(t,n){t&1&&C(0,"tr",49)}var e1=(()=>{class t{constructor(e,i,o,a){this.dialog=e,this.loginService=i,this.categoriaService=o,this._snackBar=a,this.filtroFormControl=new O("",[]),this.displayedColumns=["idCategoria","dsCategoria","dsCategoriaPadre","descDetCatePpal","estado","acciones"],this.categorias=[],this.typeIcon="error",this.customWidth="large",this.titleAlign="",this.changeState=!1,this.mostrar=!1}ngOnInit(){this.getCategorias()}getCategorias(){this.categoriaService.getCategorias().subscribe(e=>{e&&(this.dataSource=new Se(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openConocimientosCategoria(e){let i=this.loginService.getData();i.idCategoria=e.idCategoria,i.title=`Conocimientos de ${e.dsCategoria}`,i.idCategoria=e.idCategoria,this.dialog.open(Z_,{width:"800px",maxHeight:"90vh",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}openCategoriaEvaluaciones(e){let i={idCategoria:e.idCategoria,title:`Evaluaciones de ${e.dsCategoria}`};this.dialog.open(X_,{width:"800px",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}addCategoria(e){let i=e;i.idCategoria=e.idCategoria,i.title="Crear nueva categor\xEDa",i.tipo="add",this.dialog.open(Cp,{width:"1000px",maxHeight:"33em",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}editarCategoria(e){let i=e;i.idCategoria=e.idCategoria,i.title=`Editar ${e.dsCategoria.toLowerCase()}`,i.tipo="edit",this.dialog.open(Cp,{width:"70em",maxHeight:"33em",data:i}).afterClosed().subscribe(a=>{this.ngOnInit()})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}activateCategory(e){let i=e.estado;this.categoria=e,this.idCategoria=e.idCategoria,i==="A"&&this.categoria||i==="I"&&this.categoria?this.modal.openModal():this.modal1.openModal()}onPressButton1(e){this.modal1.shutDown()}onPressButton(e){e?(this.changeState=!0,this.updateEstado(this.idCategoria,this.categoria)):this.modal.shutDown()}updateEstado(e,i){this.changeState&&(i.estado=i.estado==="I"?"A":"I",this.categoriaService.updateEstado(e,i).subscribe(o=>{this.getCategorias()}),this.modal.shutDown())}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(he),g(In),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-categorias"]],viewQuery:function(i,o){if(i&1&&(L(s7,5),L(l7,5),L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.modal=a.first),j(a=z())&&(o.modal1=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:51,vars:12,consts:[["inputstring",""],["modal",""],["modal1",""],["menu","matMenu"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputCategoryFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchPerson","type","outline","size","small","customIcon","search",3,"click"],[1,"col-4"],[1,"col-1","align-self-center"],["type","outline","size","small","customIcon","plus",3,"click"],[1,"col-12"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idCategoria"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsCategoria"],["matColumnDef","dsCategoriaPadre"],["matColumnDef","descDetCatePpal"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["matColumnDef","estado"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["title","ADVERTENCIA","textBtnLeft","Cancelar","textBtn","Aceptar","isCancellable","false",3,"stateClick","typeIcon","customWidth","titleAlign"],["modalContent",""],["title","ADVERTENCIA","textBtn","Aceptar",3,"stateClick","typeIcon","customWidth","titleAlign"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","",3,"click"],[4,"ngIf"],["mat-header-cell","",1,"accion"],["matTooltip","Acciones","aria-label","Menu detallado",1,"bc-button-icon",3,"id","matMenuTriggerFor"],["mat-menu-item","","aria-label","Ver conocimientos","matTooltip","Ver conocimientos",3,"click",4,"ngIf"],["mat-menu-item","","aria-label","Asignar evaluaciones","matTooltip","Asignar evaluaciones",3,"id","click",4,"ngIf"],["mat-menu-item","","aria-label","Editar categor\xEDa","matTooltip","Editar categor\xEDa",3,"click"],[1,"color-icon"],["mat-menu-item","","aria-label","Estado de la categoria","matTooltip","Estado de la categoria",3,"click"],[1,"color-icon",3,"ngClass"],["mat-menu-item","","aria-label","Ver conocimientos","matTooltip","Ver conocimientos",3,"click"],["mat-menu-item","","aria-label","Asignar evaluaciones","matTooltip","Asignar evaluaciones",3,"click","id"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",4)(1,"div",5)(2,"div",6)(3,"bc-form-field",7)(4,"em"),C(5,"bc-icon",8),s(),r(6,"input",9,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",10)(11,"bc-form-field",11)(12,"bc-icon-button",12),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()(),C(13,"div",13),r(14,"div",14)(15,"bc-icon-button",15),_("click",function(){return v(a),S(o.addCategoria(o.loginService.getData()))}),s()()(),r(16,"div",5)(17,"div",16)(18,"div",17)(19,"table",18),F(20,19),h(21,m7,2,0,"th",20)(22,d7,2,1,"td",21),R(),F(23,22),h(24,p7,2,0,"th",20)(25,u7,2,1,"td",21),R(),F(26,23),h(27,f7,2,0,"th",20)(28,h7,2,1,"td",21),R(),F(29,24),h(30,g7,2,0,"th",20)(31,C7,5,2,"td",21),R(),r(32,"div",25),h(33,b7,2,0,"th",26)(34,y7,18,10,"td",21),s(),F(35,27),h(36,x7,2,0,"th",20)(37,w7,3,5,"td",21),R(),h(38,E7,1,0,"tr",28)(39,M7,1,0,"tr",29),s(),C(40,"mat-paginator",30),s()()(),r(41,"bc-modal",31,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(43,"div",32)(44,"em"),c(45,"Si realizas esta acci\xF3n, cambiar\xE1s el estado de las categor\xEDas asociadas."),s()()(),r(46,"bc-modal",33,2),_("stateClick",function(d){return v(a),S(o.onPressButton1(d))}),r(48,"div",32)(49,"em"),c(50,"Debes terminar de crear la categoria para poder activar esta categoria"),s()()()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(13),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(11,c7)),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign),m(5),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign))},dependencies:[ja,X,Po,To,Do,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,Ut,V,q,H,G,te,ee,Me,Wt,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:5%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}  .mat-menu-panel{overflow:hidden!important}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}.activo[_ngcontent-%COMP%]{color:red}.inactivo[_ngcontent-%COMP%]{color:green}  article.bc-modal-active{background:#000c}  .bc-modal-overlay{display:none}"]})}}return t})();var Ps=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idContacto=e)}};var xr=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlListContact="/contacto/list-contacts-paginated",this.urlGetContactById="/contacto/get-contact-by-id",this.urlInsertContact="/contacto/insert-contact",this.urlUpdateContact="/contacto/update-contact",this.urlDeleteContact="/contacto/delete-contact",this.urlGetSupplierContactReport="/contacto/supplierContactReport"}listContact(e,i,o,a){let l=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"").set(a?"empresa":"",a||"");return this.http.get(this.configService.settings.apiUrl+this.urlListContact,{params:l})}getContactById(e){let i=new be().set(e?"contactId":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlGetContactById,{params:i})}insertContact(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertContact,e)}updateContact(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateContact,e)}deleteContact(e){let i=new be().set("contactId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteContact,{params:i})}getSupplierContactReport(){return this.http.get(this.configService.settings.apiUrl+this.urlGetSupplierContactReport)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var T7=t=>({hide:t});function P7(t,n){t&1&&(r(0,"mat-error"),c(1," Nombre del contacto requerido "),s())}function D7(t,n){if(t&1&&(r(0,"mat-option",32),c(1),s()),t&2){let e=n.$implicit;p("value",e.idEmpresa)("ngClass",yi(3,T7,!e.show)),m(),T(" ",e.dsEmpresa," ")}}function F7(t,n){if(t&1&&(r(0,"mat-option",33),c(1),s()),t&2){let e=n.$implicit;p("value",e.idTipoContacto),m(),T(" ",e.dsTipoContacto," ")}}function R7(t,n){t&1&&(r(0,"mat-error"),c(1," Correo requerido "),s())}function k7(t,n){t&1&&(r(0,"mat-error"),c(1," Tel\xE9fonos requeridos "),s())}function A7(t,n){t&1&&(r(0,"mat-error"),c(1," Direcci\xF3n requerida "),s())}function O7(t,n){t&1&&(r(0,"mat-error"),c(1," Documento de identidad requerido "),s())}function V7(t,n){t&1&&(r(0,"mat-error"),c(1," Cargo requerido "),s())}function N7(t,n){t&1&&(r(0,"mat-error"),c(1," Lider HCM requerido "),s())}function B7(t,n){if(t&1&&(r(0,"button",34),c(1),s()),t&2){let e=x();m(),I(e.data.boton)}}var Sp=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.contactoService=l,this.empresaService=d,this.successfulStatusCode=200,this.filterControl=new O,this.buildForm()}ngOnInit(){this.loadCompanies(),this.loadContactTypes()}loadCompanies(){this.empresaService.getAll().subscribe(e=>{e&&(this.showCompanies(e),this.data.action=="Update"?this.loadContact(this.data.idContacto):this.contact.controls.idEmpresa.setValue(this.data.empresa),this.data.empresa!=null&&this.contact.controls.idEmpresa.disable())})}loadContactTypes(){this.contactTypeItems=[{idTipoContacto:"TC1",dsTipoContacto:"COMERCIAL"},{idTipoContacto:"TC2",dsTipoContacto:"TALENTOS"},{idTipoContacto:"TC3",dsTipoContacto:"FACTURACION"},{idTipoContacto:"TC4",dsTipoContacto:"ALTO PERFIL"}]}showCompanies(e){this.companyItems=e.map(i=>({idEmpresa:i.idEmpresa,dsEmpresa:i.dsEmpresa})),this.filteredCompanies=this.filterControl.valueChanges.pipe(ho(""),eo(i=>(this.companyItems.forEach(o=>{o.show=o.dsEmpresa.toLocaleLowerCase().includes(i.toLowerCase())}),this.companyItems)))}buildForm(){this.contact=this.fb.group({dsContacto:["",[A.required]],idEmpresa:["",[A.required]],idTipoContacto:["TC2",[A.required]],correo:["",[A.required]],telefonos:[""],direccion:[""],documentoIdentidad:[""],cargo:[""],liderHcm:[""]})}loadContact(e){let i;this.contactoService.getContactById(e).pipe(Ce(()=>{i&&this.contact.patchValue({dsContacto:i.dsContacto,idEmpresa:i.idEmpresa,idTipoContacto:i.idTipoContacto,correo:i.correo,telefonos:i.telefonos,direccion:i.direccion,documentoIdentidad:i.documentoIdentidad,cargo:i.cargo,liderHcm:i.liderHcm})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.contact:this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new Ps(this.contact.value);this.contactoService.insertContact(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}else{let e=new Ps(this.contact.value,this.data.idContacto);this.contactoService.updateContact(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(xr),g(to))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-contacto"]],decls:94,vars:30,consts:[["messageDsContact",""],["messageContactEmail",""],["messageContactDirection",""],["messageContactDocument",""],["messageContactCargo",""],["messageContactLiderHcm",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","cerrar","matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-4"],["matInput","","type","text","maxlength","100","ngDefaultControl","",3,"formControl"],["align","end"],[4,"ngIf"],[1,"example-full-width"],["ngDefaultControl","",1,"completo",3,"formControl"],["matInput","","ngDefaultControl","","type","text","name","filter-options","id","filter-options","placeholder","Buscar",3,"formControl"],[3,"value","ngClass",4,"ngFor","ngForOf"],[1,"completo",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","maxlength","250","ngDefaultControl","",3,"formControl"],["matInput","","type","text","ngDefaultControl","",3,"formControl"],["matInput","","type","text","maxlength","250","ngDefaultControl","",3,"formControl"],["matInput","","type","text","maxlength","16",3,"formControl"],["matInput","","type","text","maxlength","100",3,"formControl"],[1,"col-6"],["class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],[3,"value","ngClass"],[3,"value"],["type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",10)(8,"button",11),_("click",function(){return v(a),S(o.onNoClick())}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",12),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(12,"div",13)(13,"div",14)(14,"div",15)(15,"mat-form-field")(16,"mat-label"),c(17,"Nombre del contacto"),s(),C(18,"input",16,0),r(20,"mat-hint",17),c(21),s(),h(22,P7,2,0,"mat-error",18),s()(),r(23,"div",15)(24,"mat-form-field",19)(25,"mat-label"),c(26,"Empresa"),s(),r(27,"mat-select",20)(28,"mat-form-field",19),C(29,"input",21),s(),h(30,D7,2,5,"mat-option",22),Mt(31,"async"),s()()(),r(32,"div",15)(33,"mat-form-field",19)(34,"mat-label"),c(35,"Tipo contacto"),s(),r(36,"mat-select",23),h(37,F7,2,2,"mat-option",24),s()()()(),r(38,"div",14)(39,"div",15)(40,"mat-form-field")(41,"mat-label"),c(42,"Correo"),s(),C(43,"input",25,1),r(45,"mat-hint",17),c(46),s(),h(47,R7,2,0,"mat-error",18),s()(),r(48,"div",15)(49,"mat-form-field")(50,"mat-label"),c(51,"Tel\xE9fonos"),s(),C(52,"input",26),h(53,k7,2,0,"mat-error",18),s()(),r(54,"div",15)(55,"mat-form-field")(56,"mat-label"),c(57,"Direcci\xF3n"),s(),C(58,"input",27,2),r(60,"mat-hint",17),c(61),s(),h(62,A7,2,0,"mat-error",18),s()()(),r(63,"div",14)(64,"div",15)(65,"mat-form-field")(66,"mat-label"),c(67,"Documento de identidad"),s(),C(68,"input",28,3),r(70,"mat-hint",17),c(71),s(),h(72,O7,2,0,"mat-error",18),s()(),r(73,"div",15)(74,"mat-form-field")(75,"mat-label"),c(76,"Cargo"),s(),C(77,"input",29,4),r(79,"mat-hint",17),c(80),s(),h(81,V7,2,0,"mat-error",18),s()(),r(82,"div",15)(83,"mat-form-field")(84,"mat-label"),c(85,"Lider HCM"),s(),C(86,"input",29,5),r(88,"mat-hint",17),c(89),s(),h(90,N7,2,0,"mat-error",18),s()()(),r(91,"div",14)(92,"div",30),h(93,B7,2,1,"button",31),s()()()()}if(i&2){let a=re(19),l=re(44),d=re(59),u=re(69),f=re(78),b=re(87);m(6),T("",o.data.title," "),m(5),p("formGroup",o.contact),m(7),p("formControl",o.contact.controls.dsContacto),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.contact.controls.dsContacto.hasError("required")),m(5),p("formControl",o.contact.controls.idEmpresa),m(2),p("formControl",o.filterControl),m(),p("ngForOf",Pi(31,28,o.filteredCompanies)),m(6),p("formControl",o.contact.controls.idTipoContacto),m(),p("ngForOf",o.contactTypeItems),m(6),p("formControl",o.contact.controls.correo),m(3),T("",l.value.length," / 250"),m(),p("ngIf",o.contact.controls.correo.hasError("required")),m(5),p("formControl",o.contact.controls.telefonos),m(),p("ngIf",o.contact.controls.telefonos.hasError("required")),m(5),p("formControl",o.contact.controls.direccion),m(3),T("",d.value.length," / 250"),m(),p("ngIf",o.contact.controls.direccion.hasError("required")),m(6),p("formControl",o.contact.controls.documentoIdentidad),m(3),T("",u.value.length," / 16"),m(),p("ngIf",o.contact.controls.direccion.hasError("required")),m(5),p("formControl",o.contact.controls.cargo),m(3),T("",f.value.length," / 100"),m(),p("ngIf",o.contact.controls.direccion.hasError("required")),m(5),p("formControl",o.contact.controls.liderHcm),m(3),T("",b.value.length," / 100"),m(),p("ngIf",o.contact.controls.direccion.hasError("required")),m(3),p("ngIf",o.contact.valid)}},dependencies:[gt,le,X,Ee,_e,ve,Fi,et,St,oe,Ut,ae,V,Ye,q,H,Ke,$t,G,Je,Eo],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}"]})}}return t})();var L7=["filterContact"],j7=()=>[6,10,100,1e3];function z7(t,n){t&1&&(r(0,"th",29),c(1,"Nombre"),s())}function H7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.dsContacto)}}function q7(t,n){t&1&&(r(0,"th",29),c(1,"Documento de identidad"),s())}function G7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.documentoIdentidad)}}function U7(t,n){t&1&&(r(0,"th",29),c(1,"Empresa"),s())}function $7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.dsEmpresa)}}function Q7(t,n){t&1&&(r(0,"th",29),c(1,"Tipo Contacto"),s())}function W7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.dsTipoContacto)}}function K7(t,n){t&1&&(r(0,"th",29),c(1,"Correo"),s())}function Y7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.correo)}}function X7(t,n){t&1&&(r(0,"th",29),c(1,"Tel\xE9fonos"),s())}function Z7(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.telefonos)}}function J7(t,n){t&1&&(r(0,"th",29),c(1,"Direcci\xF3n"),s())}function e8(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.direccion)}}function t8(t,n){t&1&&(r(0,"th",29),c(1,"Estado"),s())}function i8(t,n){if(t&1&&(r(0,"td",30),c(1),s()),t&2){let e=n.$implicit;m(),I(e.estado=="A"?"ACTIVO":"INACTIVO")}}function o8(t,n){t&1&&(r(0,"th",31),c(1,"Acciones"),s())}function n8(t,n){if(t&1){let e=E();r(0,"button",38),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.toggleContact(o))}),r(1,"mat-icon",34),c(2,"clear"),s()()}}function a8(t,n){if(t&1){let e=E();r(0,"button",39),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.toggleContact(o))}),r(1,"mat-icon"),c(2,"done"),s()()}}function r8(t,n){if(t&1){let e=E();r(0,"td",30)(1,"button",32),_("click",function(){let o=v(e).$implicit,a=x();return S(a.updateContact(o))}),r(2,"mat-icon"),c(3,"edit"),s()(),r(4,"button",33),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDeleteDialog(o))}),r(5,"mat-icon",34),c(6,"delete_forever"),s()(),F(7,35),h(8,n8,3,0,"button",36)(9,a8,3,0,"button",37),R(),s()}if(t&2){let e=n.$implicit;m(7),p("ngSwitch",e.estado?e.estado:"I"),m(),p("ngSwitchCase","A"),m(),p("ngSwitchCase","I")}}function s8(t,n){t&1&&C(0,"tr",40)}function l8(t,n){t&1&&C(0,"tr",41)}var Uc=(()=>{class t{constructor(e,i,o,a,l){this.contactoService=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsContacto","documentoIdentidad","dsEmpresa","dsTipoContacto","correo","telefonos","direccion","estado","actions"]}ngOnInit(){this.listContact()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listContact()}listContact(){let e=null;this.data&&(e=this.data.idEmpresa),this.contactoService.listContact(this.filter,this.page,this.limit,e).subscribe(i=>{i!==void 0?i.statusCode===this.successStatusCode?(this.dataSource=new Se(i.body.data.contacts),this.length=i.body.data.total):this.showMessage(i.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}applyFilter(e){e!=""?e.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=e.replace(/\s+/g,"").toLowerCase(),this.listContact()):this.showMessage("Escriba el texto a buscar"):e===""&&(this.filter=null,this.listContact())}search(){this.filterContact.nativeElement.value.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=this.filterContact.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listContact()):this.showMessage("Escriba el texto a buscar")}createContact(){let e=null;this.data&&(e=this.data.idEmpresa);let i={title:"Agregar contacto:",boton:"Guardar",action:"Insert",empresa:e};this.dialog.open(Sp,{data:i,width:"1000px"}).afterClosed().subscribe(a=>{a!=null&&this.listContact()})}updateContact(e){let i=null;this.data&&(i=this.data.idEmpresa),e.title="Actualizar contacto:",e.boton="Actualizar",e.action="Update",e.empresa=i,this.dialog.open(Sp,{data:e,width:"1000px"}).afterClosed().subscribe(a=>{a!=null&&this.listContact()})}openDeleteDialog(e){e.mensaje="\xBFRealmente desea eliminar el contacto "+e.dsContacto+"?",e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.contactoService.deleteContact(o.data.idContacto).subscribe(a=>{a.statusCode==200?(this.listContact(),this.showMessage(a.body.data.message)):this.showMessage(a.body.data.message)})})}toggleContact(e){e.estado=e.estado=="A"?"I":"A",this.contactoService.updateContact(e).subscribe(i=>{this.listContact()})}static{this.\u0275fac=function(i){return new(i||t)(g(xr),g(Z),g(K),g(W,8),g(Y,8))}}static{this.\u0275cmp=D({type:t,selectors:[["app-contactos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(L7,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterContact=a.first)}},decls:50,vars:8,consts:[["inputstring",""],[1,"container-fluid"],["id","filter-container",1,"row"],[1,"col-10"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","filterContact","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchContact","type","outline","size","small","customIcon","search",3,"click"],["id","add-contact",1,"col-1"],["matTooltip","Agregar contacto",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","dsContacto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","documentoIdentidad"],["matColumnDef","dsEmpresa"],["matColumnDef","dsTipoContacto"],["matColumnDef","correo"],["matColumnDef","telefonos"],["matColumnDef","direccion"],["matColumnDef","estado"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Editar contacto",1,"bc-button-icon",3,"click"],["matTooltip","Eliminar contacto",1,"bc-button-icon",3,"click"],["color","warn"],[3,"ngSwitch"],["class","bc-button-icon","matTooltip","Inactivar Contacto","aria-label","Inactivar Contacto",3,"click",4,"ngSwitchCase"],["class","bc-button-icon","matTooltip","Activar Contacto",3,"click",4,"ngSwitchCase"],["matTooltip","Inactivar Contacto","aria-label","Inactivar Contacto",1,"bc-button-icon",3,"click"],["matTooltip","Activar Contacto",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()(),r(13,"div",10)(14,"bc-form-field",8)(15,"button",11),_("click",function(){return v(a),S(o.createContact())}),r(16,"mat-icon"),c(17,"add"),s()()()()()(),r(18,"div",12)(19,"table",13),F(20,14),h(21,z7,2,0,"th",15)(22,H7,2,1,"td",16),R(),F(23,17),h(24,q7,2,0,"th",15)(25,G7,2,1,"td",16),R(),F(26,18),h(27,U7,2,0,"th",15)(28,$7,2,1,"td",16),R(),F(29,19),h(30,Q7,2,0,"th",15)(31,W7,2,1,"td",16),R(),F(32,20),h(33,K7,2,0,"th",15)(34,Y7,2,1,"td",16),R(),F(35,21),h(36,X7,2,0,"th",15)(37,Z7,2,1,"td",16),R(),F(38,22),h(39,J7,2,0,"th",15)(40,e8,2,1,"td",16),R(),F(41,23),h(42,t8,2,0,"th",15)(43,i8,2,1,"td",16),R(),F(44,24),h(45,o8,2,0,"th",25)(46,r8,10,3,"td",16),R(),h(47,s8,1,0,"tr",26)(48,l8,1,0,"tr",27),s(),r(49,"mat-paginator",28),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(13),p("dataSource",o.dataSource),m(28),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,j7)))},dependencies:[X,$,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,ao,ro,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:15%}.ancho[_ngcontent-%COMP%]{width:30%}.angosto[_ngcontent-%COMP%]{width:7%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-contact[_ngcontent-%COMP%]{text-align:right}"]})}}return t})();function m8(t,n){if(t&1&&(r(0,"mat-chip-row")(1,"span"),c(2),s()()),t&2){let e=n.$implicit;m(),Bo("color",e.validoContratar==!0?"green":"red"),m(),Ht(" ",e.dsPosicion," - ",e.nombre," ")}}var t1=(()=>{class t{constructor(e,i){this.router=e,this.estructuraService=i,this.estructuraInfo={estado:!1}}ngOnInit(){this.estructuraService.getValidacionEstructuraInfo(this.idEstructura).subscribe(e=>{e==null&&this.router.navigate(["/login"]),this.estructuraInfo=e})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(Qo))}}static{this.\u0275cmp=D({type:t,selectors:[["app-info-estructura"]],inputs:{idEstructura:"idEstructura"},decls:7,vars:4,consts:[[1,"example-card"],["aria-label","Fish selection"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(r(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),c(3),s()(),r(4,"mat-card-content")(5,"mat-chip-grid",1),h(6,m8,3,4,"mat-chip-row",2),s()()()),i&2&&(Bo("background-color",o.estructuraInfo.validoContratar==!0?"#1bff0042":"#ff545442"),m(3),T(" ",o.estructuraInfo.validoContratar==!0?"VIABLE PARA CONTRATACI\xD3N":"NO VIABLE PARA CONTRATACI\xD3N"," "),m(3),p("ngForOf",o.estructuraInfo.posicionEstructuraList))},dependencies:[gi,Ha,qa,za,sf,rf,ae]})}}return t})();function p8(t,n){t&1&&(r(0,"span",7),c(1,"ASPIRANTES"),s())}function u8(t,n){if(t&1&&C(0,"app-info-persona",10),t&2){let e=x().$implicit;p("idPersona",e.idPersona)}}function f8(t,n){if(t&1&&(r(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),s(),r(4,"mat-panel-description")(5,"div"),c(6),s()()(),h(7,u8,1,1,"ng-template",9),s()),t&2){let e=n.$implicit;m(3),c0(" ",e.cedula," - ",e.nombre," - ",e.correo," - ",e.empresa," "),m(2),Bo("color",e.estado=="ACTIVO"?"green":"red"),m(),T(" (",e.estado,")")}}function h8(t,n){t&1&&(r(0,"span",7),c(1,"VACANTES"),s())}function g8(t,n){if(t&1&&C(0,"app-info-estructura",11),t&2){let e=x().$implicit;p("idEstructura",e.idEstructura)}}function _8(t,n){if(t&1&&(r(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),s()(),h(4,g8,1,1,"ng-template",9),s()),t&2){let e=n.$implicit;m(3),Uo(" ",e.dsEstructura," - ",e.nombre," - ",e.correo," ")}}var i1=(()=>{class t{constructor(e,i,o,a,l){this.router=e,this.loginService=i,this.personaService=o,this.estructuraService=a,this._snackBar=l,this.filtroFormControl=new O("",[A.required,A.minLength(5)]),this.filtroEstructuraFormControl=new O("",[A.required,A.minLength(5)])}ngOnInit(){}buscarPersonas(){this.filtroFormControl.markAsTouched(),this.filtroFormControl.valid?this.personaService.getValidacionListaPersonas(this.filtroFormControl.value).subscribe(e=>{e==null&&this.router.navigate(["/login"]),e!=null&&(this.personaList=e)}):this.showMessage("Ingrese el filtro de b\xFAsqueda con m\xEDnimo 5 caracteres.")}buscarEstructuras(){this.filtroEstructuraFormControl.markAsTouched(),this.filtroEstructuraFormControl.valid?this.estructuraService.getValidacionListaEstructuras(this.filtroEstructuraFormControl.value).subscribe(e=>{e==null&&this.router.navigate(["/login"]),e!=null&&(this.estructuraList=e)}):this.showMessage("Ingrese el filtro de b\xFAsqueda con m\xEDnimo 5 caracteres.")}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Ze),g(he),g(ot),g(Qo),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-validacion"]],decls:25,vars:4,consts:[["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["mat-tab-label",""],[1,"example-spacer"],["matInput","","placeholder","Escriba el texto a buscar",3,"formControl"],["aria-label","Search","matTooltip","Buscar Personas",1,"bc-fab-button-mini",3,"click"],["class","mat-elevation-z8",4,"ngFor","ngForOf"],["aria-label","Search","matTooltip","Buscar Estructuras",1,"bc-fab-button-mini",3,"click"],["matTooltip","Autorizaci\xF3n"],[1,"mat-elevation-z8"],["matExpansionPanelContent",""],[3,"idPersona"],[3,"idEstructura"]],template:function(i,o){i&1&&(r(0,"mat-tab-group",0)(1,"mat-tab"),h(2,p8,2,0,"ng-template",1),r(3,"div",2)(4,"mat-form-field")(5,"mat-label"),c(6,"Filtro"),s(),C(7,"input",3),s(),r(8,"button",4),_("click",function(){return o.buscarPersonas()}),r(9,"mat-icon"),c(10,"search"),s()()(),r(11,"mat-accordion"),h(12,f8,8,7,"mat-expansion-panel",5),s()(),r(13,"mat-tab"),h(14,h8,2,0,"ng-template",1),r(15,"div",2)(16,"mat-form-field")(17,"mat-label"),c(18,"Filtro"),s(),C(19,"input",3),s(),r(20,"button",6),_("click",function(){return o.buscarEstructuras()}),r(21,"mat-icon"),c(22,"search"),s()()(),r(23,"mat-accordion"),h(24,_8,5,3,"mat-expansion-panel",5),s()()()),i&2&&(m(7),p("formControl",o.filtroFormControl),m(5),p("ngForOf",o.personaList),m(7),p("formControl",o.filtroEstructuraFormControl),m(5),p("ngForOf",o.estructuraList))},dependencies:[Ql,ql,Gl,$l,Ul,Pf,X,Ee,_e,ve,_i,Ci,bi,oe,ae,q,H,G,Wf,t1],styles:[".example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}mat-expansion-panel[_ngcontent-%COMP%]{margin:15px}"]})}}return t})();var b8=()=>[6,10,100,1e3];function v8(t,n){t&1&&(r(0,"th",34),c(1," C\xE9dula"),s())}function S8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.cedula," ")}}function y8(t,n){t&1&&(r(0,"th",34),c(1," Nombre "),s())}function x8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombre,"")}}function w8(t,n){t&1&&(r(0,"th",34),c(1," Id solicitud actual "),s())}function E8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idIngreso,"")}}function M8(t,n){t&1&&(r(0,"th",34),c(1," Id solicitud origen "),s())}function I8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idIngresoOrigen===""?"N/A":e.idIngresoOrigen,"")}}function T8(t,n){t&1&&(r(0,"th",34),c(1," Empresa "),s())}function P8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.empresa,"")}}function D8(t,n){t&1&&(r(0,"th",34),c(1," Categor\xEDa "),s())}function F8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.categoria,"")}}function R8(t,n){t&1&&(r(0,"th",34),c(1," Nivel categor\xEDa "),s())}function k8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivelCategoria,"")}}function A8(t,n){t&1&&(r(0,"th",34),c(1," Fecha envio candidato "),s())}function O8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.creado,"")}}function V8(t,n){t&1&&(r(0,"th",34),c(1," Concepto "),s())}function N8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.concepto==""?"PENDIENTE":e.concepto,"")}}function B8(t,n){t&1&&(r(0,"th",34),c(1," Fecha notificaci\xF3n concepto "),s())}function L8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaNotificacionConcepto,"")}}function j8(t,n){t&1&&(r(0,"th",34),c(1," Fecha ingreso "),s())}function z8(t,n){if(t&1&&(r(0,"td",35),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaIngreso,"")}}function H8(t,n){t&1&&(r(0,"th",36),c(1,"Acciones"),s())}function q8(t,n){if(t&1){let e=E();r(0,"button",41),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.openEvaluacionesDialog(o,"ver-evaluaciones"))}),r(1,"mat-icon",40),c(2,"view_list"),s(),r(3,"span"),c(4,"Ver evaluaciones"),s()()}}function G8(t,n){if(t&1){let e=E();r(0,"td",35)(1,"button",37)(2,"mat-icon"),c(3,"more_vert"),s()(),r(4,"mat-menu",null,1),h(6,q8,5,0,"button",38),r(7,"button",39),_("click",function(){let o=v(e).$implicit,a=x();return S(a.getCV(o))}),r(8,"mat-icon",40),c(9,"recent_actors"),s(),r(10,"span"),c(11,"Hoja de vida"),s()()()()}if(t&2){let e=re(5),i=x();m(),p("matMenuTriggerFor",e),m(5),p("ngIf",i.isTalento)}}function U8(t,n){t&1&&C(0,"tr",42)}function $8(t,n){t&1&&C(0,"tr",43)}var o1=(()=>{class t{constructor(e,i,o,a){this.posteoProveedorService=e,this.dialog=i,this._snackBar=o,this.loginService=a,this.filtroFormControl=new O("",[]),this.displayedColumns=["cedula","nombre","idIngresoActual","idIngresoOrigen","empresa","categoria","nivelCategoria","fechaEnvioCandidato","concepto","fechaNotificacionConcepto","fechaIngreso","acciones"],this.isData=!1,this.page=1,this.limit=6,this.length=0,this.searchValue="",this.isTalento=!1}ngOnInit(){this.getAllConcepto(),this.validRole()}validRole(){let e=this.loginService.getData();(e.auth.ADP||e.auth.DEM)&&(this.isTalento=!0)}getAllConcepto(){this.posteoProveedorService.getAllConcepto().subscribe(e=>{this.conceptoList=e})}getApplicantHistory(){this.posteoProveedorService.getApplicantHistory(this.searchValue,this.limit,this.page).subscribe(e=>{e.statusCode==200?(this.dataSource=new Se(e.body.data.providerHistoryPosts),this.isData=!0,this.length=e.body.data.totalResults):e.statusCode==404&&(this.dataSource=new Se([]),this.length=0,this.showMessage(e.body.data.message))})}applyFilter(e){e!=""?(this.searchValue=this.filtro,this.paginator.firstPage(),this.getApplicantHistory()):(this.searchValue=null,this.getApplicantHistory())}get filtro(){return this.filtroFormControl.value}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.getApplicantHistory()}openEvaluacionesDialog(e,i){let o=this.loginService.getData();o.title="Evaluaciones: ";let a=o.idEstadoSolicitud=e.idIngreso,l={idPosteoProveedor:e.idPosteoProveedor,idPersonaCandidato:e.idPersonaCandidato};o.user=l,o.tipo=i,o.modo="consulta";let d=this.dialog.open(Pn,{data:o})}getCV(e){e.mode="select",e.title=`Hoja de vida: ${e.nombre}`;let i=this.dialog.open(lr,{maxHeight:"90vh",data:e})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}static{this.\u0275fac=function(i){return new(i||t)(g(Tn),g(Z),g(K),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-historia-prestadores"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.pageEvent=a.first)}},decls:58,vars:9,consts:[["inputstring",""],["menu","matMenu"],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[1,"col-12"],[1,"mat-elevation-z8"],[3,"hidden"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","idIngresoActual"],[1,"linea"],["matColumnDef","idIngresoOrigen"],["matColumnDef","empresa"],["matColumnDef","categoria"],["matColumnDef","nivelCategoria"],["matColumnDef","fechaEnvioCandidato"],["matColumnDef","concepto"],["matColumnDef","fechaNotificacionConcepto"],["matColumnDef","fechaIngreso"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Acciones","aria-label","Menu detallado",1,"bc-button-icon",3,"matMenuTriggerFor"],["mat-menu-item","","matTooltip","Ver evaluaciones",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Hoja de vida",3,"click"],[1,"color-icon"],["mat-menu-item","","matTooltip","Ver evaluaciones",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",8)(11,"bc-form-field",9)(12,"bc-icon-button",10),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()()(),r(13,"div",3)(14,"div",11)(15,"div",12)(16,"div",13)(17,"table",14),F(18,15),h(19,v8,2,0,"th",16)(20,S8,2,1,"td",17),R(),F(21,18),h(22,y8,2,0,"th",16)(23,x8,2,1,"td",17),R(),F(24,19),h(25,w8,2,0,"th",16)(26,E8,2,1,"td",17),C(27,"div",20),R(),F(28,21),h(29,M8,2,0,"th",16)(30,I8,2,1,"td",17),R(),F(31,22),h(32,T8,2,0,"th",16)(33,P8,2,1,"td",17),R(),F(34,23),h(35,D8,2,0,"th",16)(36,F8,2,1,"td",17),R(),F(37,24),h(38,R8,2,0,"th",16)(39,k8,2,1,"td",17),R(),F(40,25),h(41,A8,2,0,"th",16)(42,O8,2,1,"td",17),R(),F(43,26),h(44,V8,2,0,"th",16)(45,N8,2,1,"td",17),R(),F(46,27),h(47,B8,2,0,"th",16)(48,L8,2,1,"td",17),R(),F(49,28),h(50,j8,2,0,"th",16)(51,z8,2,1,"td",17),R(),F(52,29),h(53,H8,2,0,"th",30)(54,G8,12,2,"td",17),R(),h(55,U8,1,0,"tr",31)(56,$8,1,0,"tr",32),s(),r(57,"mat-paginator",33),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()()()()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(10),p("hidden",!o.isData),m(),p("dataSource",o.dataSource),m(38),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(8,b8)))},dependencies:[X,Po,To,Do,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.linea[_ngcontent-%COMP%]{border-top:1px solid black;height:2px;padding:0;margin:20px auto 0}.color-icon[_ngcontent-%COMP%]{color:#2c2a29}"]})}}return t})();var W8=["linkEvaluacionInput"],n1=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.elRef=i,this.data=o,this.dialogRef=a,this.evaluacionService=l,this.dialogService=d}ngOnInit(){this.inicializarFormulario()}inicializarFormulario(){this.evaluacionForm=this.fb.group({dsEvaluacion:["",A.required],linkEvaluacion:["",[A.required]]})}onYesClick(){this.evaluacionForm.valid&&(this.evaluacionAdmin=new jl,this.evaluacionAdmin.dsEvaluacion=this.dsEvaluacion.value,this.evaluacionAdmin.linkEvaluacion=this.linkEvaluacion.value,this.evaluacionService.addEvaluacionAdministracion(JSON.stringify(this.evaluacionAdmin)).subscribe(e=>{e.body.data.error?this.showMessage(e.body.data.error,"error","Error persistencia evaluacion."):(this.showMessage(e.body.data.response,"success","Creaci\xF3n evaluaci\xF3n"),this.dialogRef.close())}))}get dsEvaluacion(){return this.evaluacionForm.get("dsEvaluacion")}get linkEvaluacion(){return this.evaluacionForm.get("linkEvaluacion")}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(gl),g(Y),g(W),g(Yo),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-evaluacion"]],viewQuery:function(i,o){if(i&1&&L(W8,5),i&2){let a;j(a=z())&&(o.linkEvaluacionInput=a.first)}},decls:29,vars:6,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-11"],["mat-dialog-title",""],[1,"col-1",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],["id","form",1,"row","justify-content-center",3,"ngSubmit","formGroup"],[1,"col-4"],["ngDefaultControl","","id","dsEvaluacion","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],["for","dsEvaluacion"],[1,"col-8"],["ngDefaultControl","","id","linkEvaluacionInput","maxlength","1000","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],[1,"col-6"],["bc-button","","type","submit","typebutton","primary","sizebutton","small",1,"bc-button-fill","bc-button-primary","bc-button-small",3,"disabled"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"button",5),_("click",function(){return o.onNoClick()}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",6),_("ngSubmit",function(){return o.onYesClick()}),r(10,"div",1)(11,"div",7)(12,"bc-form-field"),C(13,"input",8),r(14,"label",9),c(15,"Descripci\xF3n de la evaluaci\xF3n"),s(),r(16,"span"),c(17,"Obligatorio"),s()()(),r(18,"div",10)(19,"bc-form-field"),C(20,"input",11),r(21,"label",9),c(22,"V\xEDnculo de la evaluaci\xF3n"),s(),r(23,"span"),c(24),s()()()(),r(25,"div",1)(26,"div",12)(27,"button",13),c(28,"Guardar "),s()()()()()),i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.evaluacionForm),m(4),p("formControl",o.evaluacionForm.controls.dsEvaluacion),m(7),p("formControl",o.evaluacionForm.controls.linkEvaluacion),m(4),T("Obligatorio ",o.linkEvaluacion.value.length," / 1000"),m(3),p("disabled",!o.evaluacionForm.valid))},dependencies:[le,X,Ye,q,H,Ke,At,$t,G,Je,kt,te,ee],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%;margin-right:10px}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.opciones[_ngcontent-%COMP%]{margin:5px}.orden[_ngcontent-%COMP%]{display:flex}.ordenFila[_ngcontent-%COMP%]{margin:10px}"]})}}return t})();function K8(t,n){t&1&&(r(0,"div"),c(1," Descripci\xF3n requerida "),s())}function Y8(t,n){if(t&1&&(r(0,"mat-error"),h(1,K8,2,0,"div",11),s()),t&2){let e=x();m(),p("ngIf",e.dsEvaluacion.errors.required)}}function X8(t,n){t&1&&(r(0,"div"),c(1," V\xEDnculo es requerido "),s())}function Z8(t,n){if(t&1&&(r(0,"mat-error"),h(1,X8,2,0,"div",11),s()),t&2){let e=x();m(),p("ngIf",e.linkEvaluacion.errors.required)}}var a1=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.data=i,this.dialogRef=o,this.evaluacionService=a,this.dialogService=l}ngOnInit(){this.inicializarFormulario(),this.getEvaluacion()}inicializarFormulario(){this.evaluacionForm=this.fb.group({dsEvaluacion:["",A.required],linkEvaluacion:["",[A.required]]})}getEvaluacion(){this.evaluacionService.getEvaluacionAdministracionById(this.data.idEvaluacion).subscribe(e=>{e&&this.evaluacionForm.patchValue({dsEvaluacion:e.body.data.testDto.dsEvaluacion,linkEvaluacion:e.body.data.testDto.linkEvaluacion})})}onYesClick(){this.evaluacionForm.valid&&(this.evaluacionAdmin=new jl,this.evaluacionAdmin.idEvaluacion=this.data.idEvaluacion,this.evaluacionAdmin.dsEvaluacion=this.dsEvaluacion.value,this.evaluacionAdmin.linkEvaluacion=this.linkEvaluacion.value,this.evaluacionService.updateEvaluacionAdministracion(JSON.stringify(this.evaluacionAdmin)).subscribe(e=>{e.body.data.error?this.showMessage(e.body.data.error,"error","Error modificaci\xF3n evaluacion."):(this.showMessage(e.body.data.response,"success","Modificaci\xF3n evaluaci\xF3n"),this.dialogRef.close())}))}get dsEvaluacion(){return this.evaluacionForm.get("dsEvaluacion")}get linkEvaluacion(){return this.evaluacionForm.get("linkEvaluacion")}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(Y),g(W),g(Yo),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-editar-evaluacion-administracion"]],decls:30,vars:6,consts:[["message",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"col-4"],[1,"ordenFila","textoGrande"],["matInput","","type","text","name","dsEvaluacion","id","dsEvaluacion","required","","formControlName","dsEvaluacion","placeholder","Ingresar descripci\xF3n"],[4,"ngIf"],[1,"col-8"],[1,"textoGrande"],["matInput","","type","text","maxlength","1000","name","linkEvaluacion","id","linkEvaluacion","required","","formControlName","linkEvaluacion","placeholder","Ingresar v\xEDnculo"],["align","end"],[1,"col-6"],["type","submit","mat-button","",3,"disabled"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"form",7),_("ngSubmit",function(){return v(a),S(o.onYesClick())}),r(10,"div",2)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),c(14,"Descripci\xF3n de la evaluaci\xF3n"),s(),C(15,"input",10),h(16,Y8,2,1,"mat-error",11),s()(),r(17,"div",12)(18,"mat-form-field",13)(19,"mat-label"),c(20,"V\xEDnculo de la evaluaci\xF3n"),s(),C(21,"input",14,0),r(23,"mat-hint",15),c(24),s(),h(25,Z8,2,1,"mat-error",11),s()()(),r(26,"div",2)(27,"div",16)(28,"button",17),c(29,"Guardar"),s()()()()()}if(i&2){let a=re(22);m(4),I(o.data.title),m(5),p("formGroup",o.evaluacionForm),m(7),p("ngIf",o.dsEvaluacion.invalid&&(o.dsEvaluacion.dirty||o.dsEvaluacion.touched)),m(8),T("",a.value.length," / 1000"),m(),p("ngIf",o.linkEvaluacion.invalid&&(o.linkEvaluacion.dirty||o.linkEvaluacion.touched)),m(3),p("disabled",!o.evaluacionForm.valid)}},dependencies:[Ri,le,X,Ee,_e,ve,Fi,et,V,Ye,q,H,Ke,At,$t,Je,ni],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%;margin-right:10px}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.opciones[_ngcontent-%COMP%]{margin:5px}.orden[_ngcontent-%COMP%]{display:flex}.ordenFila[_ngcontent-%COMP%]{margin:10px}.textoGrande[_ngcontent-%COMP%]{width:500px}"]})}}return t})();var J8=["inputstring"];function eN(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",18),c(2),s(),r(3,"td",18),c(4),s(),r(5,"td",18),c(6),s(),r(7,"td",19)(8,"bc-icon-button",20),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.openDialog("update",o))}),s()()()}if(t&2){let e=n.$implicit;m(2),I(e.idEvaluacion),m(2),I(e.dsEvaluacion),m(2),I(e.linkEvaluacion),m(2),vt("id",e.dsEvaluacion),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","edit")}}function tN(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content",14)(4,"table",15)(5,"thead")(6,"tr")(7,"th",16),c(8,"ID Evaluacion"),s(),r(9,"th",16),c(10,"Descripci\xF3n"),s(),r(11,"th",16),c(12,"V\xEDnculo"),s(),r(13,"th",16),c(14,"Acciones"),s()()(),r(15,"tbody",14),h(16,eN,9,9,"tr",17),s()()(),C(17,"bc-table-footer",14),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0)("dropdownHtml",!0)("inlineActions",!0),m(12),p("ngForOf",e.dataSource)}}var r1=(()=>{class t{constructor(e,i,o,a){this.dialog=e,this.dialogService=i,this.evaluacionService=o,this.loginService=a,this.filter=null,this.page=1,this.limit=5,this.length=0,this.successStatusCode=200,this.dataSource=[]}ngOnInit(){this.getEvaluaciones()}getEvaluaciones(){this.evaluacionService.getEvaluaciones(this.filter,this.page,this.limit).subscribe(e=>{if(e!=null){if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar evaluaciones");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar evaluaciones");return}this.dataSource=e.body.data.testsList,this.length=e.body.data.total}else this.showMessage("La lista se encuentra vac\xEDa.","warning","Listar evaluaciones")})}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getEvaluaciones()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getEvaluaciones())}openDialog(e,i){i.action=e,i.action=="add"?this.openCreateDialog(i):i.action=="update"&&this.openUpdateDialog(i)}openCreateDialog(e){e.title="Crear nueva evaluaci\xF3n",this.dialog.open(n1,{width:"750px",maxHeight:"90vh",data:e}).afterClosed().subscribe(o=>{this.getEvaluaciones()})}openUpdateDialog(e){e.title="Editar evaluaci\xF3n",this.dialog.open(a1,{data:e,maxHeight:"90vh"}).afterClosed().subscribe(o=>{this.getEvaluaciones()})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}searchInTable(){this.inputstring.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.inputstring.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getEvaluaciones()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getEvaluaciones())}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(ue),g(Yo),g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-administracion-evaluaciones"]],viewQuery:function(i,o){if(i&1&&L(J8,7),i&2){let a;j(a=z())&&(o.inputstring=a.first)}},decls:13,vars:11,consts:[["inputstring",""],[1,"container"],["id","filterContainer",1,"bc-col-10","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["ngDefaultControl","","name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstring","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["ngDefaultControl","","id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["ngDefaultControl","","id","addAPTITest",3,"click","type","color","shadow","size","customIcon"],["ngDefaultControl","","class","bc-col-12",3,"dataTable",4,"ngIf"],["ngDefaultControl","",1,"bc-col-12",3,"dataTable"],["ngDefaultControl","","title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["ngDefaultControl",""],["caption","tabla","bc-table","",3,"sort","pairPaginators","dropdownHtml","inlineActions"],["scope","row","bc-cell","","scope","col"],[4,"ngFor","ngForOf"],["bc-cell",""],["type","action","bc-cell",""],["bcTooltipPosition","center",3,"click","type","color","shadow","size","customIcon","id"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"bc-search-content-items",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",7),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",8),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",9),_("click",function(){return v(a),S(o.openDialog("add",o.loginService.getData()))}),s()(),h(12,tN,18,9,"bc-table-container",10)}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource&&o.dataSource.length>0))},dependencies:[ae,V,q,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:25%}.persona[_ngcontent-%COMP%]{width:10%}.maintable[_ngcontent-%COMP%]{padding:10px}#filterContainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}#filterContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:5%}.container[_ngcontent-%COMP%]{align-items:center;margin-top:10px;display:flex;justify-content:space-between}.line-breaker[_ngcontent-%COMP%]{white-space:pre-line}.cantidad[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word}td[type=action][_ngcontent-%COMP%]{text-align:center;vertical-align:middle}bc-icon-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}"]})}}return t})();var oN=()=>[6,10,100,1e3];function nN(t,n){t&1&&(r(0,"th",24),c(1," ID Solicitud "),s())}function aN(t,n){if(t&1&&(r(0,"td",25),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.idSolicitud,"")}}function rN(t,n){t&1&&(r(0,"th",24),c(1," Nombre Lider "),s())}function sN(t,n){if(t&1&&(r(0,"td",25),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nombreLider," ")}}function lN(t,n){t&1&&(r(0,"th",24),c(1," Documento Identidad "),s())}function cN(t,n){if(t&1&&(r(0,"td",25),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.documento," ")}}function mN(t,n){t&1&&(r(0,"th",24),c(1," Fecha Solicitud "),s())}function dN(t,n){if(t&1&&(r(0,"td",25),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.fechaSolicitud," ")}}function pN(t,n){t&1&&(r(0,"th",24),c(1," Nivel "),s())}function uN(t,n){if(t&1&&(r(0,"td",25),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.nivel," ")}}function fN(t,n){t&1&&(r(0,"th",26),c(1," Acciones "),s())}function hN(t,n){if(t&1){let e=E();r(0,"td",25)(1,"button",27),_("click",function(){let o=v(e).$implicit,a=x();return S(a.downloadExcel(o))}),r(2,"mat-icon"),c(3,"cloud_download"),s()()()}if(t&2){let e=n.$implicit;m(),p("disabled",e.descargado>0)}}function gN(t,n){t&1&&C(0,"tr",28)}function _N(t,n){t&1&&C(0,"tr",29)}var s1=(()=>{class t{constructor(e,i){this.ingresoService=e,this._snackBar=i,this.filtroFormControl=new O("",[]),this.displayedColumns=["idSolicitud","nombreLider","fechaSolicitud","nivel","acciones"],this.successStatusCode=200}ngOnInit(){this.getIngresos(null)}getIngresos(e){this.ingresoService.getAllIngresosSkill().subscribe(i=>{i.body.data.entrances&&i.body.data.entrances.length>0?(this.dataSource=new Se(i.body.data.entrances),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e!=null&&(this.filtroFormControl.setValue(e),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())):this.showMessage(i.body.message)},i=>{this.showMessage("Error: "+i.toString())})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}downloadExcel(e){e.descargado==0&&this.getIngresoRetiroExcel(e.idSolicitud)}getIngresoRetiroExcel(e){this.ingresoService.getIngresoRetiroExcel(e).subscribe(i=>{i!=null?(this.generateExcelIngresoRetiro(i),this.getIngresos(null)):console.log("No hay Ingresos")},i=>{console.log(i)})}generateExcelIngresoRetiro(e){this.ingresoService.downloadFile(e)}static{this.\u0275fac=function(i){return new(i||t)(g(Qi),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-ingresos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:36,vars:6,consts:[["inputstring",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","idSolicitud"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreLider"],["matColumnDef","documento"],["matColumnDef","fechaSolicitud"],["matColumnDef","nivel"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Descargar Hoja c\xE1lculo",1,"bc-button-icon",3,"click","disabled"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.applyFilter(o.filtroFormControl.value))}),s()()()()(),r(13,"div",10)(14,"table",11),F(15,12),h(16,nN,2,0,"th",13)(17,aN,2,1,"td",14),R(),F(18,15),h(19,rN,2,0,"th",13)(20,sN,2,1,"td",14),R(),F(21,16),h(22,lN,2,0,"th",13)(23,cN,2,1,"td",14),R(),F(24,17),h(25,mN,2,0,"th",13)(26,dN,2,1,"td",14),R(),F(27,18),h(28,pN,2,0,"th",13)(29,uN,2,1,"td",14),R(),F(30,19),h(31,fN,2,0,"th",20)(32,hN,4,1,"td",14),R(),h(33,gN,1,0,"tr",21)(34,_N,1,0,"tr",22),s(),C(35,"mat-paginator",23),s()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(8),p("dataSource",o.dataSource),m(19),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("pageSizeOptions",Te(5,oN)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:13%}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}"]})}}return t})();var $c=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetPersons="/padmad/getPersons",this.urlListCompaniesForPadMad="/padmad/list-companies-for-pad-mad",this.urlSetCompaniesPadMad="/padmad/set-companies-pad-mad"}getPersons(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlGetPersons,{params:a})}listCompaniesForPadMad(e,i,o,a){let l=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"personId":"",e||"").set(a?"filter":"",a||"");return this.http.get(this.configService.settings.apiUrl+this.urlListCompaniesForPadMad,{params:l})}setCompaniesPadMad(e){return this.http.post(this.configService.settings.apiUrl+this.urlSetCompaniesPadMad,e)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bN=["filterCompany"],vN=()=>[6,10,100,1e3];function SN(t,n){t&1&&(r(0,"th",26),c(1,"Empresa"),s())}function yN(t,n){if(t&1&&(r(0,"td",27),c(1),s()),t&2){let e=n.$implicit;m(),I(e.dsEmpresa)}}function xN(t,n){t&1&&(r(0,"th",26),c(1,"Pad/Mad asignado"),s())}function wN(t,n){if(t&1&&(r(0,"div"),c(1),s()),t&2){let e=n.$implicit;m(),I(e.fullName)}}function EN(t,n){if(t&1&&(r(0,"td",27),h(1,wN,2,1,"div",28),s()),t&2){let e=n.$implicit;m(),p("ngForOf",e.padmads)}}function MN(t,n){t&1&&(r(0,"th",29),c(1,"Seleccionar"),s())}function IN(t,n){if(t&1){let e=E();r(0,"td",27)(1,"div")(2,"mat-checkbox",30),_("change",function(o){let a=v(e).$implicit,l=x();return S(l.setCompanyItem(o,a))}),s()()()}if(t&2){let e=n.$implicit;m(2),p("value",e)("checked",e.isPadMadSelected)}}function TN(t,n){t&1&&C(0,"tr",31)}function PN(t,n){t&1&&C(0,"tr",32)}var c1=(()=>{class t{constructor(e,i,o,a,l){this.padMadProveedorService=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsEmpresa","padMad","actions"],this.selectedItemsCompany=[],this.itemsCompany=[],this.searchControl=new O}ngOnInit(){this.listCompany()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listCompany()}listCompany(){this.padMadProveedorService.listCompaniesForPadMad(this.data.personId,this.page,this.limit,this.searchControl.value).subscribe(e=>{if(e!==void 0)if(e.statusCode===this.successStatusCode){this.selectedItemsCompany=e.body.data.objects.filter(o=>o.isPadMadSelected);let i=e.body.data.objects;i=i.map(o=>{let a=this.itemsCompany.find(l=>l.idEmpresa==o.idEmpresa);return a||o}),this.dataSource=new Se(i),this.length=e.body.data.total}else this.showMessage(e.body.data.message);else this.showMessage("No se recibe objeto respuesta del servidor")})}setCompanyItem(e,i){e.source.value!=null&&(i.isPadMadSelected=e.checked,this.itemsCompany.find(o=>o.idEmpresa==i.idEmpresa)||this.itemsCompany.push(i))}save(){let e=this.data.personId,i=this.itemsCompany.filter(a=>a.isPadMadSelected),o=this.itemsCompany.filter(a=>!a.isPadMadSelected&&!!a.idPersonaPadmad);this.padMadProveedorService.setCompaniesPadMad({idPersona:e,addedPadMad:i,removedPadMad:o}).subscribe(a=>{a!==void 0?(this.showMessage(a.body.data.message),this.dialogRef.close()):this.showMessage("No se recibe objeto respuesta del servidor")})}applyFilter(e){e!=""?e.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=e.replace(/\s+/g,"").toLowerCase(),this.listCompany()):this.showMessage("Escriba el texto a buscar"):e===""&&(this.filter=null,this.listCompany())}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g($c),g(Z),g(K),g(W),g(Y))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-padrino-madrina-proveedor"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(bN,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterCompany=a.first)}},decls:37,vars:9,consts:[["inputstring",""],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsEmpresa"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","padMad"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],[1,"row","justify-content-start"],[1,"col-6","mt-2"],["type","button",1,"bc-button-small","bc-button-secondary",3,"click"],["id","buttonSave","type","submit",1,"bc-button-small","bc-button-primary",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-cell",""],[3,"change","value","checked"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1),s(),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"bc-form-field",5)(6,"em"),C(7,"bc-icon",6),s(),r(8,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(10,"label"),c(11,"Escriba el texto a buscar"),s()()(),r(12,"div",8)(13,"bc-form-field",9)(14,"bc-icon-button",10),_("click",function(){return v(a),S(o.applyFilter(o.searchControl.value))}),s()()()(),r(15,"div",3)(16,"div",11)(17,"table",12),F(18,13),h(19,SN,2,0,"th",14)(20,yN,2,1,"td",15),R(),F(21,16),h(22,xN,2,0,"th",14)(23,EN,2,1,"td",15),R(),F(24,17),h(25,MN,2,0,"th",18)(26,IN,3,2,"td",15),R(),h(27,TN,1,0,"tr",19)(28,PN,1,0,"tr",20),s(),r(29,"mat-paginator",21),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()(),r(30,"div",22)(31,"div",23)(32,"button",24),_("click",function(){return v(a),S(o.onNoClick())}),c(33,"Cancelar"),s()(),r(34,"div",23)(35,"button",25),_("click",function(){return v(a),S(o.save())}),c(36,"Guardar"),s()()()()}i&2&&(m(),T("Asignar proveedores: ",o.data.fullName,""),m(7),p("formControl",o.searchControl),m(9),p("dataSource",o.dataSource),m(10),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(8,vN)))},dependencies:[Io,le,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,ae,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-around}mat-selection-list[_ngcontent-%COMP%]{max-height:100%;overflow:auto;width:100%}.list[_ngcontent-%COMP%]{justify-content:space-between}.cantidad[_ngcontent-%COMP%]{padding:15px;width:100px}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}.example-full-width[_ngcontent-%COMP%]{width:100%}.vert-bottom[_ngcontent-%COMP%]{vertical-align:bottom}.expanded[_ngcontent-%COMP%]{word-break:break-all;padding:1em 1em 1em 0}.mt[_ngcontent-%COMP%]{margin-top:5px}"]})}}return t})();var DN=["filterIndicator"],FN=()=>[6,10,100,1e3];function RN(t,n){t&1&&(r(0,"th",21),c(1,"Padrino/Madrina"),s())}function kN(t,n){if(t&1&&(r(0,"td",22),c(1),s()),t&2){let e=n.$implicit;m(),I(e.fullName)}}function AN(t,n){t&1&&(r(0,"th",23),c(1,"Acciones"),s())}function ON(t,n){if(t&1){let e=E();r(0,"td",22)(1,"button",24),_("click",function(){let o=v(e).$implicit,a=x();return S(a.updatePadMad(o))}),r(2,"mat-icon"),c(3,"edit"),s()()()}}function VN(t,n){t&1&&C(0,"tr",25)}function NN(t,n){t&1&&C(0,"tr",26)}var m1=(()=>{class t{constructor(e,i,o,a,l){this.padMadProveedorService=e,this.dialog=i,this._snackBar=o,this.dialogRef=a,this.data=l,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["fullName","actions"],this.searchControl=new O}ngOnInit(){this.listPersons()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listPersons()}listPersons(){this.padMadProveedorService.getPersons(this.searchControl.value,this.page,this.limit).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.personas),this.length=e.body.data.total):this.showMessage(e.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}applyFilter(e){e!=""?e.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=e.replace(/\s+/g,"").toLowerCase(),this.listPersons()):this.showMessage("Escriba el texto a buscar"):(this.filter=null,this.listPersons())}updatePadMad(e){e.title="Actualizar indicador:",e.boton="Actualizar",e.action="Update",this.dialog.open(c1,{width:"960px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.listPersons()})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g($c),g(Z),g(K),g(W),g(Y))}}static{this.\u0275cmp=D({type:t,selectors:[["app-padrino-madrina-proveedor"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(DN,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterIndicator=a.first)}},decls:27,vars:8,consts:[["inputstring",""],["mat-dialog-title",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-6"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Asignar prooveedores",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"h2",1),c(1,"Padrino/Madrina Proveedor"),s(),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"bc-form-field",5)(6,"em"),C(7,"bc-icon",6),s(),r(8,"input",7,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(10,"label"),c(11,"Escriba el texto a buscar"),s()()(),r(12,"div",8)(13,"bc-form-field",9)(14,"bc-icon-button",10),_("click",function(){return v(a),S(o.applyFilter(o.searchControl.value))}),s()()()(),r(15,"div",3)(16,"div",11)(17,"table",12),F(18,13),h(19,RN,2,0,"th",14)(20,kN,2,1,"td",15),R(),F(21,16),h(22,AN,2,0,"th",17)(23,ON,4,0,"td",15),R(),h(24,VN,1,0,"tr",18)(25,NN,1,0,"tr",19),s(),r(26,"mat-paginator",20),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()()()}i&2&&(m(8),p("formControl",o.searchControl),m(9),p("dataSource",o.dataSource),m(7),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,FN)))},dependencies:[le,X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.estructura[_ngcontent-%COMP%]{width:20%}.accion[_ngcontent-%COMP%]{width:13%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-around}mat-selection-list[_ngcontent-%COMP%]{max-height:100%;overflow:auto;width:100%}.list[_ngcontent-%COMP%]{justify-content:space-between}.cantidad[_ngcontent-%COMP%]{padding:15px;width:100px}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0;display:block}.example-full-width[_ngcontent-%COMP%]{width:100%}.vert-bottom[_ngcontent-%COMP%]{vertical-align:bottom}.expanded[_ngcontent-%COMP%]{word-break:break-all;padding:1em 1em 1em 0}.mt[_ngcontent-%COMP%]{margin-top:5px}"]})}}return t})();var Ds=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idIndicador=e)}};var Qc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlListIndicator="/indicadorMensual/list-indicators-paginated",this.urlGetIndicatorById="/indicadorMensual/get-indicator-by-id",this.urlInsertIndicator="/indicadorMensual/insert-indicator",this.urlUpdateIndicator="/indicadorMensual/update-indicator",this.urlDeleteIndicator="/indicadorMensual/delete-indicator"}listIndicator(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlListIndicator,{params:a})}getIndicatorById(e){let i=new be().set(e?"indicatorId":"",e||"");return this.http.get(this.configService.settings.apiUrl+this.urlGetIndicatorById,{params:i})}insertIndicator(e){return this.http.post(this.configService.settings.apiUrl+this.urlInsertIndicator,e)}updateIndicator(e){return this.http.put(this.configService.settings.apiUrl+this.urlUpdateIndicator,e)}deleteIndicator(e){let i=new be().set("indicatorId",e);return this.http.delete(this.configService.settings.apiUrl+this.urlDeleteIndicator,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BN(t,n){if(t&1&&(r(0,"mat-option",18),c(1),s()),t&2){let e=n.$implicit,i=n.index;p("value",i)("id","option"+i),m(),T(" ",e," ")}}function LN(t,n){t&1&&(r(0,"mat-error"),c(1," mes requerido "),s())}function jN(t,n){t&1&&(r(0,"mat-error"),c(1," A\xF1o requerido "),s())}function zN(t,n){t&1&&(r(0,"mat-error"),c(1," A\xF1o no valido "),s())}function HN(t,n){t&1&&(r(0,"mat-error"),c(1," Indicador de servicio requerido "),s())}function qN(t,n){t&1&&(r(0,"mat-error"),c(1," Indicador de servicio no valido "),s())}var yp=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.indicatorService=l,this.successfulStatusCode=200,this.meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.buildForm()}ngOnInit(){this.data.action=="Update"&&this.loadIndicator(this.data.idIndicador)}buildForm(){this.indicator=this.fb.group({mes:["",[A.required]],anio:["",[A.required]],indicadorServicio:["",[A.required]]})}loadIndicator(e){let i;this.indicatorService.getIndicatorById(e).pipe(Ce(()=>{i&&this.indicator.patchValue({mes:i.mes,anio:i.anio,indicadorServicio:i.indicadorServicio})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.indicator:this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new Ds(rt(it({},this.indicator.value),{empresa:{idEmpresa:this.data.idEmpresa}}));this.indicatorService.insertIndicator(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}else{let e=new Ds(this.indicator.value,this.data.idIndicador);this.indicatorService.updateIndicator(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(Qc))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-indicador-de-servicio"]],decls:41,vars:13,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","cerrar","matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col"],[1,"example-full-width"],["id","selectMonth","name","mes","ngDefaultControl","",3,"formControl"],[3,"value","id",4,"ngFor","ngForOf"],[4,"ngIf"],["id","inputAnio","matInput","","type","number","name","anio","ngDefaultControl","",3,"formControl"],["id","inputIndicadorServicio","matInput","","type","number","name","indicadorServicio","ngDefaultControl","",3,"formControl"],[1,"col-12"],["id","buttonSave","type","submit","name","buttonSave",1,"bc-button-small","bc-button-primary",3,"disabled"],[3,"value","id"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",4)(8,"button",5),_("click",function(){return o.onNoClick()}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",6),_("ngSubmit",function(){return o.onSubmit()}),r(12,"div",7)(13,"div",8)(14,"div",9)(15,"mat-form-field",10)(16,"mat-label"),c(17,"Mes"),s(),r(18,"mat-select",11),h(19,BN,2,3,"mat-option",12),s(),h(20,LN,2,0,"mat-error",13),s()()(),r(21,"div",8)(22,"div",9)(23,"mat-form-field",10)(24,"mat-label"),c(25,"A\xF1o"),s(),C(26,"input",14),h(27,jN,2,0,"mat-error",13)(28,zN,2,0,"mat-error",13),s()()(),r(29,"div",8)(30,"div",9)(31,"mat-form-field",10)(32,"mat-label"),c(33,"Indicador de servicio"),s(),C(34,"input",15),h(35,HN,2,0,"mat-error",13)(36,qN,2,0,"mat-error",13),s()()(),r(37,"div",8)(38,"div",16)(39,"button",17),c(40),s()()()()()),i&2&&(m(6),T("",o.data.title," "),m(5),p("formGroup",o.indicator),m(7),p("formControl",o.indicator.controls.mes),m(),p("ngForOf",o.meses),m(),p("ngIf",o.indicator.controls.mes.hasError("required")),m(6),p("formControl",o.indicator.controls.anio),m(),p("ngIf",o.indicator.controls.anio.hasError("required")),m(),p("ngIf",o.indicator.controls.anio.hasError("pattern")),m(6),p("formControl",o.indicator.controls.indicadorServicio),m(),p("ngIf",o.indicator.controls.indicadorServicio.hasError("required")),m(),p("ngIf",o.indicator.controls.indicadorServicio.hasError("pattern")),m(3),p("disabled",!o.indicator.valid),m(),I(o.data.boton))},dependencies:[gt,le,X,Ee,_e,ve,et,St,oe,ae,V,Ye,q,Li,H,Ke,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}"]})}}return t})();var GN=["filterIndicator"],UN=()=>[6,10,100,1e3];function $N(t,n){t&1&&(r(0,"th",17),c(1,"Mes"),s())}function QN(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit,i=x();m(),I(i.meses[e.mes])}}function WN(t,n){t&1&&(r(0,"th",17),c(1,"A\xF1o"),s())}function KN(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),I(e.anio)}}function YN(t,n){t&1&&(r(0,"th",17),c(1,"Indicador de servicio"),s())}function XN(t,n){if(t&1&&(r(0,"td",18),c(1),s()),t&2){let e=n.$implicit;m(),I(e.indicadorServicio)}}function ZN(t,n){t&1&&(r(0,"th",19),c(1,"Acciones"),s())}function JN(t,n){if(t&1){let e=E();r(0,"td",18)(1,"button",20),_("click",function(){let o=v(e).$implicit,a=x();return S(a.updateIndicator(o))}),r(2,"mat-icon"),c(3,"edit"),s()(),r(4,"button",21),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openDeleteDialog(o))}),r(5,"mat-icon",22),c(6,"delete_forever"),s()()()}if(t&2){let e=n.$implicit;m(4),p("id","buttonDeleteIndicador-"+e.idIndicador)}}function eB(t,n){t&1&&C(0,"tr",23)}function tB(t,n){t&1&&C(0,"tr",24)}var p1=(()=>{class t{constructor(e,i,o,a){this.indicatorService=e,this.dialog=i,this._snackBar=o,this.data=a,this.page=1,this.limit=6,this.length=0,this.filter=null,this.meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["mes","anio","indicadorServicio","actions"]}ngOnInit(){this.listIndicators()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listIndicators()}listIndicators(){this.indicatorService.listIndicator(this.data.idEmpresa,this.page,this.limit).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.indicators),this.length=e.body.data.total):this.showMessage(e.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}createIndicator(){let e={title:"Agregar indicador:",boton:"Guardar",action:"Insert",idEmpresa:this.data.idEmpresa};this.dialog.open(yp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listIndicators()})}updateIndicator(e){e.title="Actualizar indicador:",e.boton="Actualizar",e.action="Update",this.dialog.open(yp,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.listIndicators()})}openDeleteDialog(e){e.mensaje=`\xBFRealmente desea eliminar el indicador ${this.meses[e.mes]} - ${e.anio}?`,e.boton="Eliminar",this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.indicatorService.deleteIndicator(o.data.idIndicador).subscribe(a=>{a.statusCode==200?(this.listIndicators(),this.showMessage(a.body.data.message)):this.showMessage(a.body.data.message)})})}static{this.\u0275fac=function(i){return new(i||t)(g(Qc),g(Z),g(K),g(Y))}}static{this.\u0275cmp=D({type:t,selectors:[["app-indicador-de-servicio"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(GN,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterIndicator=a.first)}},decls:24,vars:8,consts:[["mat-dialog-title",""],[1,"container"],[1,"row","justify-content-start"],[1,"col","mb-1"],[1,"bc-button-small","bc-button-primary",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","mes"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","anio"],["matColumnDef","indicadorServicio"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Editar indicador",1,"bc-button-icon",3,"click"],["matTooltip","Eliminar indicador",1,"bc-button-icon",3,"click","id"],["color","warn"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(r(0,"h2",0),c(1),s(),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),_("click",function(){return o.createIndicator()}),c(6,"A\xF1adir indicador"),s()()()(),r(7,"div",5)(8,"table",6),F(9,7),h(10,$N,2,0,"th",8)(11,QN,2,1,"td",9),R(),F(12,10),h(13,WN,2,0,"th",8)(14,KN,2,1,"td",9),R(),F(15,11),h(16,YN,2,0,"th",8)(17,XN,2,1,"td",9),R(),F(18,12),h(19,ZN,2,0,"th",13)(20,JN,7,1,"td",9),R(),h(21,eB,1,0,"tr",14)(22,tB,1,0,"tr",15),s(),r(23,"mat-paginator",16),_("page",function(l){return o.pageEvent=l,o.changePage(o.pageEvent)}),s()()),i&2&&(m(),T("Historial de indicadores de servicio de: ",o.data.dsEmpresa,""),m(7),p("dataSource",o.dataSource),m(13),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,UN)))},dependencies:[le,X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:15%}.ancho[_ngcontent-%COMP%]{width:30%}.angosto[_ngcontent-%COMP%]{width:7%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.mb-1[_ngcontent-%COMP%]{margin-bottom:5px}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-company[_ngcontent-%COMP%]{text-align:right}"]})}}return t})();var Fs=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idEmpresa=e)}};var xp=t=>({hide:t});function iB(t,n){t&1&&(r(0,"mat-error"),c(1," Nit empresa requerida "),s())}function oB(t,n){t&1&&(r(0,"mat-error"),c(1," Descripci\xF3n empresa requerida "),s())}function nB(t,n){t&1&&(r(0,"mat-error"),c(1," Debe ser mayor a 0"),s())}function aB(t,n){t&1&&(r(0,"mat-error"),c(1," Preaviso requerido "),s())}function rB(t,n){t&1&&(r(0,"mat-error"),c(1," C\xF3digo empresa requerida "),s())}function sB(t,n){if(t&1&&(r(0,"mat-option",39),c(1),s()),t&2){let e=n.$implicit;p("value",e.numberPeriodicity),m(),T(" ",e.titlePeriodicity," ")}}function lB(t,n){if(t&1&&(r(0,"mat-option",40),c(1),s()),t&2){let e=n.$implicit;p("value",e.shortName)("ngClass",yi(3,xp,!!e.hide)),m(),T(" ",e.name," ")}}function cB(t,n){if(t&1&&(r(0,"mat-option",40),c(1),s()),t&2){let e=n.$implicit;p("value",e.idState)("ngClass",yi(3,xp,!!e.hide)),m(),T(" ",e.dsState," ")}}function mB(t,n){if(t&1&&(r(0,"mat-option",40),c(1),s()),t&2){let e=n.$implicit;p("value",e.idCity)("ngClass",yi(3,xp,!!e.hide)),m(),T(" ",e.dsCity," ")}}function dB(t,n){if(t&1&&(r(0,"mat-option",39),c(1),s()),t&2){let e=n.$implicit;p("value",e),m(),T(" ",e," ")}}function pB(t,n){if(t&1&&(r(0,"div",22)(1,"div",30)(2,"mat-form-field")(3,"mat-label"),c(4,"N\xFAmero de bloque"),s(),C(5,"input",41),s()()()),t&2){let e=x();m(5),p("formControl",e.company.controls.numeroBloque)}}function uB(t,n){if(t&1&&(r(0,"button",42),c(1),s()),t&2){let e=x();m(),I(e.data.boton)}}var wp=(()=>{class t{constructor(e,i,o,a,l,d){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.companyService=l,this.countryCityStateService=d,this.successfulStatusCode=200,this.countries=[],this.states=[],this.cities=[],this.periodicities=[],this.notDemandControls=[],this.countryFilter=new O(""),this.stateFilter=new O(""),this.cityFilter=new O(""),this.country=new O(null),this.state=new O({value:null,disabled:!0}),this.buildForm(),this.getCountries(),this.getPeriodicities()}ngOnInit(){this.data.action=="Update"?this.load(this.data.idEmpresa):this.prepareLocationFields()}buildForm(){this.company=this.fb.group({nit:["",[A.required]],dsEmpresa:["",[A.required]],preaviso:["",[A.required,A.min(1)]],codEmpresa:["",[A.required]],esModeloEvalTec:[""],esEstrategiaBloques:[""],numeroBloque:[null],controlIngresoNoDemanda:[""],periodicidadSeguimientoNumero:[null],direccion:[""],idCiudad:[null]}),this.company.controls.esEstrategiaBloques.valueChanges.subscribe(e=>{e||this.company.controls.numeroBloque.setValue(null)})}load(e){let i;this.companyService.getEmpresaById(e).pipe(Ce(()=>{i&&this.company.patchValue({dsEmpresa:i.dsEmpresa,preaviso:i.preaviso,codEmpresa:i.codEmpresa,esModeloEvalTec:i.esModeloEvalTec,esEstrategiaBloques:i.esEstrategiaBloques,numeroBloque:i.numeroBloque,controlIngresoNoDemanda:i.controlIngresoNoDemanda,nit:i.nit,direccion:i.direccion,periodicidadSeguimientoNumero:i.periodicidadSeguimientoNumero})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?(i=o.body.data.companyDto,i.idCiudad&&this.getLocationByIdCity(i.idCiudad),this.prepareLocationFields()):this.showMessage(o.body.data.message)})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}onSubmit(){if(this.data.action=="Insert"){let e=new Fs(this.company.value);this.companyService.insertCompany(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}else{let e=new Fs(this.company.value,this.data.idEmpresa);this.companyService.updateCompany(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}}prepareLocationFields(){this.countryFilter.valueChanges.subscribe(e=>{this.countries=this.countries.map(i=>(e||(e=""),rt(it({},i),{hide:!i.name.toLocaleLowerCase().includes(e.trim().toLocaleLowerCase())})))}),this.stateFilter.valueChanges.subscribe(e=>{this.states=this.states.map(i=>(e||(e=""),rt(it({},i),{hide:!i.dsState.toLocaleLowerCase().includes(e.trim().toLocaleLowerCase())})))}),this.cityFilter.valueChanges.subscribe(e=>{this.cities=this.cities.map(i=>(e||(e=""),rt(it({},i),{hide:!i.dsCity.toLocaleLowerCase().includes(e.trim().toLocaleLowerCase())})))}),this.country.valueChanges.subscribe(e=>{this.state.reset(),this.state.disable(),e&&(this.getStatesByCountry(e),this.state.enable(),this.countryFilter.setValue(""))}),this.state.valueChanges.subscribe(e=>{this.company.controls.idCiudad.reset(),this.company.controls.idCiudad.disable(),e&&(this.getCitiesByState(e),this.company.controls.idCiudad.enable(),this.stateFilter.setValue(""))}),this.country.valueChanges.subscribe(e=>{e&&(this.getCitiesByState(e),this.cityFilter.setValue(""))})}getCountries(){this.countryCityStateService.getCountries().subscribe(e=>{e.statusCode===this.successfulStatusCode?this.countries=e.body.data.countries:this.showMessage(e.body.data.message)})}getStatesByCountry(e){this.countryCityStateService.getStatesByCountry(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.states=i.body.data.states:this.showMessage(i.body.data.message)})}getCitiesByState(e){this.countryCityStateService.getCitiesByState(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.cities=i.body.data.cities:this.showMessage(i.body.data.message)})}getPeriodicities(){this.companyService.getPeriodicities().subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.periodicities=e.body.data.periodicities,this.notDemandControls=e.body.data.getAllNoDemandControls):this.showMessage(e.body.data.message)})}getLocationByIdCity(e){this.countryCityStateService.getLocationByCityId(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(i.body.data.country&&(this.country.patchValue(i.body.data.country.shortName),this.country.enable()),i.body.data.state&&(this.state.patchValue(i.body.data.state.idState),this.state.enable()),i.body.data.city&&(this.company.controls.idCiudad.patchValue(i.body.data.city.idCity),this.company.controls.idCiudad.enable())):this.showMessage(i.body.data.message)})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(to),g(Ll))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-empresa"]],decls:122,vars:38,consts:[["messageDsCompany",""],["messageCompanyCode",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","cerrar","matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-6"],["id","companyNIT","matInput","","maxlength","16","ngDefaultControl","",3,"formControl"],["align","end"],[4,"ngIf"],["id","companyDescription","matInput","","maxlength","100","ngDefaultControl","",3,"formControl"],[1,"col-4"],["id","companyNotice","matInput","","type","number","ngDefaultControl","",3,"min","formControl"],["id","companyCode","matInput","","maxlength","20","ngDefaultControl","",3,"formControl"],[1,"location"],["id","companyPeriodicity","ngDefaultControl","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],["id","companyCountry","ngDefaultControl","","name","country",3,"formControl"],[1,"example-full-width"],["matInput","","ngDefaultControl","","type","text","placeholder","Buscar",3,"formControl"],[3,"value","ngClass",4,"ngFor","ngForOf"],["id","companyState","ngDefaultControl","","name","state",3,"formControl"],["id","companyCity","ngDefaultControl","","name","city",3,"formControl"],["matInput","","type","text","placeholder","Buscar",3,"formControl"],[1,"col-12"],["id","companyDirection","matInput","","maxlength","100","ngDefaultControl","",3,"formControl"],["id","notDemandControls","ngDefaultControl","",3,"formControl"],["ngDefaultControl","",1,"content-center",3,"formControl"],["id","companyYesTechnicalEvaluation",1,"mx-1",3,"value"],[1,"mx-1",3,"value"],["id","companyYesStategicalBlock",1,"mx-1",3,"value"],["class","row justify-content-center",4,"ngIf"],["id","btnSubmitAddCompany","class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],[3,"value"],[3,"value","ngClass"],["id","companyCodeNumber","matInput","","ngDefaultControl","",3,"formControl"],["id","btnSubmitAddCompany","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",6)(8,"button",7),_("click",function(){return v(a),S(o.onNoClick())}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",8),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field")(16,"mat-label"),c(17,"NIT"),s(),C(18,"input",12,0),r(20,"mat-hint",13),c(21),s(),h(22,iB,2,0,"mat-error",14),s()(),r(23,"div",11)(24,"mat-form-field")(25,"mat-label"),c(26,"Descripci\xF3n empresa"),s(),C(27,"input",15,0),r(29,"mat-hint",13),c(30),s(),h(31,oB,2,0,"mat-error",14),s()()(),r(32,"div",10)(33,"div",16)(34,"mat-form-field")(35,"mat-label"),c(36,"Preaviso"),s(),C(37,"input",17),h(38,nB,2,0,"mat-error",14)(39,aB,2,0,"mat-error",14),s()(),r(40,"div",16)(41,"mat-form-field")(42,"mat-label"),c(43,"C\xF3digo empresa"),s(),C(44,"input",18,1),r(46,"mat-hint",13),c(47),s(),h(48,rB,2,0,"mat-error",14),s()(),r(49,"div",16)(50,"mat-form-field",19)(51,"mat-label"),c(52,"Periodicidad Seguimiento"),s(),r(53,"mat-select",20),h(54,sB,2,2,"mat-option",21),s()()()(),r(55,"div",22)(56,"div",16)(57,"mat-form-field",19)(58,"mat-label"),c(59,"Pa\xEDs"),s(),r(60,"mat-select",23)(61,"mat-form-field",24),C(62,"input",25),s(),h(63,lB,2,5,"mat-option",26),s()()(),r(64,"div",16)(65,"mat-form-field",19)(66,"mat-label"),c(67,"Departamento"),s(),r(68,"mat-select",27)(69,"mat-form-field",24),C(70,"input",25),s(),h(71,cB,2,5,"mat-option",26),s()()(),r(72,"div",16)(73,"mat-form-field",19)(74,"mat-label"),c(75,"Ciudad"),s(),r(76,"mat-select",28)(77,"mat-form-field",24),C(78,"input",29),s(),h(79,mB,2,5,"mat-option",26),s()()()(),r(80,"div",10)(81,"div",30)(82,"mat-form-field")(83,"mat-label"),c(84,"Direccion"),s(),C(85,"input",31,0),r(87,"mat-hint",13),c(88),s()()()(),r(89,"div",22)(90,"div",30)(91,"mat-form-field",19)(92,"mat-label"),c(93,"Control ingreso no demanda"),s(),r(94,"mat-select",32),h(95,dB,2,2,"mat-option",21),s()()()(),r(96,"div",22)(97,"div",30)(98,"mat-label"),c(99,"Pertenece al modelo de evaluaciones t\xE9cnicas"),s(),C(100,"br"),r(101,"mat-radio-group",33)(102,"mat-radio-button",34),c(103,"Si"),s(),r(104,"mat-radio-button",35),c(105,"No"),s()()()(),C(106,"br"),r(107,"div",22)(108,"div",30)(109,"mat-label"),c(110,"Pertenece a la estrategia de bloques"),s(),C(111,"br"),r(112,"mat-radio-group",33)(113,"mat-radio-button",36),c(114,"Si"),s(),r(115,"mat-radio-button",35),c(116,"No"),s()()()(),C(117,"br"),h(118,pB,6,1,"div",37),s(),r(119,"div",10)(120,"div",30),h(121,uB,2,1,"button",38),s()()()}if(i&2){let a=re(19),l=re(45);m(6),T("",o.data.title," "),m(5),p("formGroup",o.company),m(7),p("formControl",o.company.controls.nit),m(3),T("",a.value.length," / 16"),m(),p("ngIf",o.company.controls.nit.hasError("required")),m(5),p("formControl",o.company.controls.dsEmpresa),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.company.controls.dsEmpresa.hasError("required")),m(6),p("min",1)("formControl",o.company.controls.preaviso),m(),p("ngIf",o.company.controls.preaviso.hasError("min")),m(),p("ngIf",o.company.controls.preaviso.hasError("required")),m(5),p("formControl",o.company.controls.codEmpresa),m(3),T("",l.value.length," / 20"),m(),p("ngIf",o.company.controls.codEmpresa.hasError("required")),m(5),p("formControl",o.company.controls.periodicidadSeguimientoNumero),m(),p("ngForOf",o.periodicities),m(6),p("formControl",o.country),m(2),p("formControl",o.countryFilter),m(),p("ngForOf",o.countries),m(5),p("formControl",o.state),m(2),p("formControl",o.stateFilter),m(),p("ngForOf",o.states),m(5),p("formControl",o.company.controls.idCiudad),m(2),p("formControl",o.cityFilter),m(),p("ngForOf",o.cities),m(6),p("formControl",o.company.controls.direccion),m(3),T("",a.value.length," / 100"),m(6),p("formControl",o.company.controls.controlIngresoNoDemanda),m(),p("ngForOf",o.notDemandControls),m(6),p("formControl",o.company.controls.esModeloEvalTec),m(),p("value",!0),m(2),p("value",!1),m(8),p("formControl",o.company.controls.esEstrategiaBloques),m(),p("value",!0),m(2),p("value",!1),m(3),p("ngIf",o.company.controls.esEstrategiaBloques.value==!0),m(3),p("ngIf",o.company.valid)}},dependencies:[gt,le,X,Ee,_e,ve,Fi,et,ar,rr,St,oe,Ut,ae,V,Ye,q,Li,H,Ke,$t,ka,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}#tieneFirmaPrestadorEntrenamiento[_ngcontent-%COMP%]{margin-bottom:15px}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}.content-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}}return t})();var fB=["filterCompany"],hB=()=>[6,10,100,1e3];function gB(t,n){t&1&&(r(0,"th",32),c(1,"Nit"),s())}function _B(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.nit)}}function CB(t,n){t&1&&(r(0,"th",32),c(1,"Empresa"),s())}function bB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.dsEmpresa)}}function vB(t,n){t&1&&(r(0,"th",32),c(1,"Preaviso"),s())}function SB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.preaviso)}}function yB(t,n){t&1&&(r(0,"th",32),c(1,"Direccion"),s())}function xB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.ubicacion)}}function wB(t,n){t&1&&(r(0,"th",34),c(1,"Periodicidad Seguimiento"),s())}function EB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.periodicidadSeguimientoTitulo)}}function MB(t,n){t&1&&(r(0,"th",32),c(1,"Modelo evaluci\xF3n t\xE9cnica"),s())}function IB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.esModeloEvalTec?"SI":"NO")}}function TB(t,n){t&1&&(r(0,"th",32),c(1,"Estrategia bloques"),s())}function PB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.esEstrategiaBloques?"SI":"NO")}}function DB(t,n){t&1&&(r(0,"th",32),c(1,"N\xFAmero bloque"),s())}function FB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.numeroBloque)}}function RB(t,n){t&1&&(r(0,"th",32),c(1,"C\xF3digo empresa"),s())}function kB(t,n){if(t&1&&(r(0,"td",33),c(1),s()),t&2){let e=n.$implicit;m(),I(e.codEmpresa)}}function AB(t,n){t&1&&(r(0,"th",35),c(1,"Acciones"),s())}function OB(t,n){if(t&1){let e=E();r(0,"td",33)(1,"button",36),_("click",function(){let o=v(e).$implicit,a=x();return S(a.updateCompany(o))}),r(2,"mat-icon"),c(3,"edit"),s()(),r(4,"button",37),_("click",function(){let o=v(e).$implicit,a=x();return S(a.openServiceIndicatorCompany(o))}),r(5,"mat-icon"),c(6,"assessment"),s()()()}if(t&2){let e=n.$implicit;m(),Bt("id","btnEditCompany",e.nit,"")}}function VB(t,n){t&1&&C(0,"tr",38)}function NB(t,n){t&1&&C(0,"tr",39)}var u1=(()=>{class t{constructor(e,i,o){this.companyService=e,this.dialog=i,this._snackBar=o,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["nit","dsEmpresa","preaviso","ubicacion","periodicidadSeguimiento","esModeloEvalTec","esEstrategiaBloques","numeroBloque","codEmpresa","actions"]}ngOnInit(){this.listCompany()}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listCompany()}listCompany(){this.companyService.getAllByFilter(this.filter,this.page,this.limit).subscribe(e=>{e!==void 0?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.objects),this.dataSource.sort=this.sort,this.length=e.body.data.total):this.showMessage(e.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}applyFilter(e){e!=""?e.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=e.replace(/\s+/g,"").toLowerCase(),this.listCompany()):this.showMessage("Escriba el texto a buscar"):(this.filter=null,this.listCompany())}search(){this.filterCompany.nativeElement.value.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=this.filterCompany.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listCompany()):this.showMessage("Escriba el texto a buscar")}createCompany(){let e={title:"Agregar empresa:",boton:"Guardar",action:"Insert"};this.dialog.open(wp,{data:e,maxHeight:"90vh"}).afterClosed().subscribe(o=>{o!=null&&this.listCompany()})}openPadMad(){let e={title:"Agregar empresa:",boton:"Guardar",action:"Insert"};this.dialog.open(m1,{data:e,maxHeight:"90vh"}).afterClosed().subscribe(o=>{o!=null&&this.listCompany()})}updateCompany(e){e.title="Actualizar empresa:",e.boton="Actualizar",e.action="Update",this.dialog.open(wp,{data:e,maxHeight:"90vh"}).afterClosed().subscribe(o=>{o!=null&&this.listCompany()})}openServiceIndicatorCompany(e){e.title="Indicador de Servicio:",e.boton="Actualizar",e.action="Update",this.dialog.open(p1,{data:e})}static{this.\u0275fac=function(i){return new(i||t)(g(to),g(Z),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-empresas"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(fB,7),L(J,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterCompany=a.first),j(a=z())&&(o.sort=a.first)}},decls:56,vars:8,consts:[["inputstring",""],[1,"container-fluid"],["id","filter-container",1,"row"],[1,"col-9"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","filterCompany","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearchCompany","type","outline","size","small","customIcon","search",3,"click"],["id","add-company",1,"col-2"],["matTooltip","Padrino/Madrina Proveedor",1,"bc-fab-button-mini",3,"click"],["id","btnAddCompany","matTooltip","Agregar empresa",1,"bc-fab-button-mini",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nit"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dsEmpresa"],["matColumnDef","preaviso"],["matColumnDef","ubicacion"],["matColumnDef","periodicidadSeguimiento"],["mat-header-cell","","mat-sort-header","","class","periodicidadSeguimiento",4,"matHeaderCellDef"],["matColumnDef","esModeloEvalTec"],["matColumnDef","esEstrategiaBloques"],["matColumnDef","numeroBloque"],["matColumnDef","codEmpresa"],["matColumnDef","actions"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"periodicidadSeguimiento"],["mat-header-cell","",1,"accion"],["matTooltip","Editar empresa",1,"bc-button-icon",3,"click","id"],["matTooltip","Indicador de servicio",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()(),r(13,"div",10)(14,"bc-form-field")(15,"button",11),_("click",function(){return v(a),S(o.openPadMad())}),r(16,"mat-icon"),c(17,"assignment"),s()(),r(18,"button",12),_("click",function(){return v(a),S(o.createCompany())}),r(19,"mat-icon"),c(20,"add"),s()()()()()(),r(21,"div",13)(22,"table",14),F(23,15),h(24,gB,2,0,"th",16)(25,_B,2,1,"td",17),R(),F(26,18),h(27,CB,2,0,"th",16)(28,bB,2,1,"td",17),R(),F(29,19),h(30,vB,2,0,"th",16)(31,SB,2,1,"td",17),R(),F(32,20),h(33,yB,2,0,"th",16)(34,xB,2,1,"td",17),R(),F(35,21),h(36,wB,2,0,"th",22)(37,EB,2,1,"td",17),R(),F(38,23),h(39,MB,2,0,"th",16)(40,IB,2,1,"td",17),R(),F(41,24),h(42,TB,2,0,"th",16)(43,PB,2,1,"td",17),R(),F(44,25),h(45,DB,2,0,"th",16)(46,FB,2,1,"td",17),R(),F(47,26),h(48,RB,2,0,"th",16)(49,kB,2,1,"td",17),R(),F(50,27),h(51,AB,2,0,"th",28)(52,OB,7,2,"td",17),R(),h(53,VB,1,0,"tr",29)(54,NB,1,0,"tr",30),s(),r(55,"mat-paginator",31),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(16),p("dataSource",o.dataSource),m(31),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,hB)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:8%}.ancho[_ngcontent-%COMP%]{width:30%}.angosto[_ngcontent-%COMP%]{width:7%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.periodicidadSeguimiento[_ngcontent-%COMP%]{width:15%;justify-content:center}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-company[_ngcontent-%COMP%]{text-align:right}td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:5px;padding-right:12px}"]})}}return t})();var Rs=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idProyecto=e)}};function jB(t,n){t&1&&(r(0,"mat-error"),c(1," Descripci\xF3n proyecto requerido "),s())}function zB(t,n){if(t&1&&(r(0,"button",15),c(1),s()),t&2){let e=x();m(),I(e.data.boton)}}var Ep=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this._snackBar=a,this.proyectoService=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.data.action=="Update"&&this.load(this.data.idProyecto)}buildForm(){this.project=this.fb.group({dsProyecto:["",[A.required]]})}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}onNoClick(){this.dialogRef.close()}load(e){let i;this.proyectoService.getProjectById(e).pipe(Ce(()=>{i&&this.project.patchValue({dsProyecto:i.dsProyecto})})).subscribe(o=>{o.statusCode===this.successfulStatusCode?i=o.body.data.project:this.showMessage(o.body.data.message)})}onSubmit(){if(this.data.action=="Insert"){let e=new Rs(this.project.value);this.proyectoService.insertProject(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}else{let e=new Rs(this.project.value,this.data.idProyecto);this.proyectoService.updateProject(e).subscribe(i=>{this.showMessage(i.body.data.message),this.dialogRef.close({data:this.data})})}}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(W),g(Y),g(K),g(zl))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-proyecto"]],decls:26,vars:6,consts:[["messageDsProject",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","cerrar","matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["matInput","","maxlength","200",3,"formControl"],["align","end"],[4,"ngIf"],["class","bc-button-small bc-button-primary","type","submit",4,"ngIf"],["type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4)(4,"mat-icon"),c(5,"bookmark"),s(),c(6),s()(),r(7,"div",5)(8,"button",6),_("click",function(){return v(a),S(o.onNoClick())}),r(9,"mat-icon"),c(10,"clear"),s()()()()(),r(11,"form",7),_("ngSubmit",function(){return v(a),S(o.onSubmit())}),r(12,"div",8)(13,"div",9)(14,"div",10)(15,"mat-form-field")(16,"mat-label"),c(17,"Descripci\xF3n Proyecto"),s(),C(18,"input",11,0),r(20,"mat-hint",12),c(21),s(),h(22,jB,2,0,"mat-error",13),s()()(),r(23,"div",9)(24,"div",10),h(25,zB,2,1,"button",14),s()()()()}if(i&2){let a=re(19);m(6),T("",o.data.title," "),m(5),p("formGroup",o.project),m(7),p("formControl",o.project.controls.dsProyecto),m(3),T("",a.value.length," / 100"),m(),p("ngIf",o.project.controls.dsProyecto.hasError("required")),m(3),p("ngIf",o.project.valid)}},dependencies:[le,X,Ee,_e,ve,Fi,et,oe,V,Ye,q,H,Ke,$t,G,Je],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}.boton-cerrar[_ngcontent-%COMP%] >   figure{justify-content:flex-end!important}.titulo[_ngcontent-%COMP%] >   figure{justify-content:flex-start!important}"]})}}return t})();var HB=["filterProject"],qB=()=>[6,10,100,1e3];function GB(t,n){t&1&&(r(0,"th",25),c(1," Nombre Proyecto"),s())}function UB(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.dsProyecto,"")}}function $B(t,n){t&1&&(r(0,"th",25),c(1," Estado "),s())}function QB(t,n){if(t&1&&(r(0,"td",26),c(1),s()),t&2){let e=n.$implicit;m(),T(" ",e.estado,"")}}function WB(t,n){t&1&&(r(0,"th",27),c(1,"Acciones"),s())}function KB(t,n){if(t&1){let e=E();r(0,"button",31),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.projectStatus(o))}),r(1,"mat-icon",32),c(2,"clear"),s()()}}function YB(t,n){if(t&1){let e=E();r(0,"button",33),_("click",function(){v(e);let o=x().$implicit,a=x();return S(a.projectStatus(o))}),r(1,"mat-icon"),c(2,"done"),s()()}}function XB(t,n){if(t&1){let e=E();r(0,"td",26)(1,"button",28),_("click",function(){let o=v(e).$implicit,a=x();return S(a.editProject(o))}),r(2,"mat-icon"),c(3,"edit"),s()(),h(4,KB,3,0,"button",29)(5,YB,3,0,"button",30),s()}if(t&2){let e=n.$implicit,i=x();m(),p("disabled",e.estado==i.estadoUtil.INACTIVO),m(3),p("ngIf",e.estado==i.estadoUtil.ACTIVO),m(),p("ngIf",e.estado==i.estadoUtil.INACTIVO)}}function ZB(t,n){t&1&&C(0,"tr",34)}function JB(t,n){t&1&&C(0,"tr",35)}var f1=(()=>{class t{constructor(e,i,o){this.dialog=e,this.projectService=i,this._snackBar=o,this.filtroFormControl=new O("",[]),this.displayedColumns=["dsProyecto","estado","acciones"],this.page=1,this.limit=6,this.length=0,this.filter=null,this.successfulStatusCode=200,this.estadoUtil={ACTIVO:"ACTIVO",INACTIVO:"INACTIVO"}}ngOnInit(){this.getAllProject()}getAllProject(){this.projectService.getAllProject(this.filter,this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=new Se(e.body.data.projects),this.length=e.body.data.total):this.showMessage(e.body.data.message)})}search(){this.filterProject.nativeElement.value.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=this.filterProject.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.getAllProject()):this.showMessage("Escriba el texto a buscar")}applyFilter(e){e!=""?e.replace(/\s+/g,"")!==""?(this.paginator.firstPage(),this.filter=e.replace(/\s+/g,"").toLowerCase(),this.getAllProject()):this.showMessage("Escriba el texto a buscar"):e===""&&(this.filter=null,this.getAllProject())}showMessage(e){this._snackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.getAllProject()}addProject(){let e={title:"Agregar proyecto:",boton:"Guardar",action:"Insert"};this.dialog.open(Ep,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getAllProject()})}editProject(e){e.title="Actualizar empresa:",e.boton="Actualizar",e.action="Update",this.dialog.open(Ep,{data:e}).afterClosed().subscribe(o=>{o!=null&&this.getAllProject()})}projectStatus(e){e.estado==this.estadoUtil.ACTIVO?(e.mensaje="\xBFRealmente desea inactivar el proyecto "+e.dsProyecto+"?",e.boton="Inactivar"):(e.mensaje="\xBFRealmente desea activar el proyecto "+e.dsProyecto+"?",e.boton="Activar"),this.dialog.open($e,{width:"400px",data:e}).afterClosed().subscribe(o=>{o!=null&&this.projectService.updateProjectStatus(e).pipe(Ce(()=>{this.getAllProject()})).subscribe(a=>{this.showMessage(a.body.data.message)})})}static{this.\u0275fac=function(i){return new(i||t)(g(Z),g(zl),g(K))}}static{this.\u0275cmp=D({type:t,selectors:[["app-proyectos"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(HB,7),L(J,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.filterProject=a.first),j(a=z())&&(o.sort=a.first)}},decls:33,vars:8,consts:[["inputstring",""],[1,"container-fluid"],[1,"row"],[1,"col-10"],[1,"bc-col-11"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","filterProject","type","text","value","",3,"keyup.enter","formControl"],[1,"col-1"],[1,"bc-col-1"],["id","btnSearch","type","outline","size","small","customIcon","search",3,"click"],["id","add-project",1,"col-1"],["matTooltip","Agregar proyecto",1,"bc-fab-button-mini",3,"click"],[1,"row","align-items-start"],[1,"col-12"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dsProyecto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-header-cell","","class","accion",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"accion"],["matTooltip","Editar proyecto",1,"bc-button-icon",3,"click","disabled"],["class","bc-button-icon","matTooltip","Inactivar proyecto",3,"click",4,"ngIf"],["class","bc-button-icon","matTooltip","Activar proyecto",3,"click",4,"ngIf"],["matTooltip","Inactivar proyecto",1,"bc-button-icon",3,"click"],["color","warn"],["matTooltip","Activar proyecto",1,"bc-button-icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"bc-form-field",4)(4,"em"),C(5,"bc-icon",5),s(),r(6,"input",6,0),_("keyup.enter",function(d){return v(a),S(o.applyFilter(d.target.value))}),s(),r(8,"label"),c(9,"Escriba el texto a buscar"),s()()(),r(10,"div",7)(11,"bc-form-field",8)(12,"bc-icon-button",9),_("click",function(){return v(a),S(o.search())}),s()()(),r(13,"div",10)(14,"button",11),_("click",function(){return v(a),S(o.addProject())}),r(15,"mat-icon"),c(16,"add"),s()()()(),r(17,"div",12)(18,"div",13)(19,"div",14)(20,"table",15),F(21,16),h(22,GB,2,0,"th",17)(23,UB,2,1,"td",18),R(),F(24,19),h(25,$B,2,0,"th",17)(26,QB,2,1,"td",18),R(),F(27,20),h(28,WB,2,0,"th",21)(29,XB,6,3,"td",18),R(),h(30,ZB,1,0,"tr",22)(31,JB,1,0,"tr",23),s(),r(32,"mat-paginator",24),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()()()()}i&2&&(m(6),p("formControl",o.filtroFormControl),m(14),p("dataSource",o.dataSource),m(10),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,qB)))},dependencies:[X,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,oe,V,q,H,G,te,ee,Me,fe],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}.accion[_ngcontent-%COMP%]{width:15%}.ancho[_ngcontent-%COMP%]{width:30%}.angosto[_ngcontent-%COMP%]{width:7%}.maintable[_ngcontent-%COMP%]{padding:10px}.example-spacer[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-project[_ngcontent-%COMP%]{text-align:right}"]})}}return t})();var Wc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlSubmitPersonRegion="/persona-ti-region/create-persona-ti-region-file",this.urlListPaginatedPersonRegion="/persona-ti-region/list-personas-ti-region-paginated"}sendPersonRegionFile(e){let i=new FormData;return e!=null?i.append("file",e,e.name):i.append("file",null),this.http.post(`${this.configService.settings.apiUrl+this.urlSubmitPersonRegion}`,i)}listPersonsTIRegion(e,i,o){let a=new be().set(e?"page":"",e?e.toString():"").set(i?"limit":"",i?i.toString():"").set(o?"filter":"",o||"");return this.http.get(this.configService.settings.apiUrl+this.urlListPaginatedPersonRegion,{params:a})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t9(t,n){t&1&&C(0,"img",19)}function i9(t,n){t&1&&(r(0,"div",8),C(1,"br")(2,"div",20),r(3,"div",21),C(4,"mat-spinner",22),s(),C(5,"div",20),s()),t&2&&(m(4),p("diameter",50))}var g1=(()=>{class t{constructor(e,i,o,a){this.formBuilder=e,this.matSnackBar=i,this.dialogRef=o,this.personaTiRegionService=a,this.successStatusCode=200,this.showFileErrorMessage=!1,this.fileUploadTextMessage="Seleccionar archivo de excel",this.fileName=this.fileUploadTextMessage,this.MAXIMO_TAMANIO_BYTES=1e6,this.showSpinner=!1}ngOnInit(){this.buildForm()}buildForm(){this.personRegionForm=this.formBuilder.group({fileFormControl:[this.fileName,A.required]})}getPeopleRegionFile(e){e.target.files[0]!=null&&(e.target.files[0].size<this.MAXIMO_TAMANIO_BYTES?(this.personRegionForm.controls.fileFormControl.setValue(e.target.files[0].name),this.fileObject=e.target.files[0]):(this.personRegionForm.controls.fileFormControl.setValue(""),this.showMessage("El documento no puede superar 1MB de informaci\xF3n")))}showMessage(e){this.matSnackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}closePopupWindow(){this.dialogRef.close()}validateFileExcel(){return this.personRegionForm.controls.fileFormControl.value===this.fileUploadTextMessage}registerPeopleRegion(){this.showSpinner=!0,this.personaTiRegionService.sendPersonRegionFile(this.fileObject).pipe(Ce(()=>{this.showSpinner=!1})).subscribe(e=>{e!==void 0&&(e.statusCode===this.successStatusCode?(this.showMessage(e.body.data.message),this.dialogRef.close(!0)):this.showMessage(e.body.data.message))})}static{this.\u0275fac=function(i){return new(i||t)(g(at),g(K),g(W),g(Wc))}}static{this.\u0275cmp=D({type:t,selectors:[["app-incorporar-personas-ti-regiones"]],decls:32,vars:4,consts:[["fileInput",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["matTooltip","Cerrar",1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["autosize",""],["src","assets/iconos/excel.png","width","30px","alt","",4,"ngIf"],["matInput","","readonly","","name","nameFile",1,"pequenio",3,"formControl"],["type","file","id","fileUpload","name","uploadFile","accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"change"],["mat-button",""],["class","row justify-content-start",4,"ngIf"],[1,"col-6"],["id","btnSave","matTooltip","Guardar",1,"bc-button-primary",3,"click","disabled"],["id","btnCancel","matTooltip","Cancelar","cdkFocusInitial","",1,"bc-button-secondary",3,"click"],["src","assets/iconos/excel.png","width","30px","alt",""],[1,"col-5"],[1,"col-2"],[3,"diameter"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),c(4,"Incorporar personas regiones"),s()(),r(5,"div",5)(6,"button",6),_("click",function(){return v(a),S(o.closePopupWindow())}),r(7,"mat-icon"),c(8,"clear"),s()()()()(),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"mat-drawer-container",10)(13,"mat-toolbar"),h(14,t9,1,0,"img",11),C(15,"input",12),r(16,"input",13,0),_("change",function(d){return v(a),S(o.getPeopleRegionFile(d))}),s(),r(18,"button",14)(19,"mat-icon"),c(20,"file_upload"),s(),c(21," Seleccionar "),s()()()()(),C(22,"br"),h(23,i9,6,1,"div",15),C(24,"br"),r(25,"div",8)(26,"div",16)(27,"button",17),_("click",function(){return v(a),S(o.registerPeopleRegion())}),c(28,"Guardar"),s()(),r(29,"div",16)(30,"button",18),_("click",function(){return v(a),S(o.closePopupWindow())}),c(31,"Cancelar"),s()()()()}i&2&&(m(14),p("ngIf",!o.validateFileExcel()),m(),p("formControl",o.personRegionForm.controls.fileFormControl),m(8),p("ngIf",o.showSpinner),m(4),p("disabled",o.validateFileExcel()))},dependencies:[Ri,le,X,Ee,En,dr,Xo,oe,V,q,H,G],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{font-size:80%}#fileUpload[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;z-index:9;opacity:0;cursor:pointer;position:absolute}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fdc82a!important}"]})}}return t})();var o9=()=>[6,10,100,1e3];function n9(t,n){t&1&&(r(0,"th",22),c(1,"Documento de identidad"),s())}function a9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.cedula)}}function r9(t,n){t&1&&(r(0,"th",22),c(1,"Nombre"),s())}function s9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.nombreCompleto)}}function l9(t,n){t&1&&(r(0,"th",22),c(1,"Proveedor"),s())}function c9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.idEmpresaProveedor)}}function m9(t,n){t&1&&(r(0,"th",22),c(1,"Fecha ingreso"),s())}function d9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.fechaIngreso)}}function p9(t,n){t&1&&(r(0,"th",22),c(1,"Fecha fin"),s())}function u9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.fechaFin)}}function f9(t,n){t&1&&(r(0,"th",22),c(1,"Estado"),s())}function h9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.estado)}}function g9(t,n){t&1&&(r(0,"th",22),c(1,"Empresa Region"),s())}function _9(t,n){if(t&1&&(r(0,"td",23),c(1),s()),t&2){let e=n.$implicit;m(),I(e.idEmpresaRegion)}}function C9(t,n){t&1&&C(0,"tr",24)}function b9(t,n){t&1&&C(0,"tr",25)}var _1=(()=>{class t{constructor(e,i,o){this.matSnackBar=e,this.dialog=i,this.personaTiRegionService=o,this.page=1,this.limit=6,this.length=0,this.waitTime=500,this.successStatusCode=200,this.filtroFormControl=new O("",[]),this.displayedColumns=["identificationCard","personName","provider","admissionDate","endDate","state","region"]}ngOnInit(){this.eventFilter(),this.listPersonRegion()}eventFilter(){this.filtroFormControl.valueChanges.pipe(Gi(this.waitTime)).subscribe(e=>{this.paginator.firstPage(),this.listPersonRegion()})}showMessage(e){this.matSnackBar.open(e,"",{duration:5e3,panelClass:["mat-simple-snackbar-action"]})}listPersonRegion(){this.personaTiRegionService.listPersonsTIRegion(this.page,this.limit,this.filtroFormControl.value).subscribe(e=>{e?e.statusCode===this.successStatusCode?(this.dataSource=new Se(e.body.data.personasTIRegion),this.length=e.body.data.total):this.showMessage(e.body.data.message):this.showMessage("No se recibe objeto respuesta del servidor")})}changePage(e){this.page=parseInt(e.pageIndex+1),this.limit=parseInt(e.pageSize),this.listPersonRegion()}submitFile(){this.dialog.open(g1,{width:"600px"}).afterClosed().subscribe(()=>{this.listPersonRegion()})}static{this.\u0275fac=function(i){return new(i||t)(g(K),g(Z),g(Wc))}}static{this.\u0275cmp=D({type:t,selectors:[["app-persona-ti-regiones"]],viewQuery:function(i,o){if(i&1&&(L($,7),L($,7),L(J,7)),i&2){let a;j(a=z())&&(o.pageEvent=a.first),j(a=z())&&(o.paginator=a.first),j(a=z())&&(o.sort=a.first)}},decls:42,vars:8,consts:[["inputstring",""],[1,"container-fluid"],["id","nav_regiones",1,"row","justify-content-start"],[1,"col-3"],["id","personRegionFilter","matInput","","placeholder","Escriba el texto a buscar",3,"formControl"],["bc-button","","id","btnUploadFile","typebutton","primary","sizebutton","small",1,"bc-button-fill","bc-button-primary","bc-button-small",3,"click"],["aria-hidden","true","aria-label","icono","role","img",1,"bc-icon","bc-sm"],[1,"row","justify-content-start"],[1,"col-12"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","identificationCard"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","personName"],["matColumnDef","provider"],["matColumnDef","admissionDate"],["matColumnDef","endDate"],["matColumnDef","state"],["matColumnDef","region"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3),C(3,"br"),r(4,"mat-form-field")(5,"mat-label"),c(6,"Filtro"),s(),C(7,"input",4,0),s()(),r(9,"div",3),C(10,"br"),r(11,"button",5),_("click",function(){return v(a),S(o.submitFile())}),c(12,"Incorporar archivo "),r(13,"i",6),c(14,"upload"),s()()()(),r(15,"div",7)(16,"div",8)(17,"table",9),F(18,10),h(19,n9,2,0,"th",11)(20,a9,2,1,"td",12),R(),F(21,13),h(22,r9,2,0,"th",11)(23,s9,2,1,"td",12),R(),F(24,14),h(25,l9,2,0,"th",11)(26,c9,2,1,"td",12),R(),F(27,15),h(28,m9,2,0,"th",11)(29,d9,2,1,"td",12),R(),F(30,16),h(31,p9,2,0,"th",11)(32,u9,2,1,"td",12),R(),F(33,17),h(34,f9,2,0,"th",11)(35,h9,2,1,"td",12),R(),F(36,18),h(37,g9,2,0,"th",11)(38,_9,2,1,"td",12),R(),h(39,C9,1,0,"tr",19)(40,b9,1,0,"tr",20),s(),r(41,"mat-paginator",21),_("page",function(d){return v(a),o.pageEvent=d,S(o.changePage(o.pageEvent))}),s()()()()}i&2&&(m(7),p("formControl",o.filtroFormControl),m(10),p("dataSource",o.dataSource),m(22),p("matHeaderRowDef",o.displayedColumns),m(),p("matRowDefColumns",o.displayedColumns),m(),p("length",o.length)("pageSize",o.limit)("pageSizeOptions",Te(7,o9)))},dependencies:[Ee,_e,ve,$,J,ze,Pe,Oe,Ne,Fe,De,ke,Ve,Re,Be,Ae,q,H,G,kt],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}mat-form-field[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{font-size:80%}table[_ngcontent-%COMP%]{width:100%}#file-upload[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;z-index:9;opacity:0;cursor:pointer;position:absolute}#nav_regiones[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;gap:30%}"]})}}return t})();var ks=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.appendixId=e)}};var wr=(()=>{class t{constructor(e,i){this.Http=e,this.configService=i,this.urlListAppendices="/anexo/list-appendices",this.urlGetAppendixById="/anexo/get-appendix-by-id",this.urlAddAppendix="/anexo/add-appendix",this.urlUpdateAppendix="/anexo/update-appendix",this.urlChangeStateAppendix="/anexo/change-state-appendix",this.urlGetSupplierAnnexReport="/anexo/getSupplierAnnexReport"}listAppendices(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e?e.toString():"");return this.Http.get(this.configService.settings.apiUrl+this.urlListAppendices,{params:a})}getAppendixById(e){return this.Http.get(`${this.configService.settings.apiUrl+this.urlGetAppendixById}/${e}`,{})}addAppendix(e){return this.Http.post(`${this.configService.settings.apiUrl+this.urlAddAppendix}`,e)}updateAppendix(e){return this.Http.put(`${this.configService.settings.apiUrl+this.urlUpdateAppendix}`,e)}changeStateAppendix(e,i){let o=new be().set("appendixId",e).set("state",i);return this.Http.put(this.configService.settings.apiUrl+this.urlChangeStateAppendix,o)}getSupplierAnnexReport(){return this.Http.get(this.configService.settings.apiUrl+this.urlGetSupplierAnnexReport)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var C1=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this.anexoService=a,this.dialogService=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.getAppendixById()}buildForm(){this.appendix=this.fb.group({appendixDs:["",[A.required]]})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}getAppendixById(){let e;this.data.action==="update"&&this.anexoService.getAppendixById(this.data.appendixId).pipe(Ce(()=>{e&&this.appendix.patchValue({appendixDs:e.appendixDs})})).subscribe(i=>{i.statusCode===this.successfulStatusCode&&i.body.data.appendixQueryObject?e=i.body.data.appendixQueryObject:this.showMessage(i.body.data.message,"error","Listar origen conocimientos")})}onSubmit(){if(this.data.action=="create"){let e=new ks(this.appendix.value);this.anexoService.addAppendix(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Agregar anexo"):this.showMessage(i.body.data.message,"error","Agregar anexo"),this.dialogRef.close({data:this.data})})}else{let e=new ks(this.appendix.value,this.data.appendixId);this.anexoService.updateAppendix(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Actualizar anexo"):this.showMessage(i.body.data.message,"error","Actualizar anexo"),this.dialogRef.close({data:this.data})})}}closePopupWindow(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Y),g(wr),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-anexo"]],decls:21,vars:4,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],["id","btnClose","type","outline","size","small","customIcon","error",2,"float","right",3,"click"],[1,"col-12"],[3,"ngSubmit","formGroup"],["id","appendixDs","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],["for","dsAnexo"],[1,"row","justify-content-start"],["id","btnAddUpdateAppendix","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"bc-icon-button",5),_("click",function(){return o.closePopupWindow()}),s()()(),r(7,"div",1)(8,"div",6)(9,"form",7),_("ngSubmit",function(){return o.onSubmit()}),r(10,"div")(11,"bc-form-field"),C(12,"input",8),r(13,"label",9),c(14,"Descripci\xF3n anexo"),s(),r(15,"span"),c(16,"Obligatorio"),s()()(),r(17,"div",10)(18,"div",6)(19,"button",11),c(20),s()()()()()()()),i&2&&(m(4),I(o.data.title),m(5),p("formGroup",o.appendix),m(3),p("formControl",o.appendix.controls.appendixDs),m(8),I(o.data.boton))},dependencies:[le,Ye,q,H,Ke,At,G,Je,te,ee,fe]})}}return t})();var S9=["modal"],y9=["inputstring"],b1=(t,n)=>({activo:t,inactivo:n});function x9(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",20),c(2),s(),r(3,"td",20)(4,"bc-icon",21),c(5),s()(),r(6,"td",22)(7,"button",23),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.activateInactiveAppendixPrepare(o))}),r(8,"bc-icon",21),c(9),s()(),r(10,"button",24)(11,"bc-icon",25),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.createUpdateAppendix(o))}),c(12,"edit-document"),s()()()()}if(t&2){let e=n.$implicit,i=n.index;m(2),I(e.appendixDs),m(2),vt("bcTooltipText",e.state=="I"?"Inactivo":"Activo"),p("ngClass",no(13,b1,e.state==="A",e.state==="I")),m(),T(" ",e.state==="A"?"document-check":"circle-error"," "),m(2),wi("id","",e.appendixDs,"_",i,"_activeInactive"),m(),vt("bcTooltipText",e.state=="I"?"Activar":"Inactivar"),p("ngClass",no(16,b1,e.state==="I",e.state==="A")),m(),I(e.state==="I"?"document-check":"circle-error"),m(),wi("id","",e.appendixDs,"_",i,"_update")}}function w9(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"Descripci\xF3n anexo"),s(),r(9,"th",18),c(10,"Estado"),s(),r(11,"th",18),c(12,"Acciones"),s()()(),r(13,"tbody"),h(14,x9,13,19,"tr",19),s()()(),C(15,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0),m(10),p("ngForOf",e.dataSource)}}var v1=(()=>{class t{constructor(e,i,o){this.anexoService=e,this.dialogService=i,this.dialog=o,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.dataSource=[],this.changeState=!1,this.titleAlign="",this.customWidth="large",this.typeIcon="error"}ngOnInit(){this.listAppendices()}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listAppendices()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listAppendices()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listAppendices())}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listAppendices())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}listAppendices(){this.anexoService.listAppendices(this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar anexos contratos");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar anexos contratos");return}this.dataSource=e.body.data.objects,this.length=e.body.data.total})}onPressButton(e){e?(this.changeState=!0,this.activateInactiveAppendix()):this.modal.shutDown()}activateInactiveAppendixPrepare(e){this.appendix=e,this.appendixId=e.appendixId,this.appendixState=e.state==="A"?"I":"A",this.modal.openModal()}createUpdateAppendix(e){let i={};e?(i.title="Editar Anexo Contrato:",i.appendixId=e.appendixId,i.action="update",i.boton="Actualizar"):(i.title="Agregar Anexo Contrato:",i.boton="Guardar",i.action="create"),this.dialog.open(C1,{width:"450px",data:i}).afterClosed().subscribe(a=>{a&&this.listAppendices()})}activateInactiveAppendix(){this.changeState&&(this.modal.shutDown(),this.anexoService.changeStateAppendix(this.appendixId,this.appendixState).subscribe(e=>{e.statusCode==this.successStatusCode?(this.showMessage(e.body.data.message,"success","Modificar estado anexo"),this.listAppendices()):this.showMessage("Ha fallado el cambio de estado del anexo.","error","Modificar estado anexo")}))}static{this.\u0275fac=function(i){return new(i||t)(g(wr),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-anexo-contrato"]],viewQuery:function(i,o){if(i&1&&(L(S9,5),L(y9,7)),i&2){let a;j(a=z())&&(o.modal=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:18,vars:14,consts:[["inputstring",""],["modal",""],[1,"container"],[1,"col-6","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstring","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["id","addApendix",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["title","ADVERTENCIA","textBtnLeft","Cancelar","textBtn","Aceptar","isCancellable","false",3,"stateClick","typeIcon","customWidth","titleAlign"],["modalContent",""],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col"],[4,"ngFor","ngForOf"],["bc-cell",""],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","left",3,"ngClass","bcTooltipText"],["type","action","bc-cell",""],["button","","bc-fab-button","","typeButton","mini","aria-label","cambiar-estado-anexo",3,"click","id"],["button","","bc-fab-button","","typeButton","mini","aria-label","actualizar-anexo",3,"id"],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","down","bcTooltipText","Editar",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"bc-search-content-items",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",8),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",9),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",10),_("click",function(){return v(a),S(o.createUpdateAppendix())}),s()(),h(12,w9,16,7,"bc-table-container",11),r(13,"bc-modal",12,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(15,"div",13)(16,"em"),c(17,"Ten presente que este anexo puede estar relacionado con muchos contratos, por ende, antes de cambiar el estado, verifica las condiciones de los contratos que est\xE1n relacionados con este anexo."),s()()()}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign))},dependencies:[Ut,ae,V,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,Wt,fe],styles:['table[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}.activo[_ngcontent-%COMP%]{color:green}.inactivo[_ngcontent-%COMP%]{color:red}.margin[_ngcontent-%COMP%]{padding-left:.2em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48!important}button[_ngcontent-%COMP%]{border:solid 1px #292929;border-radius:20px;font-size:14px}th[_ngcontent-%COMP%]{font-family:Open Sans SemiBold;font-size:16px;line-height:24px;text-align:left;position:relative;cursor:pointer;color:#000}td[_ngcontent-%COMP%]{padding:0 14px;font-family:Open Sans;font-size:14px;line-height:16px;height:56px;vertical-align:middle}.space-i[_ngcontent-%COMP%]{width:100%;height:80px;background:#fff;display:inline-flex;padding:8px 24px 24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;box-shadow:0 1px 4px #0000001a}  .bc-table-container .bc-table-header-top{min-height:0px!important}']})}}return t})();var As=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.tipoContratoId=e)}};var Kc=(()=>{class t{constructor(e,i){this.Http=e,this.configService=i,this.urlListContractType="/tipocontrato/list-contract-type",this.urlGetContractTypeById="/tipocontrato/get-contract-type-by-id",this.urlAddContractType="/tipocontrato/add-contract-type",this.urlUpdateContractType="/tipocontrato/update-contract-type",this.urlChangeStateContractType="/tipocontrato/change-state-contract-type"}listContractType(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e?e.toString():"");return this.Http.get(this.configService.settings.apiUrl+this.urlListContractType,{params:a})}getContractTypeById(e){return this.Http.get(`${this.configService.settings.apiUrl+this.urlGetContractTypeById}/${e}`,{})}addContractType(e){return this.Http.post(`${this.configService.settings.apiUrl+this.urlAddContractType}`,e)}updateContractType(e){return this.Http.put(`${this.configService.settings.apiUrl+this.urlUpdateContractType}`,e)}changeStateContractType(e,i){let o=new be().set("tipoContratoId",e).set("state",i);return this.Http.put(this.configService.settings.apiUrl+this.urlChangeStateContractType,o)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var y1=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this.tipoContratoService=a,this.dialogService=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.getContractTypeById()}buildForm(){this.contractType=this.fb.group({tipoContratoId:[null],tipoContratoDs:["",[A.required]]})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}getContractTypeById(){let e;this.data.action==="update"&&this.tipoContratoService.getContractTypeById(this.data.tipoContratoId).pipe(Ce(()=>{e&&this.contractType.patchValue({tipoContratoId:this.data.tipoContratoId,tipoContratoDs:e.tipoContratoDs})})).subscribe(i=>{i.statusCode===this.successfulStatusCode&&i.body.data.tipoContratoQueryObject?e=i.body.data.tipoContratoQueryObject:this.showMessage(i.body.data.message,"error","Listar origen conocimientos")})}onSubmit(){if(this.data.action=="create"){let e=new As(this.contractType.value);this.tipoContratoService.addContractType(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Agregar tipo contrato"):this.showMessage(i.body.data.message,"error","Agregar tipo contrato"),this.dialogRef.close({data:this.data})})}else{let e=new As(this.contractType.value,this.data.tipoContratoId);this.tipoContratoService.updateContractType(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Actualizar tipo contrato"):this.showMessage(i.body.data.message,"error","Actualizar tipo contrato"),this.dialogRef.close({data:this.data})})}}closePopupWindow(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Y),g(Kc),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-tipo-contrato"]],decls:20,vars:4,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-11"],[2,"font-family","'Open Sans SemiBold'","font-size","16px","line-height","24px"],[1,"col-1",2,"float","right"],["id","btnClose","type","outline","size","small","customIcon","error",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"col-12"],["id","createUpdateContractType","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],["for","tipoContratoDs"],[1,"row","justify-content-start"],["id","btnAddUpdateContractType","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"bc-icon-button",5),_("click",function(){return o.closePopupWindow()}),s()()(),r(7,"form",6),_("ngSubmit",function(){return o.onSubmit()}),r(8,"div",1)(9,"div",7)(10,"bc-form-field"),C(11,"input",8),r(12,"label",9),c(13,"Descripci\xF3n Tipo Contrato"),s(),r(14,"span"),c(15,"Obligatorio"),s()()()(),r(16,"div",10)(17,"div",7)(18,"button",11),c(19),s()()()()()),i&2&&(m(4),T(" ",o.data.title,""),m(3),p("formGroup",o.contractType),m(4),p("formControl",o.contractType.controls.tipoContratoDs),m(8),I(o.data.boton))},dependencies:[Ye,q,H,Ke,At,G,Je,te,ee,fe]})}}return t})();var M9=["modal"],I9=["inputstring"],x1=(t,n)=>({activo:t,inactivo:n});function T9(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",20),c(2),s(),r(3,"td",20)(4,"bc-icon",21),c(5),s()(),r(6,"td",22)(7,"button",23),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.activateInactiveContractTypePrepare(o))}),r(8,"bc-icon",21),c(9),s()(),r(10,"button",24)(11,"bc-icon",25),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.createUpdateContractType(o))}),c(12,"edit-document"),s()()()()}if(t&2){let e=n.$implicit,i=n.index;m(2),I(e.tipoContratoDs),m(2),vt("bcTooltipText",e.state=="I"?"Inactivo":"Activo"),p("ngClass",no(13,x1,e.state==="A",e.state==="I")),m(),T(" ",e.state==="A"?"document-check":"circle-error"," "),m(2),wi("id","",e.tipoContratoDs,"_",i,"_activeInactive"),m(),vt("bcTooltipText",e.state=="I"?"Activar":"Inactivar"),p("ngClass",no(16,x1,e.state==="I",e.state==="A")),m(),I(e.state==="I"?"document-check":"circle-error"),m(),wi("id","",e.tipoContratoDs,"_",i,"_update")}}function P9(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"Descripci\xF3n contrato"),s(),r(9,"th",18),c(10,"Estado"),s(),r(11,"th",18),c(12,"Acciones"),s()()(),r(13,"tbody"),h(14,T9,13,19,"tr",19),s()()(),C(15,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0),m(10),p("ngForOf",e.dataSource)}}var w1=(()=>{class t{constructor(e,i,o){this.tipoContratoService=e,this.dialogService=i,this.dialog=o,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.dataSource=[],this.changeState=!1,this.titleAlign="",this.customWidth="large",this.typeIcon="error"}ngOnInit(){this.listContractType()}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listContractType()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listContractType()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listContractType())}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listContractType())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}listContractType(){this.tipoContratoService.listContractType(this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar tipo contratos");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar tipo contratos");return}this.dataSource=e.body.data.objects,this.length=e.body.data.total})}onPressButton(e){e?(this.changeState=!0,this.activateInactiveContractType()):this.modal.shutDown()}activateInactiveContractTypePrepare(e){this.contractType=e,this.tipoContratoId=e.tipoContratoId,this.contractTypeState=e.state==="A"?"I":"A",this.modal.openModal()}createUpdateContractType(e){let i={};e?(i.title="Editar Tipo de contrato:",i.tipoContratoId=e.tipoContratoId,i.action="update",i.boton="Actualizar"):(i.title="Agregar Tipo de contrato:",i.boton="Guardar",i.action="create"),this.dialog.open(y1,{width:"450px",data:i}).afterClosed().subscribe(a=>{a&&this.listContractType()})}activateInactiveContractType(){this.changeState&&(this.modal.shutDown(),this.tipoContratoService.changeStateContractType(this.tipoContratoId,this.contractTypeState).subscribe(e=>{e.statusCode==this.successStatusCode?(this.showMessage(e.body.data.message,"success","Modificar estado tipo contrato"),this.listContractType()):this.showMessage("Ha fallado el cambio de estado del tipo contrato.","error","Modificar estado tipo contrato")}))}static{this.\u0275fac=function(i){return new(i||t)(g(Kc),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-tipo-contratos"]],viewQuery:function(i,o){if(i&1&&(L(M9,5),L(I9,7)),i&2){let a;j(a=z())&&(o.modal=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:18,vars:14,consts:[["inputstring",""],["modal",""],[1,"container"],[1,"col-6","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstring","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["id","addContractType","aria-label","add contract type",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["title","ADVERTENCIA","textBtnLeft","Cancelar","textBtn","Aceptar","isCancellable","false",3,"stateClick","typeIcon","customWidth","titleAlign"],["modalContent",""],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col","fixed","true"],[4,"ngFor","ngForOf"],["bc-cell",""],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","left",3,"ngClass","bcTooltipText"],["type","action","bc-cell",""],["button","","bc-fab-button","","typeButton","mini","aria-label","cambiar-estado-tipo-contrato",3,"click","id"],["button","","bc-fab-button","","typeButton","mini","aria-label","actualizar-tipo-contrato",3,"id"],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","down","bcTooltipText","Editar",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"bc-search-content-items",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",8),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",9),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",10),_("click",function(){return v(a),S(o.createUpdateContractType())}),s()(),h(12,P9,16,7,"bc-table-container",11),r(13,"bc-modal",12,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(15,"div",13)(16,"em"),c(17,"Ten presente que este tipo de contrato puede estar relacionado con muchos contratos, por ende, antes de cambiar el estado, verifica las condiciones de los contratos que est\xE1n relacionados con este tipo de contrato"),s()()()}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign))},dependencies:[Ut,ae,V,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,Wt,fe],styles:['table[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}.activo[_ngcontent-%COMP%]{color:green}.inactivo[_ngcontent-%COMP%]{color:red}.margin[_ngcontent-%COMP%]{padding-left:.2em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48!important}button[_ngcontent-%COMP%]{border:solid 1px #292929;border-radius:20px;font-size:14px}th[_ngcontent-%COMP%]{font-family:Open Sans SemiBold;font-size:16px;line-height:24px;text-align:left;position:relative;cursor:pointer;color:#000}td[_ngcontent-%COMP%]{padding:0 14px;font-family:Open Sans;font-size:14px;line-height:16px;height:56px;vertical-align:middle}.space-i[_ngcontent-%COMP%]{width:100%;height:80px;background:#fff;display:inline-flex;padding:8px 24px 24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;box-shadow:0 1px 4px #0000001a}  .bc-table-container .bc-table-header-top{min-height:0px!important}']})}}return t})();var E1=(()=>{class t{constructor(){}formatSizeCeldasExcel(e){let i=mr.decode_range(e["!ref"]),o=[];for(let a=i.s.c;a<=i.e.c;a++){let l=mr.encode_cell({r:0,c:a}),d=e[l],f=d?String(d.v).length:0;for(let b=i.s.r+1;b<=i.e.r;b++){let y=e[mr.encode_cell({r:b,c:a})]?.v,w=y?String(y).length:0;f=Math.max(f,w)}o[a]=Math.max(f+2,10)}e["!cols"]=o.map(a=>({width:a}))}saveAsExcelFile(e,i){let o=new Blob([e],{type:"application/octet-stream"}),a=document.createElement("a"),l=window.URL.createObjectURL(o),d=this.dateNowDDMMYYYY();a.href=l,a.download=i+"_"+d+".xlsx",a.click(),window.URL.revokeObjectURL(l),a.remove()}formatHeader(e){switch(e){case"CATEGORIA PRINCIPAL":return"CATEGOR\xCDA PRINCIPAL";case"CATEGORIA NIVEL 1":return"CATEGOR\xCDA NIVEL 1";case"CATEGORIA NIVEL 2":return"CATEGOR\xCDA NIVEL 2";case"ESTADO":return"ESTADO";case"DUE\xD1O":return"DUE\xD1O";case"CONOCIMIENTO":return"CONOCIMIENTO";case"TIPO CONOCIMIENTO":return"TIPO CONOCIMIENTO";default:return e.toUpperCase()}}dateNowDDMMYYYY(){let e=new Date,i=e.getDate(),o=e.getMonth()+1,a=e.getFullYear();return o<10?`${i}/0${o}/${a}`:`${i}/${o}/${a}`}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A9(t,n){if(t&1){let e=E();r(0,"a",23),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",24),c(2,"search"),s(),r(3,"span"),c(4,"B\xFAsqueda avanzada"),s(),r(5,"bc-icon",25),c(6,"arrow2-down"),s()()}}function O9(t,n){if(t&1){let e=E();r(0,"a",23),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",24),c(2,"search"),s(),r(3,"span"),c(4,"Ocultar b\xFAsqueda avanzada"),s(),r(5,"bc-icon",25),c(6,"arrow2-down"),s()()}}function V9(t,n){if(t&1&&(r(0,"div",2)(1,"div",11)(2,"bc-form-field"),C(3,"input",26),r(4,"span"),c(5,"Due\xF1o"),s()()(),r(6,"div",11)(7,"bc-form-field"),C(8,"input",27),r(9,"span"),c(10,"Conocimiento"),s()()(),r(11,"div",11)(12,"bc-form-field"),C(13,"bc-input-select",28),s()(),r(14,"div",11)(15,"bc-form-field"),C(16,"bc-input-select",29),s()()()),t&2){let e=x();m(3),p("formControl",e.searchForm.controls.ownerFormControl),m(5),p("formControl",e.searchForm.controls.knowledgeFormControl),m(5),p("values",e.optionTypesKnowledge)("formControl",e.searchForm.controls.knowledgeTypeFormControl),m(3),p("values",e.valuesSelectSearch)("formControl",e.searchForm.controls.stateFormControl)}}var M1=(()=>{class t{constructor(e,i,o,a,l){this.categoryService=e,this.fb=i,this.dialogService=o,this.generateExcelCategoryService=a,this.knowledgeService=l,this.successStatusCode=200,this.valuesSelectSearch=[{label:"Activo",value:"A"},{label:"Inactivo",value:"I"},{label:"En definici\xF3n",value:"D"}],this.valuesLevelSearch=[{label:"Principal",value:"c1"},{label:"Nivel 1",value:"c2"},{label:"Nivel 2",value:"c3"}],this.notFoundStatusCode=404,this.visibleAdvancedSearch=!1,this.dataSource=[],this.waitTime=500,this.page=1,this.limit=5,this.totalRegisters=0}ngOnInit(){this.setTableSettings(),this.buildForm(),this.getOfficialCategories(),this.loadKnowledgeTypes(),this.eventFilter()}eventFilter(){this.searchForm.get("categoryFormControl").valueChanges.pipe(Gi(this.waitTime)).subscribe(e=>{this.getOfficialCategories()})}buildForm(){this.searchForm=this.fb.group({categoryFormControl:["",[]],stateFormControl:["",[]],levelFormControl:["",[]],ownerFormControl:["",[]],knowledgeFormControl:["",[]],knowledgeTypeFormControl:["",[]]})}getOfficialCategories(){this.categoryService.getOfficialCategoriesByFilter(this.searchForm.get("levelFormControl").value,this.searchForm.get("categoryFormControl").value,this.searchForm.get("stateFormControl").value,this.searchForm.get("ownerFormControl").value,this.searchForm.get("knowledgeFormControl").value,this.searchForm.get("knowledgeTypeFormControl").value,this.page,this.limit).subscribe(e=>{e.statusCode===this.successStatusCode?(this.dataSource=e.body.data.officialCategories,this.totalRegisters=e.body.data.total):e.statusCode===this.notFoundStatusCode&&(this.dataSource=[],this.totalRegisters=this.dataSource.length,this.showMessage(e.body.data.message,"error","Listar categorias"))})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:5e3})}setTableSettings(){this.tableSettings=[{header:"Categor\xEDa Principal",primaryKey:"categoriaPrincipal"},{header:"Subcategor\xEDa Nivel 1",primaryKey:"subcategoriaNivel1"},{header:"Subcategor\xEDa Nivel 2",primaryKey:"subcategoriaNivel2"},{header:"Estado",primaryKey:"estado"},{header:"Due\xF1o",primaryKey:"persona"},{header:"Conocimiento",primaryKey:"conocimiento"},{header:"Tipo Conocimiento",primaryKey:"tipoConocimiento"}]}exportToExcel(){let e=[];this.categoryService.getOfficialCategoriesByFilter(this.searchForm.get("levelFormControl").value,this.searchForm.get("categoryFormControl").value,this.searchForm.get("stateFormControl").value,this.searchForm.get("ownerFormControl").value,this.searchForm.get("knowledgeFormControl").value,this.searchForm.get("knowledgeTypeFormControl").value).pipe(Ce(()=>{let i=e.map(d=>{let u={};return this.tableSettings.forEach(f=>{u[this.generateExcelCategoryService.formatHeader(f.header)]=d[f.primaryKey]}),u}),o=mr.json_to_sheet(i,{header:this.getExcelHeaders()});this.generateExcelCategoryService.formatSizeCeldasExcel(o);let l=Ff({Sheets:{data:o},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.exportedExcelFile=l,this.generateExcelCategoryService.saveAsExcelFile(l,"Categorias de Servicio TI-Oficial")})).subscribe(i=>{i.statusCode===this.successStatusCode?e=i.body.data.officialCategories:i.statusCode===this.notFoundStatusCode&&this.showMessage(i.body.data.message,"error","Listar categorias")})}getExcelHeaders(){return this.tableSettings.map(e=>this.generateExcelCategoryService.formatHeader(e.header))}lowerCaseData(){for(let e in this.searchForm.controls){let i=this.searchForm.controls[e],o=i.value;i.setValue(o.toLowerCase().trim())}}setValueFormGroup(){this.searchForm.get("knowledgeTypeFormControl").setValue(""),this.searchForm.get("stateFormControl").setValue(""),this.searchForm.get("knowledgeFormControl").setValue(""),this.searchForm.get("ownerFormControl").setValue("")}advancedSearch(){this.visibleAdvancedSearch=!this.visibleAdvancedSearch,this.visibleAdvancedSearch||this.setValueFormGroup()}loadKnowledgeTypes(){this.knowledgeService.getAllKnowledgeTypes().subscribe(e=>{this.optionTypesKnowledge=e.body.data.objects.map(i=>({value:i.dsTipoConocimiento,label:i.dsTipoConocimiento}))})}receivePaginationValue(e){this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getOfficialCategories()}cleanSearchCategory(){this.page=1,this.limit=5,this.searchForm.get("levelFormControl").reset(),this.searchForm.get("categoryFormControl").reset(),this.searchForm.get("stateFormControl").reset(),this.searchForm.get("ownerFormControl").reset(),this.searchForm.get("knowledgeFormControl").reset(),this.searchForm.get("knowledgeTypeFormControl").reset()}static{this.\u0275fac=function(i){return new(i||t)(g(In),g(at),g(ue),g(E1),g(lo))}}static{this.\u0275cmp=D({type:t,selectors:[["app-listado-categorias-oficial"]],decls:33,vars:10,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["bc-card",""],[1,"bc-card-body"],[1,"col-6"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputCategory","bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text",3,"formControl"],["for","526"],["bc-link","","sizeLink","default",3,"click",4,"ngIf"],[1,"col-3"],["ngDefaultControl","","componentId","bc-select3","span","Nivel",3,"values","formControl"],["id","divCategoryButtons",1,"col-1"],["id","btnSearchCategory","type","outline","size","small","customIcon","search",3,"click"],["id","btnCleanSearchCategory","type","outline","size","small","customIcon","refresh",3,"click"],[1,"col-2"],["id","btnDownloadCategory","bc-fab-button","","typeButton","primary","aria-label","Boton",2,"float","right",3,"click"],["bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Exportar Categorias","size","xm","aria-hidden","true","aria-label","download-document"],["class","row justify-content-start",4,"ngIf"],[1,"bc-margin-top-2"],[1,"row","justify-content-start","bc-margin-top-2"],[3,"paginationValueResponse","dataRecords","settings","isFrontendPagination","lengthRecords"],["bc-link","","sizeLink","default",3,"click"],["size","xs","aria-hidden","true","aria-label","prueba",1,"bc-line"],["size","xs","aria-hidden","true","aria-label","prueba"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputOwner",3,"formControl"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputKnowledge",3,"formControl"],["id","inputKnowledgeType","ngDefaultControl","","componentId","inputKnowledgeType","span","Tipo conocimiento",3,"values","formControl"],["ngDefaultControl","","componentId","bc-select2","span","Estado",3,"values","formControl"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",2)(6,"div",6)(7,"bc-form-field")(8,"em"),C(9,"bc-icon",7),s(),C(10,"input",8,0),r(12,"label",9),c(13,"Categor\xEDa Principal"),s()(),h(14,A9,7,0,"a",10)(15,O9,7,0,"a",10),s(),r(16,"div",11)(17,"bc-form-field"),C(18,"bc-input-select",12),s()(),r(19,"div",13)(20,"bc-icon-button",14),_("click",function(){return v(a),S(o.getOfficialCategories())}),s(),r(21,"bc-icon-button",15),_("click",function(){return v(a),S(o.cleanSearchCategory())}),s()(),r(22,"div",16)(23,"button",17),_("click",function(){return v(a),S(o.exportToExcel())}),r(24,"bc-icon",18),c(25,"download-document"),s()()()(),h(26,V9,17,6,"div",19),s()()()(),r(27,"div",20)(28,"div",21)(29,"div",3)(30,"div",4)(31,"div",5)(32,"app-table",22),_("paginationValueResponse",function(d){return v(a),S(o.receivePaginationValue(d))}),s()()()()()()()}i&2&&(m(10),p("formControl",o.searchForm.controls.categoryFormControl),m(4),p("ngIf",!o.visibleAdvancedSearch),m(),p("ngIf",o.visibleAdvancedSearch),m(3),p("values",o.valuesLevelSearch)("formControl",o.searchForm.controls.levelFormControl),m(8),p("ngIf",o.visibleAdvancedSearch),m(6),p("dataRecords",o.dataSource)("settings",o.tableSettings)("isFrontendPagination",!1)("lengthRecords",o.totalRegisters))},dependencies:[V,q,H,G,nc,Qt,Mo,te,ee,Me,It,wn,fe],styles:["button[_ngcontent-%COMP%]{border:solid 1px #292929;border-radius:20px;font-size:14px}#divCategoryButtons[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}return t})();var Os=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.tipoContactoId=e)}};var Yc=(()=>{class t{constructor(e,i){this.Http=e,this.configService=i,this.urlListContactType="/tipocontacto/list-contact-type",this.urlGetContactTypeById="/tipocontacto/get-contact-type-by-id",this.urlAddContactType="/tipocontacto/add-contact-type",this.urlUpdateContactType="/tipocontacto/update-contact-type",this.urlChangeStateContactType="/tipocontacto/change-state-contact-type"}listContactType(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e?e.toString():"");return this.Http.get(this.configService.settings.apiUrl+this.urlListContactType,{params:a})}getContactTypeById(e){return this.Http.get(`${this.configService.settings.apiUrl+this.urlGetContactTypeById}/${e}`,{})}addContactType(e){return this.Http.post(`${this.configService.settings.apiUrl+this.urlAddContactType}`,e)}updateContactType(e){return this.Http.put(`${this.configService.settings.apiUrl+this.urlUpdateContactType}`,e)}changeStateContactType(e,i){let o=new be().set("tipoContactoId",e).set("state",i);return this.Http.put(this.configService.settings.apiUrl+this.urlChangeStateContactType,o)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var T1=(()=>{class t{constructor(e,i,o,a,l){this.fb=e,this.dialogRef=i,this.data=o,this.tipoContactoService=a,this.dialogService=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.getContactTypeById()}buildForm(){this.contactType=this.fb.group({tipoContactoId:[null],tipoContactoDs:["",[A.required]]})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}getContactTypeById(){let e;this.data.action==="update"&&this.tipoContactoService.getContactTypeById(this.data.tipoContactoId).pipe(Ce(()=>{e&&this.contactType.patchValue({tipoContactoId:this.data.tipoContactoId,tipoContactoDs:e.tipoContactoDs})})).subscribe(i=>{i.statusCode===this.successfulStatusCode&&i.body.data.tipoContactoQueryObject?e=i.body.data.tipoContactoQueryObject:this.showMessage(i.body.data.message,"error","Listar origen conocimientos")})}onSubmit(){if(this.data.action=="create"){let e=new Os(this.contactType.value);this.tipoContactoService.addContactType(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Agregar tipo contacto"):this.showMessage(i.body.data.message,"error","Agregar tipo contacto"),this.dialogRef.close({data:this.data})})}else{let e=new Os(this.contactType.value,this.data.tipoContactoId);this.tipoContactoService.updateContactType(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Actualizar tipo contacto"):this.showMessage(i.body.data.message,"error","Actualizar tipo contacto"),this.dialogRef.close({data:this.data})})}}closePopupWindow(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Y),g(Yc),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-tipo-contacto"]],decls:20,vars:4,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],[2,"font-family","'Open Sans SemiBold'","font-size","16px","line-height","24px"],[1,"col-2",2,"float","right"],["id","btnClose","type","outline","size","small","customIcon","error",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"col-12"],["id","createUpdateContactType","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],["for","tipoContactoDs"],[1,"row","justify-content-start"],["id","btnAddUpdateContactType","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"bc-icon-button",5),_("click",function(){return o.closePopupWindow()}),s()()(),r(7,"form",6),_("ngSubmit",function(){return o.onSubmit()}),r(8,"div",1)(9,"div",7)(10,"bc-form-field"),C(11,"input",8),r(12,"label",9),c(13,"Descripci\xF3n Tipo Contacto"),s(),r(14,"span"),c(15,"Obligatorio"),s()()()(),r(16,"div",10)(17,"div",7)(18,"button",11),c(19),s()()()()()),i&2&&(m(4),T(" ",o.data.title,""),m(3),p("formGroup",o.contactType),m(4),p("formControl",o.contactType.controls.tipoContactoDs),m(8),I(o.data.boton))},dependencies:[Ye,q,H,Ke,At,G,Je,te,ee,fe]})}}return t})();var B9=["modal"],L9=["inputstring"],P1=(t,n)=>({activo:t,inactivo:n});function j9(t,n){if(t&1){let e=E();r(0,"tr")(1,"td",20),c(2),s(),r(3,"td",20)(4,"bc-icon",21),c(5),s()(),r(6,"td",22)(7,"button",23),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.activateInactiveContactTypePrepare(o))}),r(8,"bc-icon",21),c(9),s()(),r(10,"button",24)(11,"bc-icon",25),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.createUpdateContactType(o))}),c(12,"edit-document"),s()()()()}if(t&2){let e=n.$implicit,i=n.index;m(2),I(e.tipoContactoDs),m(2),vt("bcTooltipText",e.state=="I"?"Inactivo":"Activo"),p("ngClass",no(13,P1,e.state==="A",e.state==="I")),m(),T(" ",e.state==="A"?"document-check":"circle-error"," "),m(2),wi("id","",e.tipoContactoDs,"_",i,"_activeInactive"),m(),vt("bcTooltipText",e.state=="I"?"Activar":"Inactivar"),p("ngClass",no(16,P1,e.state==="I",e.state==="A")),m(),I(e.state==="I"?"document-check":"circle-error"),m(),wi("id","",e.tipoContactoDs,"_",i,"_update")}}function z9(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"Descripci\xF3n contacto"),s(),r(9,"th",18),c(10,"Estado"),s(),r(11,"th",18),c(12,"Acciones"),s()()(),r(13,"tbody"),h(14,j9,13,19,"tr",19),s()()(),C(15,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",6),m(2),p("sort",!0)("pairPaginators",!0),m(10),p("ngForOf",e.dataSource)}}var D1=(()=>{class t{constructor(e,i,o){this.tipoContactoService=e,this.dialogService=i,this.dialog=o,this.page=1,this.limit=6,this.length=0,this.filter=null,this.successStatusCode=200,this.dataSource=[],this.changeState=!1,this.titleAlign="",this.customWidth="large",this.typeIcon="error"}ngOnInit(){this.listContactType()}searchInTable(){this.uploadFileInput.nativeElement.value.replace(/\s+/g,"")!==""?(this.filter=this.uploadFileInput.nativeElement.value.replace(/\s+/g,"").toLowerCase(),this.listContactType()):this.showMessage("Escriba el texto a buscar","warning","Filtro")}applyFilter(e,i){e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.listContactType()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.listContactType())}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.listContactType())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}listContactType(){this.tipoContactoService.listContactType(this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n Listar tipo contactos");return}if(e.statusCode!==this.successStatusCode){this.showMessage(e.body.data.message,"warning","Listar tipo contactos");return}this.dataSource=e.body.data.objects,this.length=e.body.data.total})}onPressButton(e){e?(this.changeState=!0,this.activateInactiveContactType()):this.modal.shutDown()}activateInactiveContactTypePrepare(e){this.contactType=e,this.tipoContactoId=e.tipoContactoId,this.contactTypeState=e.state==="A"?"I":"A",this.modal.openModal()}createUpdateContactType(e){let i={};e?(i.title="Editar Tipo de contacto:",i.tipoContactoId=e.tipoContactoId,i.action="update",i.boton="Actualizar"):(i.title="Agregar Tipo de contacto:",i.boton="Guardar",i.action="create"),this.dialog.open(T1,{width:"450px",data:i}).afterClosed().subscribe(a=>{a&&this.listContactType()})}activateInactiveContactType(){this.changeState&&(this.modal.shutDown(),this.tipoContactoService.changeStateContactType(this.tipoContactoId,this.contactTypeState).subscribe(e=>{e.statusCode==this.successStatusCode?(this.showMessage(e.body.data.message,"success","Modificar estado tipo contacto"),this.listContactType()):this.showMessage("Ha fallado el cambio de estado del tipo contacto.","error","Modificar estado tipo contacto")}))}static{this.\u0275fac=function(i){return new(i||t)(g(Yc),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-tipo-contactos"]],viewQuery:function(i,o){if(i&1&&(L(B9,5),L(L9,7)),i&2){let a;j(a=z())&&(o.modal=a.first),j(a=z())&&(o.uploadFileInput=a.first)}},decls:18,vars:14,consts:[["inputstring",""],["modal",""],[1,"container"],[1,"col-6","row","justify-content-start"],[1,"bc-col-12",2,"display","flex"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputstring","bc-input","","aria-label","custom-aria-label","type","text","required","",3,"keyup"],["for","526"],["id","searchButton",2,"align-self","center",3,"click","type","color","shadow","size","customIcon"],["id","addTypeContact","aria-label","Agregar tipo contacto",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],["title","ADVERTENCIA","textBtnLeft","Cancelar","textBtn","Aceptar","isCancellable","false",3,"stateClick","typeIcon","customWidth","titleAlign"],["modalContent",""],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","",3,"sort","pairPaginators"],["scope","row","bc-cell","","scope","col","fixed","true"],[4,"ngFor","ngForOf"],["bc-cell",""],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","left",3,"ngClass","bcTooltipText"],["type","action","bc-cell",""],["button","","bc-fab-button","","typeButton","mini","aria-label","cambiar-estado-anexo",3,"click","id"],["button","","bc-fab-button","","typeButton","mini","aria-label","actualizar-anexo",3,"id"],["size","xm","aria-hidden","true","bc-tooltip","","bcTooltipPosition","down","bcTooltipText","Editar",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"bc-search-content-items",4)(3,"bc-form-field",5)(4,"em"),C(5,"bc-icon",6),s(),r(6,"input",7,0),_("keyup",function(d){v(a);let u=re(7);return S(o.applyFilter(d,u.value))}),s(),r(8,"label",8),c(9,"Escriba el texto a buscar"),s()(),r(10,"bc-icon-button",9),_("click",function(){return v(a),S(o.searchInTable())}),s()()(),r(11,"bc-icon-button",10),_("click",function(){return v(a),S(o.createUpdateContactType())}),s()(),h(12,z9,16,7,"bc-table-container",11),r(13,"bc-modal",12,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(15,"div",13)(16,"em"),c(17,"Ten presente que este tipo de contacto puede estar relacionado con muchos contactos, por ende, antes de cambiar el estado, verifica las condiciones de los contactos que est\xE1n relacionados con este tipo de contacto"),s()()()}i&2&&(m(10),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","search"),m(),p("type","solid")("color","white")("shadow",!0)("size","medium")("customIcon","plus"),m(),p("ngIf",o.dataSource.length>0),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign))},dependencies:[Ut,ae,V,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,lt,Wi,Wt,fe],styles:['table[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:50%}#filter[_ngcontent-%COMP%]{width:100%;padding:0}#filter-container[_ngcontent-%COMP%]{padding-top:10px}#search-button[_ngcontent-%COMP%]{padding:0}#add-person[_ngcontent-%COMP%]{text-align:right}.activo[_ngcontent-%COMP%]{color:green}.inactivo[_ngcontent-%COMP%]{color:red}.margin[_ngcontent-%COMP%]{padding-left:.2em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48!important}button[_ngcontent-%COMP%]{border:solid 1px #292929;border-radius:20px;font-size:14px}th[_ngcontent-%COMP%]{font-family:Open Sans SemiBold;font-size:16px;line-height:24px;text-align:left;position:relative;cursor:pointer;color:#000}td[_ngcontent-%COMP%]{padding:0 14px;font-family:Open Sans;font-size:14px;line-height:16px;height:56px;vertical-align:middle}.space-i[_ngcontent-%COMP%]{width:100%;height:80px;background:#fff;display:inline-flex;padding:8px 24px 24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;box-shadow:0 1px 4px #0000001a}  .bc-table-container .bc-table-header-top{min-height:0px!important}']})}}return t})();function q9(t,n){if(t&1){let e=E();r(0,"a",18),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",19),c(2,"search"),s(),r(3,"span"),c(4,"B\xFAsqueda avanzada"),s(),r(5,"bc-icon",20),c(6,"arrow2-down"),s()()}}function G9(t,n){if(t&1){let e=E();r(0,"a",18),_("click",function(){v(e);let o=x();return S(o.advancedSearch())}),r(1,"bc-icon",19),c(2,"search"),s(),r(3,"span"),c(4,"Ocultar b\xFAsqueda avanzada"),s(),r(5,"bc-icon",20),c(6,"arrow2-down"),s()()}}function U9(t,n){if(t&1&&(r(0,"div",2)(1,"div",21)(2,"bc-form-field"),C(3,"input",22),r(4,"span"),c(5,"Nit"),s()()(),r(6,"div",21)(7,"bc-form-field"),C(8,"input",23),r(9,"span"),c(10,"Direccion"),s()()(),r(11,"div",24)(12,"bc-form-field"),C(13,"input",25),r(14,"span"),c(15,"Negociador"),s()()(),r(16,"div",24)(17,"bc-form-field"),C(18,"input",26),r(19,"span"),c(20,"Administrador"),s()()(),r(21,"div",21)(22,"bc-form-field"),C(23,"bc-input-select",27),s()()()),t&2){let e=x();m(3),p("formControl",e.searchForm.controls.nitFormControl),m(5),p("formControl",e.searchForm.controls.addressFormControl),m(5),p("formControl",e.searchForm.controls.negotiatorFormControl),m(5),p("formControl",e.searchForm.controls.adminFormControl),m(5),p("values",e.periodicityDataObject)("formControl",e.searchForm.controls.periodicityFormControl)}}function $9(t,n){if(t&1){let e=E();r(0,"app-table",28),_("paginationValueResponse",function(o){v(e);let a=x();return S(a.receivePaginationValue(o))}),s()}if(t&2){let e=x();p("dataRecords",e.dataSource)("settings",e.tableSettings)("isFrontendPagination",!1)("lengthRecords",e.length)("buttons",e.buttonSettings)}}var F1=(()=>{class t{constructor(e,i,o,a){this.empresaService=e,this.fb=i,this.dialog=o,this.dialogService=a,this.page=1,this.limit=5,this.length=0,this.dataSource=[],this.visibleAdvancedSearch=!1,this.periodicityDataObject=[],this.successStatusCode=200,this.waitTime=500}ngOnInit(){this.setTableSettings(),this.buildForm(),this.getDatosGeneralesProveedor(),this.eventFilter(),this.setButtonSettings()}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getDatosGeneralesProveedor())}getDatosGeneralesProveedor(){this.empresaService.getDatosGeneralesProveedor(this.searchForm.get("dsCompanyFormControl").value,this.searchForm.get("nitFormControl").value,this.searchForm.get("addressFormControl").value,this.searchForm.get("adminFormControl").value,this.searchForm.get("negotiatorFormControl").value,this.searchForm.get("periodicityFormControl").value,this.page,this.limit).subscribe(e=>{if(e!==void 0)if(e.statusCode===this.successStatusCode){this.dataSource=e.body.data.proveedores,this.length=e.body.data.total;let i=e.body.data.periodicityNumber,o=e.body.data.periodicityText;this.periodicityDataObject=i.map((a,l)=>({value:parseInt(a,10),label:o[l]}))}else this.showMessage(e.body.data.message,"error","Listar proveedores");else this.showMessage("No se recibe objeto respuesta del servidor","error","Listar proveedores")})}openContactInfo(e){let i=this.dialog.open(Uc,{data:e})}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}buildForm(){this.searchForm=this.fb.group({dsCompanyFormControl:["",[]],nitFormControl:["",[]],addressFormControl:["",[]],adminFormControl:["",[]],negotiatorFormControl:["",[]],periodicityFormControl:["",[]]})}eventFilter(){this.searchForm.get("dsCompanyFormControl").valueChanges.pipe(Gi(this.waitTime)).subscribe(e=>{this.getDatosGeneralesProveedor()})}cleanSearchGeneralData(){this.page=1,this.limit=5,this.searchForm.get("dsCompanyFormControl").reset(),this.searchForm.get("nitFormControl").reset(),this.searchForm.get("addressFormControl").reset(),this.searchForm.get("adminFormControl").reset(),this.searchForm.get("periodicityFormControl").setValue("")}advancedSearch(){this.visibleAdvancedSearch=!this.visibleAdvancedSearch,this.visibleAdvancedSearch||this.setValueFormGroup()}setValueFormGroup(){this.searchForm.get("nitFormControl").setValue(""),this.searchForm.get("addressFormControl").setValue(""),this.searchForm.get("adminFormControl").setValue(""),this.searchForm.get("negotiatorFormControl").setValue(""),this.searchForm.get("periodicityFormControl").setValue("")}receivePaginationValue(e){this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getDatosGeneralesProveedor()}lowerCaseData(){for(let e in this.searchForm.controls){let i=this.searchForm.controls[e],o=i.value;i.setValue(o.toLowerCase().trim())}}setTableSettings(){this.tableSettings=[{header:"Nit Proveedor",primaryKey:"nit"},{header:"Proveedor",primaryKey:"proveedor"},{header:"Direcci\xF3n",primaryKey:"direccion"},{header:"Administrador del Contrato",primaryKey:"adminContrato"},{header:"Negociador",primaryKey:"negociador"},{header:"Responsable APTI (Padrino/Madrina)",primaryKey:"padmads"},{header:"Periodicidad Seguimiento",primaryKey:"periodicidadSeguimiento"},{header:"Clasificaci\xF3n",primaryKey:"clasificacion"}]}setButtonSettings(){this.buttonSettings=[{icon:"people",tooltipText:"Informaci\xF3n de Contactos",clickAction:e=>this.openContactInfo(e)}]}static{this.\u0275fac=function(i){return new(i||t)(g(to),g(at),g(Z),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-datos-generales-proveedor"]],decls:26,vars:5,consts:[["inputstring",""],[1,"container"],[1,"row","justify-content-start"],[1,"col-12"],["bc-card",""],[1,"bc-card-body"],[1,"col-6"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputContractDataProvider","bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text",3,"formControl"],["for","526"],["bc-link","","sizeLink","default",3,"click",4,"ngIf"],["id","divGeneralDataProvider",1,"col-1"],["id","btnSearchGeneralData","type","outline","size","small","customIcon","search",3,"click"],["id","btnCleanSearchGeneralData","type","outline","size","small","customIcon","refresh",3,"click"],["class","row justify-content-start",4,"ngIf"],[1,"bc-margin-top-2"],[1,"row","justify-content-start","bc-margin-top-2"],[3,"title","dataRecords","settings","isFrontendPagination","lengthRecords","buttons","paginationValueResponse",4,"ngIf"],["bc-link","","sizeLink","default",3,"click"],["size","xs","aria-hidden","true","aria-label","prueba",1,"bc-line"],["size","xs","aria-hidden","true","aria-label","prueba"],[1,"col-2"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputNit",3,"formControl"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputAddress",3,"formControl"],[1,"col-3"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputNegotiator",3,"formControl"],["bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text","id","inputAdmin",3,"formControl"],["ngDefaultControl","","componentId","bc-select3","span","Periodicidad Seguimiento",3,"values","formControl"],[3,"paginationValueResponse","title","dataRecords","settings","isFrontendPagination","lengthRecords","buttons"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",2)(6,"div",6)(7,"bc-form-field")(8,"em"),C(9,"bc-icon",7),s(),C(10,"input",8,0),r(12,"label",9),c(13,"Descripcion Empresa (Proveedor)"),s()(),h(14,q9,7,0,"a",10)(15,G9,7,0,"a",10),s(),r(16,"div",11)(17,"bc-icon-button",12),_("click",function(){return v(a),S(o.getDatosGeneralesProveedor())}),s(),r(18,"bc-icon-button",13),_("click",function(){return v(a),S(o.cleanSearchGeneralData())}),s()()(),h(19,U9,24,6,"div",14),s()()()(),r(20,"div",15)(21,"div",16)(22,"div",3)(23,"div",4)(24,"div",5),h(25,$9,1,5,"app-table",17),s()()()()()()}i&2&&(m(10),p("formControl",o.searchForm.controls.dsCompanyFormControl),m(4),p("ngIf",!o.visibleAdvancedSearch),m(),p("ngIf",o.visibleAdvancedSearch),m(4),p("ngIf",o.visibleAdvancedSearch),m(6),p("ngIf",o.dataSource&&o.tableSettings&&o.length!=null))},dependencies:[V,q,H,G,nc,Mo,te,ee,Me,It,wn,fe],styles:["#divGeneralDataProvider[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}return t})();var R1=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetSupplierContractReport="/contratoProveedor/supplierContractReport"}getSupplierContractReport(){return this.http.get(this.configService.settings.apiUrl+this.urlGetSupplierContractReport)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var k1=(()=>{class t{constructor(e,i,o,a,l){this.anexoService=e,this.contactoService=i,this.empresaService=o,this.reportsPdfService=a,this.contratoProveedorService=l,this.successfulStatusCode=200}ngOnInit(){}loadDataExportExcel(e,i){return this.reportsPdfService.convertFormatExcel(e,i)}getSupplierAnnexReport(){this.anexoService.getSupplierAnnexReport().subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=this.loadDataExportExcel(e.body.data.supplierAnnexReport,e.body.data.header);this.reportsPdfService.exportToExcel("Anexo por proveedor.xlsx","reports",i)}})}getSupplierContactReport(){this.contactoService.getSupplierContactReport().subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=this.loadDataExportExcel(e.body.data.supplierContact,e.body.data.header);this.reportsPdfService.exportToExcel("Contactos Proveedor.xlsx","reports",i)}})}getSupplierReport(){this.empresaService.getSupplierReport().subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=this.loadDataExportExcel(e.body.data.supplier,e.body.data.header);this.reportsPdfService.exportToExcel("Listado Proveedores.xlsx","reports",i)}})}getSupplierContractReport(){this.contratoProveedorService.getSupplierContractReport().subscribe(e=>{if(e.statusCode===this.successfulStatusCode){let i=this.loadDataExportExcel(e.body.data.supplierContract,e.body.data.header);this.reportsPdfService.exportToExcel("Fecha Vencimiento Contratos.xlsx","reports",i)}})}static{this.\u0275fac=function(i){return new(i||t)(g(wr),g(xr),g(to),g(Kl),g(R1))}}static{this.\u0275cmp=D({type:t,selectors:[["app-reporte-contratos"]],decls:10,vars:12,consts:[[1,"container"],[1,"row","justify-content-md-center"],["id","reportContainerProvider",1,"col-10"],["id","btnDownloadSupplierAnnexReport",3,"click","typeShortcut","text","icon"],["id","btnDownloadSupplierContactReport",3,"click","typeShortcut","text","icon"],["id","btnDownloadSupplierContractReport",3,"click","typeShortcut","text","icon"],["id","btnDownloadSupplierReport",3,"click","typeShortcut","text","icon"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"bc-shortcut",3),_("click",function(){return o.getSupplierAnnexReport()}),s(),C(4,"br"),r(5,"bc-shortcut",4),_("click",function(){return o.getSupplierContactReport()}),s(),C(6,"br"),r(7,"bc-shortcut",5),_("click",function(){return o.getSupplierContractReport()}),s(),C(8,"br"),r(9,"bc-shortcut",6),_("click",function(){return o.getSupplierReport()}),s()()()()),i&2&&(m(3),p("typeShortcut","single")("text","Anexo por proveedor")("icon","attachment"),m(2),p("typeShortcut","single")("text","Contactos Proveedor")("icon","address-book"),m(2),p("typeShortcut","single")("text","Fecha Vencimiento Contratos")("icon","receipt-edit"),m(2),p("typeShortcut","single")("text","Listado Proveedores")("icon","building-pay"))},dependencies:[ic],styles:["#reportContainerProvider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:5%}"]})}}return t})();var Xc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.baseUrl="/nivelcategoria",this.urlListCategoryLevels=this.baseUrl+"/get-all-category-levels",this.urlGetLevelCategoryById=this.baseUrl+"/get-category-level-by-id",this.urlAddLevelCategory=this.baseUrl+"/add-category-level",this.urlModifyLevelCategory=this.baseUrl+"/modify-category-level",this.urlChangeStateLevelCategory=this.baseUrl+"/change-state-category-level"}listLevelCategory(e,i,o,a){let l=i!==null?new be().set("state",e).set("filter",i).set("page",o.toString()).set("limit",a.toString()):new be().set("state",e).set("page",o.toString()).set("limit",a.toString());return this.http.get(this.configService.settings.apiUrl+this.urlListCategoryLevels,{params:l})}getLevelCategoryById(e){let i=new be().set("levelCategoryId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetLevelCategoryById,{params:i})}addLevelCategory(e){return this.http.post(`${this.configService.settings.apiUrl+this.urlAddLevelCategory}`,e)}modifyLevelCategory(e,i){let o=new be().set("levelCategoryId",e);return this.http.put(`${this.configService.settings.apiUrl+this.urlModifyLevelCategory}`,i,{params:o})}changeStateLevelCategory(e,i,o){let a=new be().set("levelCategoryId",e).set("state",i).set("authorizeDisableFees",o);return this.http.put(this.configService.settings.apiUrl+this.urlChangeStateLevelCategory,a)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var O1=(()=>{class t{constructor(e,i,o,a,l){this.nivelCategoriaService=e,this.dialogService=i,this.data=o,this.fb=a,this.dialogRef=l,this.successfulStatusCode=200,this.buildForm()}ngOnInit(){this.getLevelCategoryById()}validateDecimalInput(e){let i=e.target,o=i.value;/^\d+(\.\d{0,1})?$/.test(o)||(i.value=o.slice(0,-1))}decimalValidator(){return e=>{let i=e.value;return i?/^\d+(\.\d{0,1})?$/.test(i)?null:{invalidDecimal:{value:e.value}}:null}}buildForm(){this.levelCategory=this.fb.group({dsNivelCategoria:["",[A.required]],minNumericRange:["",[A.required]],maxNumericRange:["",[A.required]],rangeYearsMin:["",[A.required,this.decimalValidator()]],rangeYearsMax:["",[A.required,this.decimalValidator()]]})}getLevelCategoryById(){let e;this.data.action==="update"&&this.nivelCategoriaService.getLevelCategoryById(this.data.levelCategoryId).pipe(Ce(()=>{e&&this.levelCategory.patchValue({dsNivelCategoria:e.dsNivelCategoria,minNumericRange:e.minNumericRange,maxNumericRange:e.maxNumericRange,rangeYearsMin:e.rangeYearsMin,rangeYearsMax:e.rangeYearsMax})})).subscribe(i=>{i.statusCode===this.successfulStatusCode&&i.body.data.levelCategoryObject?e=i.body.data.levelCategoryObject:this.showMessage(i.body.data.message,"error","Obtener nivel categoria")})}onSubmit(){if(this.data.action=="create"){let e=new md(this.levelCategory.value);this.nivelCategoriaService.addLevelCategory(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Agregar nivel categoria"):this.showMessage(i.body.data.message,"error","Agregar nivel categoria"),this.dialogRef.close({data:this.data})})}else{let e=new md(this.levelCategory.value);this.nivelCategoriaService.modifyLevelCategory(this.data.levelCategoryId,e).subscribe(i=>{i.statusCode===this.successfulStatusCode?this.showMessage(i.body.data.message,"success","Actualizar nivel categoria"):this.showMessage(i.body.data.message,"error","Actualizar nivel categoria"),this.dialogRef.close({data:this.data})})}}closePopupWindow(){this.dialogRef.close()}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}static{this.\u0275fac=function(i){return new(i||t)(g(Xc),g(ue),g(Y),g(Zt),g(W))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-nivel-categoria"]],decls:50,vars:8,consts:[[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],[2,"font-family","'Open Sans SemiBold'","font-size","16px","line-height","24px"],[1,"col-2",2,"float","right"],["id","btnCloseLevelCategory","type","outline","size","small","customIcon","error",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],[1,"col-12"],["id","dsNivelCategoria","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default",3,"formControl"],["for","dsNivelCategoria"],[1,"col-6"],["id","minNumericRange","type","number","step","1","pattern","\\d+","bc-input","","aria-label","custom-aria-label","value","","required","","state","default",3,"formControl"],["for","minNumericRange"],["id","maxNumericRange","type","number","step","1","pattern","\\d+","bc-input","","aria-label","custom-aria-label","value","","required","","state","default",3,"formControl"],["for","maxNumericRange"],["id","rangeYearsMin","type","number","step","0.1","bc-input","","aria-label","custom-aria-label","required","","state","default",3,"input","formControl"],["for","rangeYearsMin"],["id","rangeYearsMax","type","number","step","0.1","bc-input","","aria-label","custom-aria-label","required","","state","default",3,"input","formControl"],["for","rangeYearsMax"],[1,"row","justify-content-start"],["id","btnAddUpdateLevelCategory","type","submit",1,"bc-button-small","bc-button-primary"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4),s()(),r(5,"div",4)(6,"bc-icon-button",5),_("click",function(){return o.closePopupWindow()}),s()()(),r(7,"form",6),_("ngSubmit",function(){return o.onSubmit()}),r(8,"div",1)(9,"div",7)(10,"bc-form-field"),C(11,"input",8),r(12,"label",9),c(13,"Descripci\xF3n nivel categoria"),s(),r(14,"span"),c(15,"Obligatorio"),s()()()(),r(16,"div",1)(17,"div",10)(18,"bc-form-field"),C(19,"input",11),r(20,"label",12),c(21,"Rango num\xE9rico m\xEDnimo"),s(),r(22,"span"),c(23,"Obligatorio"),s()()(),r(24,"div",10)(25,"bc-form-field"),C(26,"input",13),r(27,"label",14),c(28,"Rango num\xE9rico m\xE1ximo"),s(),r(29,"span"),c(30,"Obligatorio"),s()()()(),r(31,"div",1)(32,"div",10)(33,"bc-form-field")(34,"input",15),_("input",function(l){return o.validateDecimalInput(l)}),s(),r(35,"label",16),c(36,"Rango a\xF1o m\xEDnimo"),s(),r(37,"span"),c(38,"Obligatorio"),s()()(),r(39,"div",10)(40,"bc-form-field")(41,"input",17),_("input",function(l){return o.validateDecimalInput(l)}),s(),r(42,"label",18),c(43,"Rango a\xF1o m\xE1ximo"),s(),r(44,"span"),c(45,"Obligatorio"),s()()()(),r(46,"div",19)(47,"div",7)(48,"button",20),c(49),s()()()()()),i&2&&(m(4),T(" ",o.data.title,""),m(3),p("formGroup",o.levelCategory),m(4),p("formControl",o.levelCategory.controls.dsNivelCategoria),m(8),p("formControl",o.levelCategory.controls.minNumericRange),m(7),p("formControl",o.levelCategory.controls.maxNumericRange),m(8),p("formControl",o.levelCategory.controls.rangeYearsMin),m(7),p("formControl",o.levelCategory.controls.rangeYearsMax),m(8),I(o.data.boton))},dependencies:[Ye,q,Li,H,Ke,At,Aa,G,Je,te,ee,fe]})}}return t})();function Y9(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",26),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x(),i=e.$implicit,o=e.index;p("id","btnLevelCategoryOptions"+o)("row",i)("options",i.option)}}function X9(t,n){if(t&1&&(r(0,"tr")(1,"td",22),c(2),s(),r(3,"td",23),c(4),s(),r(5,"td",23),c(6),s(),r(7,"td",23),c(8),s(),r(9,"td",23),c(10),s(),r(11,"td",23),c(12),s(),r(13,"td",23),c(14),s(),r(15,"td",23),c(16),s(),r(17,"td",23),c(18),s(),r(19,"td",24),h(20,Y9,1,3,"bc-table-dropdown",25),s()()),t&2){let e=n.$implicit;m(2),I(e.idNivelCategoria),m(2),I(e.dsNivelCategoria),m(2),I(e.minNumericRange),m(2),I(e.maxNumericRange),m(2),T("",e.minPercentRank,"%"),m(2),T("",e.maxPercentRank,"%"),m(2),I(e.rangeYearsMin),m(2),I(e.rangeYearsMax),m(),Bo("color",e.state==="A"?"green":e.state==="I"?"red":""),m(),I(e.state),m(2),p("ngIf",e.option.length>0)}}function Z9(t,n){if(t&1){let e=E();r(0,"bc-table-container",14)(1,"bc-table-header",15)(2,"bc-paginator",16),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),c(8,"ID"),s(),r(9,"th",19),c(10,"Desc"),s(),r(11,"th",19),c(12,"# Min"),s(),r(13,"th",19),c(14,"# Max"),s(),r(15,"th",19),c(16,"% Min"),s(),r(17,"th",19),c(18,"% Max"),s(),r(19,"th",19),c(20,"A\xF1os Min"),s(),r(21,"th",19),c(22,"A\xF1os Max"),s(),r(23,"th",19),c(24,"Estado"),s(),C(25,"th",20),s()(),r(26,"tbody"),h(27,X9,21,12,"tr",21),s()()(),C(28,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",5),m(25),p("ngForOf",e.dataSource)}}var V1=(()=>{class t{constructor(e,i,o){this.nivelCategoriaService=e,this.dialogService=i,this.dialog=o,this.filtroFormControl=new O("",[]),this.levelCategoryStatusList=["TODOS","ACTIVO","INACTIVO"],this.levelCategoryStatusFormControl=new O("",[]),this.state="TODOS",this.dataSource=[],this.successStatusCode=200,this.page=1,this.limit=5,this.length=0,this.filter=null}ngOnInit(){this.getAllLevelCategory(),this.levelCategoryStatusFormControl.valueChanges.pipe(Gi(300)).subscribe(e=>{this.getStatusLevelCategory(e)})}getAllLevelCategory(){this.nivelCategoriaService.listLevelCategory(this.state,this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n listar niveles categorias");return}e.statusCode!==this.successStatusCode&&this.showMessage(e.body.data.error,"warning","Listar niveles categoria"),e.body.data.levelCategories&&e.body.data.levelCategories.length>0&&(this.dataSource=e.body.data.levelCategories.map(i=>rt(it({},i),{option:this.getOptions(i)}))),this.length=e.body.data.total})}createUpdateLevelCategory(e){let i={};e?(i.title="Editar Nivel Categoria:",i.levelCategoryId=e.rowData.idNivelCategoria,i.action="update",i.boton="Actualizar"):(i.title="Agregar Nivel Categoria:",i.boton="Guardar",i.action="create"),this.dialog.open(O1,{width:"450px",data:i}).afterClosed().subscribe(a=>{a&&this.getAllLevelCategory()})}changeStateCategoryLevel(e){let i=null;e.mensaje="\xBFRealmente desea "+(e.rowData.state=="A"?"Inactivar":"Activar")+" el nivel categoria?",e.boton=e.estado=="A"?"Inactivar":"Activar",i=this.dialog.open($e,{width:"400px",data:e}),i.afterClosed().subscribe(o=>{o!=null&&this.nivelCategoriaService.changeStateLevelCategory(e.rowData.idNivelCategoria,e.rowData.state=="A"?"I":"A",!0).subscribe(a=>{a!==void 0?a.statusCode===this.successStatusCode?(this.getAllLevelCategory(),this.showMessage(a.body.data.message,"success","Activar/Inactivar nivel categoria")):this.showMessage(a.body.data.message,"error","Activar/Inactivar nivel categoria"):this.showMessage("Error al activar/inactivar nivel categoria","error","Activar/Inactivar nivel categoria")})})}applyFilter(e,i){e instanceof KeyboardEvent&&e.key==="Enter"||e.type==="click"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getAllLevelCategory()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getAllLevelCategory())}getStatusLevelCategory(e){this.state=e,this.getAllLevelCategory()}onChangePage(e){let i=parseInt(e.CurrentPage),o=parseInt(e.PerPage);(this.page!==i||this.limit!==o)&&(this.page=i,this.limit=o,this.getAllLevelCategory())}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}getOptions(e){let i=[];return i.push({id:"edit",text:"Editar Nivel Categoria",icon:"edit",action:this.rowSelected}),e.state=="A"?i.push({id:"active",text:"Inactivar Nivel Categoria",icon:"error",action:this.rowSelected}):e.state=="I"&&i.push({id:"active",text:"Activar Nivel Categoria",icon:"check",action:this.rowSelected}),i}rowSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.createUpdateLevelCategory(e),e.optionSeleted.indexOf("active")!==-1&&this.changeStateCategoryLevel(e)}static{this.\u0275fac=function(i){return new(i||t)(g(Xc),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-nivel-categoria"]],decls:19,vars:9,consts:[["inputStringLevelCategory",""],["id","initialLevelCategoryButtons",1,"container-fluid"],["id","filter-container-level-category",1,"row","justify-content-between","align-items-center"],[1,"row","justify-content-around","align-items-center","col-8"],[1,"col-2"],["id","status-level-category"],["ngDefaultControl","","componentId","statusLevelCategory","span","Estados",3,"values","formControl"],[1,"col-6"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputStringLevelCategory","bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text",3,"keyup","formControl"],[1,"col-1"],["id","btnSearchLevelCategory","type","outline","size","small","customIcon","search",3,"click"],["id","addLevelCategoryBtn","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear nivel categoria",3,"click","type","color","shadow","size","customIcon"],["class","bc-col-12",3,"dataTable",4,"ngIf"],[1,"bc-col-12",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false","pairPaginators","true","dropdownHtml","true","scroll","true"],["scope","row","bc-cell","","fixed","true"],["scope","row","bc-cell",""],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell","","fixed","true"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"bc-form-field",5),C(5,"bc-input-select",6),s()(),r(6,"div",7)(7,"bc-form-field")(8,"em"),C(9,"bc-icon",8),s(),r(10,"input",9,0),_("keyup",function(d){v(a);let u=re(11);return S(o.applyFilter(d,u.value))}),s(),r(12,"label"),c(13,"Escriba el texto a buscar"),s()()(),r(14,"div",10)(15,"bc-icon-button",11),_("click",function(d){v(a);let u=re(11);return S(o.applyFilter(d,u.value))}),s()()(),r(16,"div",4)(17,"bc-icon-button",12),_("click",function(){return v(a),S(o.createUpdateLevelCategory())}),s()()()(),h(18,Z9,29,5,"bc-table-container",13)}i&2&&(m(5),p("values",o.levelCategoryStatusList)("formControl",o.levelCategoryStatusFormControl),m(5),p("formControl",o.filtroFormControl),m(7),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(),p("ngIf",o.length>0))},dependencies:[ae,V,q,H,G,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,It,lt,fe]})}}return t})();var Zc=class{constructor(n,e){n&&Object.assign(this,n),e&&(this.idFraude=e)}};var Jc=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlFraudeEvalart="/fraudeevalart"}getFraudeEvalart(){return this.http.get(`${this.configService.settings.apiUrl+this.urlFraudeEvalart}/getfraudeevalart`)}getFraudeEvalartByFilter(e,i,o){let a=new be().set(i?"page":"",i?i.toString():"").set(o?"limit":"",o?o.toString():"").set(e?"filter":"",e||"");return this.http.get(`${this.configService.settings.apiUrl+this.urlFraudeEvalart}/getEvalartFraudByFilter`,{params:a})}insertEvalartFraud(e){return this.http.post(`${this.configService.settings.apiUrl+this.urlFraudeEvalart}/insertEvalartFraud`,e)}updateEvalartFraud(e){return this.http.put(`${this.configService.settings.apiUrl+this.urlFraudeEvalart}/updateEvalartFraud`,e)}statusEvalartFraud(e){let i=new be().set("evalartFraudId",e);return this.http.put(`${this.configService.settings.apiUrl+this.urlFraudeEvalart}/setStatusEvalartFraud`,i)}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eL(t,n){t&1&&(r(0,"mat-error"),c(1," Drescripci\xF3n fraude requerida "),s())}var Ip=(()=>{class t{constructor(e,i,o,a,l){this.dialogRef=e,this.data=i,this.fraudeEvalartService=o,this.fb=a,this.dialogService=l,this.successfulStatusCode=200,this.stateEvalartFraudCode="enabled",this.buildForm()}ngOnInit(){this.data.action==="Update"&&this.loadFraud()}loadFraud(){this.fraudForm.patchValue({codigoFraude:this.data.evalartFraud.codigoFraude,dsRiesgoFraude:this.data.evalartFraud.dsRiesgoFraude})}buildForm(){this.fraudForm=this.fb.group({codigoFraude:["",[A.required]],dsRiesgoFraude:["",[A.required]]})}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}onNoClick(){this.dialogRef.close()}save(){if(this.fraudForm.valid){let e=new Zc(this.fraudForm.value);this.data.action==="Insert"?this.fraudeEvalartService.insertEvalartFraud(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Agregar fraude"),this.dialogRef.close({data:e.codigoFraude})):this.showMessage(i.body.data.message,"error","Agregar fraude")}):(e.idFraude=this.data.evalartFraud.idFraude,this.fraudeEvalartService.updateEvalartFraud(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Actualizar fraude"),this.dialogRef.close({data:e.codigoFraude})):this.showMessage(i.body.data.message,"error","Actualizar fraude")}))}else this.fraudForm.markAllAsTouched(),this.showMessage("Parametros no validos","error","Solicitud ingreso no demanda")}static{this.\u0275fac=function(i){return new(i||t)(g(W),g(Y),g(Jc),g(Zt),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-fraude-evalart"]],decls:34,vars:6,consts:[["inputFraudCode",""],["message",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2",2,"float","right"],[1,"bc-fab-button-mini",2,"float","right",3,"click"],[1,"col-12"],["bc-input","","aria-label","custom-aria-label","maxlength","36","type","text","ngDefaultControl","","id","inputFraudCode",3,"state","formControl"],["id","textFraudDescription","matInput","","maxlength","500","ngDefaultControl","",3,"formControl"],["align","end"],[4,"ngIf"],[1,"row","justify-content-start","button"],[1,"col-6"],["type","button",1,"bc-button-small","bc-button-secondary",3,"click"],["id","saveFraud",1,"bc-button-small","bc-button-primary",3,"click"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),c(4),s()(),r(5,"div",6)(6,"button",7),_("click",function(){return v(a),S(o.onNoClick())}),r(7,"mat-icon"),c(8,"clear"),s()()()(),r(9,"div",3)(10,"div",8)(11,"bc-form-field"),C(12,"input",9,0),r(14,"span"),c(15,"C\xF3digo Fraude"),s()()()(),r(16,"div",3)(17,"div",8)(18,"mat-form-field")(19,"mat-label"),c(20,"Drescripci\xF3n fraude"),s(),r(21,"textarea",10,1),c(23," "),s(),r(24,"mat-hint",11),c(25),s(),h(26,eL,2,0,"mat-error",12),s()()(),r(27,"div",13)(28,"div",14)(29,"button",15),_("click",function(){return v(a),S(o.onNoClick())}),c(30,"Cancelar"),s()(),r(31,"div",14)(32,"button",16),_("click",function(){return v(a),S(o.save())}),c(33,"Guardar"),s()()()()}if(i&2){let a=re(22);m(4),I(o.data.title),m(8),p("state",o.stateEvalartFraudCode)("formControl",o.fraudForm.controls.codigoFraude),m(9),p("formControl",o.fraudForm.controls.dsRiesgoFraude),m(4),T("",a.value.length," / 500"),m(),p("ngIf",o.fraudForm.controls.dsRiesgoFraude.hasError("required"))}},dependencies:[le,X,Ee,_e,ve,Fi,et,V,q,H,$t,G,te,ee],styles:["[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%}"]})}}return t})();function tL(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",21),_("onChange",function(o){v(e);let a=x(3);return S(a.optionSelected(o))}),s()}if(t&2){let e=x().$implicit;p("row",e)("options",e.option)}}function iL(t,n){if(t&1&&(r(0,"tr")(1,"td",18),c(2),s(),r(3,"td",18),c(4),s(),r(5,"td",18),c(6),s(),r(7,"td",19),h(8,tL,1,2,"bc-table-dropdown",20),s()()),t&2){let e=n.$implicit;m(2),I(e.codigoFraude),m(2),I(e.dsRiesgoFraude),m(2),I(e.estado),m(2),p("ngIf",e.option.length>0)}}function oL(t,n){if(t&1){let e=E();r(0,"bc-table-container",11)(1,"bc-table-header",12)(2,"bc-paginator",13),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),c(8,"Codigo"),s(),r(9,"th",15),c(10,"Descripci\xF3n"),s(),r(11,"th",15),c(12,"Estado"),s(),C(13,"th",16),s()(),r(14,"tbody"),h(15,iL,9,4,"tr",17),s()()(),C(16,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.totalRegisters)("perPage",e.limit)("perMultiple",6),m(2),p("pairPaginators",!0)("dropdownHtml",!0),m(11),p("ngForOf",e.dataSource)}}var B1=(()=>{class t{constructor(e,i,o){this.fraudeEvalartService=e,this.dialogService=i,this.dialog=o,this.filtroFormControl=new O("",[]),this.dataSource=[],this.successfulStatusCode=200,this.page=1,this.limit=6,this.totalRegisters=0}ngOnInit(){this.getEvalartFraud()}getEvalartFraud(){this.fraudeEvalartService.getFraudeEvalartByFilter(this.filtroFormControl.value.replace(/\s+/g,""),this.page,this.limit).subscribe(e=>{e.statusCode===this.successfulStatusCode?(this.dataSource=e.body.data.evalartFraud.map(i=>rt(it({},i),{option:this.getOptions(i)})),this.totalRegisters=e.body.data.total):this.showMessage(e.body.data.message,"error","Ingreso no demanda")})}onChangePage(e){(this.page!=parseInt(e.CurrentPage)||this.limit!=parseInt(e.PerPage))&&(this.page=parseInt(e.CurrentPage),this.limit=parseInt(e.PerPage),this.getEvalartFraud())}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:2e3})}optionSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.openDialog("Update",e.rowData),e.optionSeleted.indexOf("status")!==-1&&this.openDialog("Status",e.rowData)}getOptions(e){let i=[];return i.push({id:"edit",text:"Editar fraude evalart",icon:"edit-document",action:this.optionSelected}),e.estado=="ACTIVO"?i.push({id:"status",text:"Inactivar fraude evalart",icon:"error-small",action:this.optionSelected}):i.push({id:"status",text:"Activar fraude evalart",icon:"ok",action:this.optionSelected}),i}openDialog(e,i){i.action=e,i.action=="Update"?this.openUpdateDialog(i):i.action=="Status"&&this.openStatusDialog(i)}setStatusEvalartFraud(e){this.fraudeEvalartService.statusEvalartFraud(e).subscribe(i=>{i.statusCode===this.successfulStatusCode?(this.showMessage(i.body.data.message,"success","Fraude evalart"),this.getEvalartFraud()):this.showMessage(i.body.data.message,"error","Fraude evalart")})}openStatusDialog(e){e.estado=="INACTIVO"?(e.mensaje=`\xBFDesea activar el fraude con c\xF3digo ${e.codigoFraude}?`,e.boton="Activar"):(e.mensaje=`\xBFDesea inactivar el fraude con c\xF3digo ${e.codigoFraude}?`,e.boton="Inactivar"),this.dialog.open($e,{width:"450px",data:e}).afterClosed().subscribe(o=>{o!=null&&(this.setStatusEvalartFraud(e.idFraude),this.getEvalartFraud())})}openUpdateDialog(e){var i={title:"Fraude Evalart",action:"Update",evalartFraud:e};this.dialog.open(Ip,{data:i,width:"60%",disableClose:!0,maxHeight:"90vh"}).afterClosed().subscribe(a=>{a&&(this.filtroFormControl.setValue(a.data),this.getEvalartFraud())})}openInsertDialog(){var e={title:"Fraude Evalart",action:"Insert"};this.dialog.open(Ip,{data:e,width:"60%",disableClose:!0,maxHeight:"90vh"}).afterClosed().subscribe(o=>{o&&(this.filtroFormControl.setValue(o.data),this.getEvalartFraud())})}static{this.\u0275fac=function(i){return new(i||t)(g(Jc),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-fraude-evalart"]],decls:16,vars:7,consts:[[1,"container-fluid"],[1,"row","justify-content-start"],[1,"col-12"],[1,"bc-col-10"],["name","filter","aria-hidden","true","aria-label","prueba"],["bc-input","","aria-label","custom-aria-label","id","inputFilter","type","text","value","",3,"keyup.enter","formControl"],["for","526"],[1,"bc-col-1"],["id","btnSearchEvalartFraud","type","outline","size","small","customIcon","search",3,"click"],["id","btnAddEvalartFraud","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear Fraude Evalart",3,"click","type","color","shadow","size","customIcon"],[3,"dataTable",4,"ngIf"],[3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false",3,"pairPaginators","dropdownHtml"],["scope","row","bc-cell","","scope","col"],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],["id","btnOption",3,"row","options","onChange",4,"ngIf"],["id","btnOption",3,"onChange","row","options"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"bc-form-field",3)(4,"em"),C(5,"bc-icon",4),s(),r(6,"input",5),_("keyup.enter",function(){return o.getEvalartFraud()}),s(),r(7,"label",6),c(8,"Escriba el texto a buscar"),s()(),r(9,"bc-form-field",7)(10,"bc-icon-button",8),_("click",function(){return o.getEvalartFraud()}),s()(),r(11,"bc-form-field",7)(12,"bc-icon-button",9),_("click",function(){return o.openInsertDialog()}),s()()()(),r(13,"div",1)(14,"div",2),h(15,oL,17,7,"bc-table-container",10),s()()()),i&2&&(m(6),p("formControl",o.filtroFormControl),m(6),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(3),p("ngIf",o.dataSource.length>0))},dependencies:[ae,V,q,H,G,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,lt,fe]})}}return t})();var Vs=class{constructor(n,e){this.cw=n,this.dsOrderService=e}};var L1=(()=>{class t{constructor(e,i,o,a,l,d,u){this.fb=e,this.dialogRef=i,this.data=o,this.ordenServicioService=a,this.personService=l,this.companyService=d,this.dialogService=u,this.persons=[],this.companies=[],this.successStatusCode=200,this.buildForm()}ngOnInit(){this.data.action=="update"&&this.loadOrderService(this.data.cw),e0([this.listCompanies(),this.listLeaders()]).subscribe(()=>{this.data.action==="update"&&this.loadOrderService(this.data.cw)})}buildForm(){this.orderService=this.fb.group({cw:["",[A.required]],dsOrderService:["",[A.required]],idPerson:["",[A.required]],idCompany:["",[A.required]]})}loadOrderService(e){let i;this.ordenServicioService.getOrderServiceById(e).pipe(Ce(()=>{i&&this.orderService.patchValue({cw:i.cw,dsOrderService:i.dsOrderService})})).subscribe(o=>{if(o.statusCode===this.successStatusCode){i=o.body.data.orderServiceObject;let a=this.companies.find(d=>d.label===o.body.data.orderServiceObject.dsCompany);a&&this.orderService.controls.idCompany.setValue(a.value);let l=this.persons.find(d=>d.label==o.body.data.orderServiceObject.fullNameAdmon);a&&this.orderService.controls.idPerson.setValue(l.value)}else this.showMessage("No se recibe objeto respuesta del servidor","error","Obtener orden de servicio")})}listLeaders(){return this.personService.getLeaders().pipe(hl(e=>{if(e!==void 0)if(e.statusCode===this.successStatusCode){let i=e.body.data.objects.sort((o,a)=>o.personName.localeCompare(a.personName));this.persons=i.map(o=>({value:o.personId,label:`${o.personName} ${o.lastNameOne} ${o.lastNameTwo}`}))}else this.showMessage(e.body.data.message,"error","Listar l\xEDderes");else this.showMessage("No se recibe objeto respuesta del servidor","error","Listar l\xEDderes")}))}listCompanies(){return this.companyService.getAll().pipe(hl(e=>{e!==void 0&&e.length>0?this.companies=e.map(i=>({value:i.idEmpresa,label:i.dsEmpresa})):this.showMessage("No se recibe objeto respuesta del servidor","error","Listar empresas")}))}showMessage(e,i,o){let a=this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}closePopupWindow(){this.dialogRef.close()}onSubmit(){if(this.data.action=="create"){let e=new Vs(this.orderService.controls.cw.value,this.orderService.controls.dsOrderService.value);this.ordenServicioService.addOrderService(e,this.orderService.controls.idCompany.value,this.orderService.controls.idPerson.value).subscribe(i=>{i.statusCode===this.successStatusCode?this.showMessage(i.body.data.message,"success","Agregar orden servicio"):this.showMessage(i.body.data.message,"error","Agregar orden servicio"),this.dialogRef.close({data:this.data})})}else{let e=new Vs(this.orderService.controls.cw.value,this.orderService.controls.dsOrderService.value);this.ordenServicioService.updateOrderService(e,this.orderService.controls.idCompany.value,this.orderService.controls.idPerson.value).subscribe(i=>{i.statusCode===this.successStatusCode?this.showMessage(i.body.data.message,"success","Actualizar orden servicio"):this.showMessage(i.body.data.message,"error","Actualizar orden servicio"),this.dialogRef.close({data:this.data})})}}static{this.\u0275fac=function(i){return new(i||t)(g(Zt),g(W),g(Y),g(Bl),g(ot),g(to),g(ue))}}static{this.\u0275cmp=D({type:t,selectors:[["app-crear-editar-orden-servicio"]],decls:37,vars:16,consts:[["mat-dialog-content",""],[1,"container-fluid"],[1,"row","align-items-start"],[1,"col-10"],[2,"font-family","'Open Sans SemiBold'","font-size","16px","line-height","24px"],[1,"col-2",2,"float","right"],["id","btnCloseOrderService","type","outline","size","small","customIcon","error",2,"float","right",3,"click"],[3,"ngSubmit","formGroup"],["id","cw","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default","maxlength","36",3,"formControl"],["for","cw"],["ngDefaultControl","","label","Admon","componentId","idPerson","required","",3,"values","filter","formControl"],[1,"text-small"],["ngDefaultControl","","label","Empresa","componentId","idCompany","required","",3,"formControl","values","filter"],["id","dsOrderService","bc-input","","aria-label","custom-aria-label","type","text","value","","required","","state","default","maxlength","500",3,"formControl"],["for","dsOrderService"],[1,"row","justify-content-center"],[1,"col-6"],["id","btnAddUpdateOrderService","type","submit",1,"bc-button-small","bc-button-primary",3,"disabled"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c(5),s()(),r(6,"div",5)(7,"bc-icon-button",6),_("click",function(){return o.closePopupWindow()}),s()()()(),r(8,"form",7),_("ngSubmit",function(){return o.onSubmit()}),r(9,"div")(10,"bc-form-field"),C(11,"input",8),r(12,"label",9),c(13,"ID_Contrato"),s(),r(14,"span"),c(15),s()()(),r(16,"div")(17,"bc-form-field")(18,"bc-input-select",10)(19,"span",11),c(20,"Obligatorio"),s()()()(),r(21,"div")(22,"bc-form-field")(23,"bc-input-select",12)(24,"span",11),c(25,"Obligatorio"),s()()()(),r(26,"div")(27,"bc-form-field"),C(28,"input",13),r(29,"label",14),c(30," Descripci\xF3n"),s(),r(31,"span"),c(32),s()()(),r(33,"div",15)(34,"div",16)(35,"button",17),c(36),s()()()()()),i&2&&(m(5),T(" ",o.data.title,""),m(3),p("formGroup",o.orderService),m(2),oa("disabled",o.data.action==="update"?"":null),m(),p("formControl",o.orderService.controls.cw),oa("disabled",o.data.action==="update"?"":null),m(4),T("",(o.orderService.controls.cw.value||"").length," / 36"),m(3),p("values",o.persons)("filter",!0)("formControl",o.orderService.controls.idPerson),m(5),p("formControl",o.orderService.controls.idCompany)("values",o.companies)("filter",!0),m(5),p("formControl",o.orderService.controls.dsOrderService),m(4),T("",(o.orderService.controls.dsOrderService.value||"").length," / 500"),m(3),p("disabled",o.orderService.invalid),m(),I(o.data.boton))},dependencies:[Ml,Ye,q,H,Ke,At,$t,G,Je,te,ee,It,fe]})}}return t})();var rL=["modal"],sL=()=>["xlsx"];function lL(t,n){t&1&&C(0,"bc-loader",21)}function cL(t,n){if(t&1){let e=E();r(0,"bc-table-dropdown",32),_("onChange",function(o){v(e);let a=x(3);return S(a.rowSelected(o))}),s()}if(t&2){let e=x(),i=e.$implicit,o=e.index;p("id","btnOrderServiceOptions"+o)("row",i)("options",i.option)}}function mL(t,n){if(t&1&&(r(0,"tr")(1,"td",29),c(2),s(),r(3,"td",29),c(4),s(),r(5,"td",29),c(6),s(),r(7,"td",29),c(8),s(),r(9,"td",29),c(10),s(),r(11,"td",30),h(12,cL,1,3,"bc-table-dropdown",31),s()()),t&2){let e=n.$implicit;m(2),I(e.cw),m(2),I(e.dsOrderService),m(2),I(e.dsCompany),m(2),I(e.fullNameAdmon),m(),Bo("color",e.state==="A"?"green":e.state==="I"?"red":""),m(),I(e.state),m(2),p("ngIf",e.option.length>0)}}function dL(t,n){if(t&1){let e=E();r(0,"bc-table-container",22)(1,"bc-table-header",23)(2,"bc-paginator",24),_("onChangePage",function(o){v(e);let a=x();return S(a.onChangePage(o))}),s()(),r(3,"bc-table-content")(4,"table",25)(5,"thead")(6,"tr")(7,"th",26),c(8,"ID Contrato"),s(),r(9,"th",26),c(10,"Descripci\xF3n"),s(),r(11,"th",26),c(12,"Empresa"),s(),r(13,"th",26),c(14,"Admon"),s(),r(15,"th",26),c(16,"Estado"),s(),C(17,"th",27),s()(),r(18,"tbody"),h(19,mL,13,8,"tr",28),s()()(),C(20,"bc-table-footer"),s()}if(t&2){let e=x();p("dataTable",e.dataSource),m(2),p("totalRegisters",e.length)("perPage",e.limit)("perMultiple",10),m(17),p("ngForOf",e.dataSource)}}var j1=(()=>{class t{constructor(e,i,o){this.orderService=e,this.dialogService=i,this.dialog=o,this.page=1,this.limit=10,this.length=0,this.filter=null,this.successStatusCode=200,this.titleAlign="",this.customWidth="large",this.typeIcon="error",this.fileToUpload=null,this.valid=!1,this.isLoading=!1,this.changeState=!1,this.filtroFormControl=new O("",[]),this.fileFormControl=new O("",[A.required]),this.orderServiceStatusList=["TODOS","ACTIVO","INACTIVO"],this.orderServiceStatusFormControl=new O("",[]),this.state="TODOS",this.dataSource=[]}ngOnInit(){this.getAllOrderServices(),this.orderServiceStatusFormControl.valueChanges.pipe(Gi(300)).subscribe(e=>{this.getStatusOrderService(e)})}getAllOrderServices(){this.orderService.listOrderServices(this.state,this.filter,this.page,this.limit).subscribe(e=>{if(e==null){this.showMessage("No se recibe objeto respuesta del servidor","warning","Excepci\xF3n listar ordenes de servicio");return}e.statusCode!==this.successStatusCode&&this.showMessage(e.body.data.error,"warning","Listar ordenes de servicio"),e.body.data.objects&&e.body.data.objects.length>0&&(this.dataSource=e.body.data.objects.map(i=>rt(it({},i),{option:this.getOptions(i)}))),this.length=e.body.data.total})}getOptions(e){let i=[];return i.push({id:"edit",text:"Editar Orden de Servicio",icon:"edit",action:this.rowSelected}),e.state=="A"?i.push({id:"active",text:"Inactivar Orden de Servicio",icon:"error",action:this.rowSelected}):e.state=="I"&&i.push({id:"active",text:"Activar Orden de Servicio",icon:"check",action:this.rowSelected}),i}rowSelected(e){e.optionSeleted.indexOf("edit")!==-1&&this.createUpdateOrderService(e),e.optionSeleted.indexOf("active")!==-1&&this.changeStateOrderServicePrepare(e.rowData)}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,timeout:1e4})}applyFilter(e,i){e instanceof KeyboardEvent&&e.key==="Enter"?i.replace(/\s+/g,"")!==""?(this.filter=i.replace(/\s+/g,"").toLowerCase(),this.getAllOrderServices()):this.showMessage("Escriba el texto a buscar","warning","Filtro"):i===""&&(this.filter=null,this.getAllOrderServices())}onChangePage(e){let i=parseInt(e.CurrentPage),o=parseInt(e.PerPage);(this.page!==i||this.limit!==o)&&(this.page=i,this.limit=o,this.getAllOrderServices())}getStatusOrderService(e){this.state=e,this.getAllOrderServices()}changeStateOrderService(){this.changeState&&(this.modal.shutDown(),this.orderService.changeStateOrderService(this.cwState,this.stateChange).subscribe(e=>{e.statusCode==this.successStatusCode?(this.showMessage(e.body.data.message,"success","Modificar estado orden servicio"),this.getAllOrderServices()):this.showMessage("Ha fallado el cambio de estado de la orden de servicio.","error","Modificar estado orden servicio")}))}handleFileInput(e){let i=e[0];i!=null?(this.fileToUpload=i,this.fileFormControl.setValue(this.fileToUpload.name),this.valid=this.fileFormControl.valid,this.uploadOrderServiceFile()):this.valid=!1}uploadOrderServiceFile(){this.isLoading=!0,this.orderService.uploadFileOrderService(this.fileToUpload).subscribe(e=>{if(this.fileFormControl.setValue(""),this.fileToUpload=null,this.valid=!1,this.getAllOrderServices(),e.statusCode!==this.successStatusCode)this.showMessage(e.body.data.failedList[0],"error","Subir archivo cargue masivo ordenes servicio");else{let i=e.body.data.failedList;i&&i.length>0?(this.showMessage("\xA1Carga de archivo exitosa! Sin embargo, hay algunos errores.","alert","Subir archivo cargue masivo ordenes servicio"),this.downloadFailedListAsTxt(i)):this.showMessage("\xA1Carga de archivo exitosa!","success","Subir archivo cargue masivo ordenes servicio")}this.isLoading=!1},e=>{console.log(e),this.isLoading=!1})}downloadFailedListAsTxt(e){let i=new Date,o=i.getDate().toString().padStart(2,"0"),a=(i.getMonth()+1).toString().padStart(2,"0"),l=i.getFullYear().toString(),d=i.getHours().toString().padStart(2,"0"),u=i.getMinutes().toString().padStart(2,"0"),f=i.getSeconds().toString().padStart(2,"0"),b=`Errores_Cargue_Masivo_Ordenes_Servicios ${o}-${a}-${l} ${d}-${u}-${f}.txt`,y=e.join(`
`),w=new Blob([y],{type:"text/plain;charset=utf-8"}),M=document.createElement("a");M.href=URL.createObjectURL(w),M.download=b,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(M.href)}createUpdateOrderService(e){let i={};e?(i.title="Editar Orden Servicio:",i.cw=e.rowData.cw,i.action="update",i.boton="Actualizar"):(i.title="Agregar Orden Servicio:",i.boton="Guardar",i.action="create"),this.dialog.open(L1,{width:"700px",data:i}).afterClosed().subscribe(a=>{a&&this.getAllOrderServices()})}onPressButton(e){e?(this.changeState=!0,this.changeStateOrderService()):this.modal.shutDown()}changeStateOrderServicePrepare(e){this.cwState=e.cw,this.stateChange=e.state==="A"?"I":"A",this.modal.openModal()}cleanSearchOrderService(){this.page=1,this.limit=10,this.fileFormControl.reset(),this.getAllOrderServices()}static{this.\u0275fac=function(i){return new(i||t)(g(Bl),g(ue),g(Z))}}static{this.\u0275cmp=D({type:t,selectors:[["app-orden-servicio"]],viewQuery:function(i,o){if(i&1&&L(rL,5),i&2){let a;j(a=z())&&(o.modal=a.first)}},decls:27,vars:19,consts:[["inputStringOrderService",""],["modal",""],["id","initialOrderServiceButtons",1,"container-fluid"],[1,"row"],[1,"col-2"],["id","status-order-service"],["ngDefaultControl","","componentId","statusOrderService","span","Estados",3,"values","formControl"],[1,"col-3"],["name","filter","aria-hidden","true","aria-label","prueba"],["id","inputStringOrderService","bc-input","","ngDefaultControl","","aria-label","custom-aria-label","type","text",3,"keyup.enter","formControl"],["id","divGeneralEntranceFilterButtons",1,"col-3"],["id","btnSearchOrderService","type","outline","size","small","customIcon","search",3,"click"],["id","btnCleanSearchOrderService","type","outline","size","small","customIcon","refresh",3,"click"],["id","addOrderServiceBtn","bc-tooltip","","bcTooltipPosition","left","bcTooltipText","Crear orden servicio",3,"click","type","color","shadow","size","customIcon"],[1,"col-4"],["componentId","inputFileOrderService",3,"getFilesAdded","dropArea","multipleFiles","validType","maxFiles","buttonLabel"],[1,"d-flex","justify-content-center"],["sizeLoader","3xl",4,"ngIf"],["class","bc-col-12 bc-px-4",3,"dataTable",4,"ngIf"],["title","ADVERTENCIA","textBtnLeft","Cancelar","textBtn","Aceptar","isCancellable","false",3,"stateClick","typeIcon","customWidth","titleAlign"],["modalContent",""],["sizeLoader","3xl"],[1,"bc-col-12","bc-px-4",3,"dataTable"],["title",""],["type","full",3,"onChangePage","totalRegisters","perPage","perMultiple"],["caption","tabla","bc-table","","sort","false","pairPaginators","true","dropdownHtml","true","scroll","true"],["scope","row","bc-cell",""],["scope","row","bc-cell","","scope","col","type","action"],[4,"ngFor","ngForOf"],["bc-cell",""],["bc-cell","","type","action"],[3,"id","row","options","onChange",4,"ngIf"],[3,"onChange","id","row","options"]],template:function(i,o){if(i&1){let a=E();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"bc-form-field",5),C(4,"bc-input-select",6),s()(),r(5,"div",7)(6,"bc-form-field")(7,"em"),C(8,"bc-icon",8),s(),r(9,"input",9,0),_("keyup.enter",function(d){v(a);let u=re(10);return S(o.applyFilter(d,u.value))}),s(),r(11,"label"),c(12,"Escriba el texto a buscar"),s()()(),r(13,"div",10)(14,"bc-icon-button",11),_("click",function(d){v(a);let u=re(10);return S(o.applyFilter(d,u.value))}),s(),r(15,"bc-icon-button",12),_("click",function(){return v(a),S(o.cleanSearchOrderService())}),s(),r(16,"bc-icon-button",13),_("click",function(){return v(a),S(o.createUpdateOrderService())}),s()(),r(17,"div",14)(18,"bc-input-file",15),_("getFilesAdded",function(d){return v(a),S(o.handleFileInput(d))}),s()()(),r(19,"div",16),h(20,lL,1,0,"bc-loader",17),s()(),h(21,dL,21,5,"bc-table-container",18),r(22,"bc-modal",19,1),_("stateClick",function(d){return v(a),S(o.onPressButton(d))}),r(24,"div",20)(25,"em"),c(26,"Ten presente que esta orden de servicio puede estar relacionada con ingresos por no demanda, por ende, antes de cambiar el estado, verifica el estado de los ingresos por no demanda que est\xE1n relacionados con esta orden de servicio."),s()()()}i&2&&(m(4),p("values",o.orderServiceStatusList)("formControl",o.orderServiceStatusFormControl),m(5),p("formControl",o.filtroFormControl),m(7),p("type","solid")("color","white")("shadow",!0)("size","small")("customIcon","plus"),m(2),p("dropArea",!1)("multipleFiles",!1)("validType",Te(18,sL))("maxFiles",1)("buttonLabel","Subir archivos"),m(2),p("ngIf",o.isLoading),m(),p("ngIf",o.length>0),m(),p("typeIcon",o.typeIcon)("customWidth",o.customWidth)("titleAlign",o.titleAlign))},dependencies:[ae,V,q,H,G,er,Qt,te,ee,Me,pt,mt,ct,dt,ut,_t,Kt,It,lt,Wt,fe,Kf],styles:["#divGeneralEntranceFilterButtons[_ngcontent-%COMP%]{justify-content:center;display:flex;gap:5px}#uploadOrderServiceBtn[_ngcontent-%COMP%]{height:40px;width:70px}"]})}}return t})();function uL(t,n){t&1&&(r(0,"span",6),c(1,"APLICANTES"),s())}function fL(t,n){t&1&&C(0,"app-candidatos")}function hL(t,n){t&1&&(r(0,"mat-tab"),h(1,uL,2,0,"ng-template",4)(2,fL,1,0,"ng-template",5),s())}function gL(t,n){t&1&&(r(0,"span",7),c(1,"MAESTROS"),s())}function _L(t,n){t&1&&(r(0,"span",10),c(1,"CATEGOR\xCDAS"),s())}function CL(t,n){t&1&&C(0,"app-categorias")}function bL(t,n){t&1&&(r(0,"mat-tab"),h(1,_L,2,0,"ng-template",4)(2,CL,1,0,"ng-template",5),s())}function vL(t,n){t&1&&(r(0,"span",11),c(1,"EMPRESAS"),s())}function SL(t,n){t&1&&C(0,"app-empresas")}function yL(t,n){t&1&&(r(0,"mat-tab"),h(1,vL,2,0,"ng-template",4),r(2,"div",9),h(3,SL,1,0,"ng-template",5),s()())}function xL(t,n){t&1&&(r(0,"span",12),c(1,"CONTACTOS"),s())}function wL(t,n){t&1&&C(0,"app-contactos")}function EL(t,n){t&1&&(r(0,"mat-tab"),h(1,xL,2,0,"ng-template",4),r(2,"div",9),h(3,wL,1,0,"ng-template",5),s()())}function ML(t,n){t&1&&(r(0,"span",13),c(1,"TIPO CONTACTO"),s())}function IL(t,n){t&1&&C(0,"app-tipo-contactos")}function TL(t,n){t&1&&(r(0,"mat-tab"),h(1,ML,2,0,"ng-template",4)(2,IL,1,0,"ng-template",5),s())}function PL(t,n){t&1&&(r(0,"span",14),c(1,"NIVEL CATEGORIA"),s())}function DL(t,n){t&1&&C(0,"app-nivel-categoria")}function FL(t,n){t&1&&(r(0,"mat-tab"),h(1,PL,2,0,"ng-template",4),r(2,"div",9),h(3,DL,1,0,"ng-template",5),s()())}function RL(t,n){t&1&&(r(0,"span",15),c(1,"ANEXOS"),s())}function kL(t,n){t&1&&C(0,"app-anexo-contrato")}function AL(t,n){t&1&&(r(0,"mat-tab"),h(1,RL,2,0,"ng-template",4)(2,kL,1,0,"ng-template",5),s())}function OL(t,n){t&1&&(r(0,"span",16),c(1,"TIPO CONTRATO"),s())}function VL(t,n){t&1&&C(0,"app-tipo-contratos")}function NL(t,n){t&1&&(r(0,"mat-tab"),h(1,OL,2,0,"ng-template",4)(2,VL,1,0,"ng-template",5),s())}function BL(t,n){t&1&&(r(0,"span",17),c(1,"PROYECTO"),s())}function LL(t,n){t&1&&C(0,"app-proyectos")}function jL(t,n){t&1&&(r(0,"mat-tab"),h(1,BL,2,0,"ng-template",4),r(2,"div",9),h(3,LL,1,0,"ng-template",5),s()())}function zL(t,n){t&1&&(r(0,"span",17),c(1,"FRAUDE EVALART"),s())}function HL(t,n){t&1&&C(0,"app-fraude-evalart")}function qL(t,n){t&1&&(r(0,"span",18),c(1,"ORDEN SERVICIO"),s())}function GL(t,n){t&1&&C(0,"app-orden-servicio")}function UL(t,n){if(t&1&&(r(0,"mat-tab-group",8),h(1,bL,3,0,"mat-tab",3)(2,yL,4,0,"mat-tab",3)(3,EL,4,0,"mat-tab",3)(4,TL,3,0,"mat-tab",3)(5,FL,4,0,"mat-tab",3)(6,AL,3,0,"mat-tab",3)(7,NL,3,0,"mat-tab",3)(8,jL,4,0,"mat-tab",3),r(9,"mat-tab"),h(10,zL,2,0,"ng-template",4),r(11,"div",9),h(12,HL,1,0,"ng-template",5),s()(),r(13,"mat-tab"),h(14,qL,2,0,"ng-template",4),r(15,"div",9),h(16,GL,1,0,"ng-template",5),s()()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM39")),m(),p("ngIf",e.loginService.validateModule("SM57")),m(),p("ngIf",e.loginService.validateModule("SM59")),m(),p("ngIf",e.loginService.validateModule("SM92")),m(),p("ngIf",e.loginService.validateModule("SM104")),m(),p("ngIf",e.loginService.validateModule("SM88")),m(),p("ngIf",e.loginService.validateModule("SM93")),m(),p("ngIf",e.loginService.validateModule("SM58"))}}function $L(t,n){t&1&&(r(0,"mat-tab"),h(1,gL,2,0,"ng-template",4)(2,UL,17,8,"ng-template",5),s())}function QL(t,n){t&1&&(r(0,"span",19),c(1,"PRESTADORES"),s())}function WL(t,n){t&1&&C(0,"app-historia-prestadores")}function KL(t,n){t&1&&(r(0,"mat-tab"),h(1,QL,2,0,"ng-template",4)(2,WL,1,0,"ng-template",5),s())}function YL(t,n){t&1&&(r(0,"span",20),c(1,"SOLICITUD"),s())}function XL(t,n){t&1&&(r(0,"span",21),c(1,"SOLICITUD DE INGRESOS"),s())}function ZL(t,n){t&1&&C(0,"app-ingreso",22),t&2&&p("idResourceOrigin","REC007")}function JL(t,n){t&1&&(r(0,"mat-tab"),h(1,XL,2,0,"ng-template",4),r(2,"div",9),h(3,ZL,1,1,"ng-template",5),s()())}function ej(t,n){t&1&&(r(0,"span",23),c(1,"EVALUACIONES"),s())}function tj(t,n){t&1&&C(0,"app-administracion-evaluaciones")}function ij(t,n){t&1&&(r(0,"mat-tab"),h(1,ej,2,0,"ng-template",4)(2,tj,1,0,"ng-template",5),s())}function oj(t,n){if(t&1&&(r(0,"mat-tab-group",8),h(1,JL,4,0,"mat-tab",3)(2,ij,3,0,"mat-tab",3),s()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM45")),m(),p("ngIf",e.loginService.validateModule("SM46"))}}function nj(t,n){t&1&&(r(0,"mat-tab"),h(1,YL,2,0,"ng-template",4)(2,oj,3,2,"ng-template",5),s())}function aj(t,n){t&1&&(r(0,"span",24),c(1,"INFORMACI\xD3N"),s())}function rj(t,n){t&1&&(r(0,"span",26),c(1,"REPORTES MACRO"),s())}function sj(t,n){t&1&&C(0,"app-ingresos")}function lj(t,n){t&1&&(r(0,"mat-tab"),h(1,rj,2,0,"ng-template",4)(2,sj,1,0,"ng-template",5),s())}function cj(t,n){t&1&&(r(0,"span",27),c(1,"REPORTES DIN\xC1MICOS"),s())}function mj(t,n){t&1&&C(0,"app-reporte-dinamico",28),t&2&&p("resourceId","REC007")}function dj(t,n){t&1&&(r(0,"mat-tab"),h(1,cj,2,0,"ng-template",4)(2,mj,1,1,"ng-template",5),s())}function pj(t,n){t&1&&(r(0,"span",29),c(1,"LISTADO CATEGOR\xCDAS OFICIAL"),s())}function uj(t,n){t&1&&C(0,"app-listado-categorias-oficial")}function fj(t,n){if(t&1&&(r(0,"mat-tab-group",25),h(1,lj,3,0,"mat-tab",3)(2,dj,3,0,"mat-tab",3),r(3,"mat-tab"),h(4,pj,2,0,"ng-template",4)(5,uj,1,0,"ng-template",5),s()()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM47")),m(),p("ngIf",e.loginService.validateModule("SM41"))}}function hj(t,n){t&1&&(r(0,"mat-tab"),h(1,aj,2,0,"ng-template",4)(2,fj,6,2,"ng-template",5),s())}function gj(t,n){t&1&&(r(0,"span",30),c(1,"PARAMETRIZACI\xD3N"),s())}function _j(t,n){t&1&&(r(0,"span",31),c(1,"PARAMETROS"),s())}function Cj(t,n){t&1&&C(0,"app-parametros",28),t&2&&p("resourceId","REC007")}function bj(t,n){t&1&&(r(0,"mat-tab"),h(1,_j,2,0,"ng-template",4),r(2,"div",9),h(3,Cj,1,1,"ng-template",5),s()())}function vj(t,n){if(t&1&&(r(0,"mat-tab-group",8),h(1,bj,4,0,"mat-tab",3),s()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM42"))}}function Sj(t,n){t&1&&(r(0,"mat-tab"),h(1,gj,2,0,"ng-template",4)(2,vj,2,1,"ng-template",5),s())}function yj(t,n){t&1&&(r(0,"span",32),c(1,"VALIDACIONES"),s())}function xj(t,n){t&1&&C(0,"app-validacion")}function wj(t,n){t&1&&(r(0,"mat-tab"),h(1,yj,2,0,"ng-template",4)(2,xj,1,0,"ng-template",5),s())}function Ej(t,n){t&1&&(r(0,"span",33),c(1,"CONTRATOS PROVEEDORES"),s())}function Mj(t,n){t&1&&(r(0,"span",35),c(1,"DATOS GENERALES PROVEEDOR"),s())}function Ij(t,n){t&1&&C(0,"app-datos-generales-proveedor")}function Tj(t,n){t&1&&(r(0,"span",36),c(1,"CONTRATOS"),s())}function Pj(t,n){}function Dj(t,n){t&1&&(r(0,"span",37),c(1,"CONSULTAS"),s())}function Fj(t,n){t&1&&C(0,"app-reporte-contratos")}function Rj(t,n){t&1&&(r(0,"mat-tab"),h(1,Dj,2,0,"ng-template",4)(2,Fj,1,0,"ng-template",5),s())}function kj(t,n){if(t&1&&(r(0,"mat-tab-group",25)(1,"mat-tab"),h(2,Mj,2,0,"ng-template",4)(3,Ij,1,0,"ng-template",5),s(),r(4,"mat-tab"),h(5,Tj,2,0,"ng-template",4)(6,Pj,0,0,"ng-template",5),s(),h(7,Rj,3,0,"mat-tab",3),s()),t&2){let e=x(2);m(7),p("ngIf",e.loginService.validateModule("SM95"))}}function Aj(t,n){if(t&1&&h(0,kj,8,1,"mat-tab-group",34),t&2){let e=x();p("ngIf",e.loginService.validateModule("SM94"))}}function Oj(t,n){t&1&&(r(0,"span",38),c(1,"TARIFAS"),s())}function Vj(t,n){if(t&1&&C(0,"app-tarifas",28),t&2){let e=x(2);p("resourceId",e.resourceId)}}function Nj(t,n){t&1&&(r(0,"mat-tab"),h(1,Oj,2,0,"ng-template",4)(2,Vj,1,1,"ng-template",5),s())}function Bj(t,n){t&1&&(r(0,"span",39),c(1,"CAPACIDADES REGIONES"),s())}function Lj(t,n){t&1&&C(0,"app-persona-ti-regiones")}function jj(t,n){t&1&&(r(0,"mat-tab"),h(1,Bj,2,0,"ng-template",4)(2,Lj,1,0,"ng-template",5),s())}function zj(t,n){t&1&&(r(0,"span",40),c(1,"OTROS INGRESOS"),s())}function Hj(t,n){t&1&&(r(0,"span",41),c(1,"INGRESOS PRESTADOR ENTRENAMIENTO"),s())}function qj(t,n){t&1&&C(0,"app-ingreso-no-demanda",22),t&2&&p("idResourceOrigin","REC007")}function Gj(t,n){t&1&&(r(0,"span",41),c(1,"INGRESOS NO DEMANDA"),s())}function Uj(t,n){t&1&&C(0,"app-ingreso-no-demanda",22),t&2&&p("idResourceOrigin","REC007-1")}function $j(t,n){t&1&&(r(0,"mat-tab-group",8)(1,"mat-tab"),h(2,Hj,2,0,"ng-template",4)(3,qj,1,1,"ng-template",5),s(),r(4,"mat-tab"),h(5,Gj,2,0,"ng-template",4)(6,Uj,1,1,"ng-template",5),s()())}function Qj(t,n){t&1&&(r(0,"span",42),c(1,"SOLICITUD RETIROS"),s())}function Wj(t,n){t&1&&C(0,"app-retiros-base",43),t&2&&p("idResourceOrigin","REC007")}function Kj(t,n){t&1&&(r(0,"mat-tab"),h(1,Qj,2,0,"ng-template",4)(2,Wj,1,1,"ng-template",5),s())}var z1=(()=>{class t{constructor(e){this.loginService=e,this.title="Administraci\xF3n de proveedores",this.resourceId="REC007"}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-adm-proveedores"]],decls:19,vars:10,consts:[[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["matTooltip","Aplicantes"],["id","tabMasters","matTooltip","Maestros"],["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],[1,"mat-typography","main-div"],["id","tabCategory","matTooltip","Categor\xEDas"],["id","tabMasterCompany","matTooltip","Empresas"],["matTooltip","Contactos"],["id","tabTipoContacto","matTooltip","TipoContacto"],["id","tabNivelCategoria","matTooltip","NivelCategoria"],["id","tabAppendix","matTooltip","Anexos"],["id","tabTipoContrato","matTooltip","TipoContrato"],["matTooltip","Proyecto"],["id","tabOrdenServicio","matTooltip","NivelCategoria"],["matTooltip","Historia de prestadores"],["id","tabRequest","matTooltip","Solicitud"],["id","tabRequestOfEntrance","matTooltip","Solicitudes Ingreso"],[3,"idResourceOrigin"],["matTooltip","Evaluaciones"],["id","tabInformation","matTooltip","Informaci\xF3n"],["color","primary","backgroundColor","accent","mat-stretch-tabs","false","mat-align-tabs","start"],["matTooltip","Reportes macro"],["matTooltip","Reportes din\xE1micos"],[3,"resourceId"],["id","tabCategoryList","matTooltip","Listado Categor\xEDas Oficial"],["matTooltip","Parametrizaci\xF3n"],["matTooltip","Parametros"],["matTooltip","Validaciones"],["id","tabProviderContracts","matTooltip","Contratos Proveedores"],["color","primary","backgroundColor","accent","mat-stretch-tabs","false","mat-align-tabs","start",4,"ngIf"],["matTooltip","Datos Generales Proveedor"],["matTooltip","Contratos"],["id","contractProviderReports","matTooltip","Reportes din\xE1micos"],["id","tabAptiFees","matTooltip","Cargar archivo tarifas"],["id","tabRegionalCapacity","matTooltip","Capacidad region"],["id","tabPerson","matTooltip","Gestion de Ingresos"],["id","tabIngresosPrestadorEntrenamiento","matTooltip","Ingresos Prestador Entrenamiento"],["id","tabRetreat","matTooltip","Gesti\xF3n de Retiros"],["rol","admonpti",3,"idResourceOrigin"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-tab-group",2),h(3,hL,3,0,"mat-tab",3)(4,$L,3,0,"mat-tab",3)(5,KL,3,0,"mat-tab",3)(6,nj,3,0,"mat-tab",3)(7,hj,3,0,"mat-tab",3)(8,Sj,3,0,"mat-tab",3)(9,wj,3,0,"mat-tab",3),r(10,"mat-tab"),h(11,Ej,2,0,"ng-template",4)(12,Aj,1,1,"ng-template",5),s(),h(13,Nj,3,0,"mat-tab",3)(14,jj,3,0,"mat-tab",3),r(15,"mat-tab"),h(16,zj,2,0,"ng-template",4)(17,$j,7,0,"ng-template",5),s(),h(18,Kj,3,0,"mat-tab",3),s()()()),i&2&&(m(3),p("ngIf",o.loginService.validateModule("SM38")),m(),p("ngIf",o.loginService.validateGroupModules("SM39,SM57")),m(),p("ngIf",o.loginService.validateModule("SM40")),m(),p("ngIf",o.loginService.validateGroupModules("SM45,SM46")),m(),p("ngIf",o.loginService.validateGroupModules("SM47,SM41")),m(),p("ngIf",o.loginService.validateGroupModules("SM42")),m(),p("ngIf",o.loginService.validateModule("SM43")),m(4),p("ngIf",o.loginService.validateModule("SM44")),m(),p("ngIf",o.loginService.validateModule("SM65")),m(4),p("ngIf",o.loginService.validateModule("SM77")))},dependencies:[gi,Ei,_i,Ci,bi,oe,V,Mn,Za,Ja,ir,sr,K_,e1,Uc,i1,o1,_r,r1,s1,u1,f1,_1,v1,w1,M1,D1,F1,k1,V1,B1,j1],styles:[".maintable[_ngcontent-%COMP%]{padding:10px}  .mat-mdc-tab-header{background-color:#2c2a29}  .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}  .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();function Yj(t,n){t&1&&(r(0,"span",6),c(1,"SOLICITUD"),s())}function Xj(t,n){t&1&&(r(0,"span",8),c(1,"SOLICITUD DE INGRESOS"),s())}function Zj(t,n){t&1&&C(0,"app-ingreso",9),t&2&&p("idResourceOrigin","REC009")}function Jj(t,n){t&1&&(r(0,"mat-tab"),h(1,Xj,2,0,"ng-template",4)(2,Zj,1,1,"ng-template",5),s())}function ez(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,Jj,3,0,"mat-tab",3),s()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM75"))}}function tz(t,n){t&1&&(r(0,"mat-tab"),h(1,Yj,2,0,"ng-template",4)(2,ez,2,1,"ng-template",5),s())}function iz(t,n){t&1&&(r(0,"span",10),c(1,"INFORMACI\xD3N"),s())}function oz(t,n){t&1&&(r(0,"span",12),c(1,"REPORTES"),s())}function nz(t,n){t&1&&C(0,"app-reporte")}function az(t,n){t&1&&(r(0,"mat-tab"),h(1,oz,2,0,"ng-template",4),r(2,"div",11),h(3,nz,1,0,"ng-template",5),s()())}function rz(t,n){t&1&&(r(0,"span",13),c(1,"TARIFAS"),s())}function sz(t,n){t&1&&C(0,"app-tarifas",14),t&2&&p("resourceId","REC009")}function lz(t,n){t&1&&(r(0,"mat-tab"),h(1,rz,2,0,"ng-template",4)(2,sz,1,1,"ng-template",5),s())}function cz(t,n){if(t&1&&(r(0,"mat-tab-group",7),h(1,az,4,0,"mat-tab",3)(2,lz,3,0,"mat-tab",3),s()),t&2){let e=x(2);m(),p("ngIf",e.loginService.validateModule("SM89")),m(),p("ngIf",e.loginService.validateModule("SM90"))}}function mz(t,n){t&1&&(r(0,"mat-tab"),h(1,iz,2,0,"ng-template",4)(2,cz,3,2,"ng-template",5),s())}var H1=(()=>{class t{constructor(e){this.loginService=e,this.title="Financiera TI",this.displayedColumns=[],this.resourceId="REC009"}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-financierati"]],decls:5,vars:2,consts:[[1,"maintable"],[1,"mat-elevation-z8"],["mat-stretch-tabs","false","mat-align-tabs","start"],[4,"ngIf"],["mat-tab-label",""],["matTabContent",""],["id","tabRequest","matTooltip","Solicitud"],["backgroundColor","accent","color","primary","mat-stretch-tabs","false","mat-align-tabs","start"],["id","tabEntry","matTooltip","Solicitudes Ingreso"],[3,"idResourceOrigin"],["id","tabInformation","matTooltip","Informaci\xF3n"],[1,"mat-typography","main-div"],["id","tabReports","matTooltip","Generaci\xF3n de reportes"],["id","tabRates","matTooltip","Cargar archivo tarifas"],[3,"resourceId"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-tab-group",2),h(3,tz,3,0,"mat-tab",3)(4,mz,3,0,"mat-tab",3),s()()()),i&2&&(m(3),p("ngIf",o.loginService.validateGroupModules("SM75")),m(),p("ngIf",o.loginService.validateGroupModules("SM89,SM90")))},dependencies:[V,gi,Ei,_i,Ci,bi,oe,ir,Yf,_r],styles:[".maintable[_ngcontent-%COMP%]{padding:10px}  .mat-mdc-tab-header{background-color:#2c2a29}  .mat-mdc-tab-group, .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-active-focus-label-text-color: #ffffff;--mat-tab-header-active-label-text-color: #ffffff;--mat-tab-header-inactive-label-text-color: #ffffff;--mdc-tab-indicator-active-indicator-color: #ffd740;--mat-tab-header-active-ripple-color: #ffffff;--mat-tab-header-inactive-ripple-color: #ffffff;--mat-tab-header-active-hover-label-text-color: #ffffff;--mat-tab-header-active-focus-indicator-color: #ffd740;--mat-tab-header-active-hover-indicator-color: #ffd740;--mat-tab-header-inactive-focus-label-text-color: #ffffff;--mat-tab-header-inactive-hover-label-text-color: #ffffff;--mat-tab-header-pagination-icon-color: #ffffff}  .mat-mdc-tab-group.mat-background-accent, .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ffffff;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87) }"]})}}return t})();var dz=[{path:"login",component:Uh,pathMatch:"full"},{path:"conocimiento",component:H_},{path:"miequipo",component:w_},{path:"capacidad",component:Qg},{path:"talentos",loadChildren:()=>import("./chunk-C5RGS63O.js").then(t=>t.SkillHackingModule)},{path:"welcome",component:qh},{path:"aliado",component:W_},{path:"admin",component:p_},{path:"admproveedores",component:z1},{path:"perfil",loadChildren:()=>import("./chunk-ZICZUKZD.js").then(t=>t.PerfilModule)},{path:"financierati",component:H1},{path:"reporte",loadChildren:()=>import("./chunk-DD6VXC6K.js").then(t=>t.ReporteModule)},{path:"",redirectTo:"login",pathMatch:"full"}],q1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[Bi.forRoot(dz,{useHash:!1}),Bi]})}}return t})();function pz(t,n){if(t&1&&(r(0,"mat-hint",11),c(1),s()),t&2){let e=x(2);m(),I(e.textMessagePerson)}}function uz(t,n){t&1&&C(0,"img",16)}function fz(t,n){if(t&1&&C(0,"img",17),t&2){let e=x().$implicit;p("src",e.photo,vn)}}function hz(t,n){if(t&1){let e=E();r(0,"mat-option",12),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.loadPerfilPerson(o))})("onSelectionChange",function(){let o=v(e).$implicit,a=x(2);return S(a.loadPerfilPerson(o))}),h(1,uz,1,0,"img",13)(2,fz,1,1,"img",14),c(3," | "),r(4,"span"),c(5),s(),c(6," - "),r(7,"span",15),c(8),s()()}if(t&2){let e=n.$implicit;p("id","personOption-"+e.personId)("value",e),m(),p("ngIf",!e.photo),m(),p("ngIf",e.photo),m(3),T(" ",e.fullName," "),m(3),T(" ",e.role," ")}}function gz(t,n){if(t&1){let e=E();r(0,"div",6)(1,"mat-form-field")(2,"input",7),_("blur",function(){v(e);let o=x();return S(o.validateCode())}),s(),h(3,pz,2,1,"mat-hint",8),r(4,"mat-autocomplete",9,0),h(6,hz,9,6,"mat-option",10),Mt(7,"async"),s()()()}if(t&2){let e=re(5),i=x();m(2),p("formControl",i.peopleCtrl)("matAutocomplete",e),m(),p("ngIf",i.showTextPerson),m(),p("displayWith",i.displayFnPersona),m(2),p("ngForOf",Pi(7,5,i.filteredPeople))}}function _z(t,n){t&1&&C(0,"bc-header-item",21),t&2&&p("text","Mi Perfil")}function Cz(t,n){if(t&1){let e=E();r(0,"bc-header-list"),C(1,"bc-header-item",18),h(2,_z,1,1,"bc-header-item",19),r(3,"bc-header-item",20),_("click",function(){v(e);let o=x();return S(o.logout())}),s()()}if(t&2){let e=x();m(2),p("ngIf",e.profileRole)}}var G1=(()=>{class t{constructor(e,i,o,a,l){this.loginService=e,this.personService=i,this.router=o,this.appService=a,this._graphService=l,this.toggleSidenav=new Ui,this.peopleCtrl=new O(""),this.showTextPerson=!1,this.textMessagePerson="resultados",this.successfulStatusCode=200,this.profileRole=!1,this.subscription=this.appService.authorizationCharged$.subscribe(()=>this.loadAuthorization()),this.filteredPeople=this.peopleCtrl.valueChanges.pipe(ho(""),Gi(200),is(d=>{let u=this.peopleCtrl.value;return d&&typeof d=="string"?d.length>=3&&d==u?this._filterPerson(d):[]:ts(void 0)}))}ngOnInit(){this.loggedIn=this.loginService.validateSession(),this.loggedIn&&(this.nombre=this.loginService.getName(),this.profileRole=this.loginService.getData()?.auth.MPE)}validateCode(){setTimeout(()=>{this.peopleCtrl.value&&typeof this.peopleCtrl.value=="string"&&this.peopleCtrl.setValue("")},500)}displayFnPersona(e){return e&&e.fullName?e.fullName:""}_filterPerson(e){let i=e.toLowerCase();return this.personService.getPeopleBancolombia(i).pipe(eo(o=>o.statusCode===this.successfulStatusCode?(this.people=o.body.data.people.map(a=>({email:a.email,fullName:a.fullName,identityCard:a.identityCard,personId:a.personId,role:a.role,photo:null})),this.people.length<4&&this.getUserPhoto(),this.people):[]))}getUserPhoto(){this.people.forEach(e=>{this._graphService.getUserByEmail(e.email).subscribe(i=>{this._graphService.getUserPhoto(i.id).subscribe(o=>{e.photo=o})})})}loadPerfilPerson(e){this.appService.addLoadEmailProfile(e.email),this.router.navigate(["/perfil/user"]),this.appService.change$.next(!0),this.peopleCtrl.setValue("")}logout(){this.loginService.logout()}loadAuthorization(){this.profileRole=this.loginService.getData()?.auth.MPE}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(ot),g(Ze),g(Oa),g(Va))}}static{this.\u0275cmp=D({type:t,selectors:[["app-toolbar"]],inputs:{loggedIn:"loggedIn"},outputs:{toggleSidenav:"toggleSidenav"},decls:5,vars:4,consts:[["auto","matAutocomplete"],["headerType","bc-header-wrapper-black",3,"menuInteraction","fixed"],[1,"bc-header-brand"],["src","./assets/logo3.png","height","50"],["class","bc-header-channel",4,"ngIf"],[4,"ngIf"],[1,"bc-header-channel"],["type","text","id","inputPersonSearch","optionSelected","","matInput","","placeholder","Busque la Persona","refactorValue","","name","person",3,"blur","formControl","matAutocomplete"],["align","end",4,"ngIf"],[3,"displayWith"],[3,"id","value","click","onSelectionChange",4,"ngFor","ngForOf"],["align","end"],[3,"click","onSelectionChange","id","value"],["alt","","class","example-option-img","src","assets/default_profile.jpg","height","30",4,"ngIf"],["alt","","class","example-option-img","height","30",3,"src",4,"ngIf"],[1,"role"],["alt","","src","assets/default_profile.jpg","height","30",1,"example-option-img"],["alt","","height","30",1,"example-option-img",3,"src"],["icon","home","itemType","any","route","/welcome","text","Inicio"],["icon","user","itemType","user","route","/perfil",3,"text",4,"ngIf"],["icon","quit","text","Cerrar sesi\xF3n","itemType","cxerrar",3,"click"],["icon","user","itemType","user","route","/perfil",3,"text"]],template:function(i,o){i&1&&(r(0,"bc-header",1)(1,"section",2),C(2,"img",3),h(3,gz,8,7,"div",4),s(),h(4,Cz,4,1,"bc-header-list",5),s()),i&2&&(p("menuInteraction",!0)("fixed",!0),m(3),p("ngIf",o.loggedIn&&o.profileRole),m(),p("ngIf",o.loggedIn))},dependencies:[ae,V,Dl,gt,Fl,Ee,_e,Fi,q,H,G,Xf,Zf,Jf,Eo],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-mdc-toolbar.mat-primary[_ngcontent-%COMP%]{background:#383736;color:#fff}.span[_ngcontent-%COMP%]{font-size:19px}.mat-toolbar[_ngcontent-%COMP%]{height:50px}  .bc-header{height:50px}[_nghost-%COMP%]     .mat-mdc-form-field{font-size:14px;width:100%;margin-top:1em}.bc-header-brand[_ngcontent-%COMP%]   .bc-header-channel[_ngcontent-%COMP%], .bc-header-brand[_ngcontent-%COMP%]{width:100%}input.mat-mdc-input-element[_ngcontent-%COMP%]{width:90%;height:2pc;border-radius:10pc;padding-right:3pc;border:none;padding-left:1.5pc;box-shadow:0 1px 5px -2px gray;color:#000;caret-color:transparent;background:#fff;margin-top:-.50522em;margin-left:-.5em}  .mat-mdc-form-field.mat-focused -shadowcsshost-no-combinator   .mat-mdc-form-field-label{color:#fff}.bc-header-brand[_ngcontent-%COMP%]   .bc-header-channel[_ngcontent-%COMP%]{margin-left:1em}[_nghost-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important}.role[_ngcontent-%COMP%]{font-size:12px;color:#0000008a}"]})}}return t})();var U1=(()=>{class t{constructor(e){this.loginService=e,this.title=new Ui,this.nombre=new Ui}ngOnInit(){}componentAdded(e){this.title.emit(e.title)}componentRemoved(e){let i=this.loginService.getData();i!=null&&this.nombre.emit(i.nombre)}static{this.\u0275fac=function(i){return new(i||t)(g(he))}}static{this.\u0275cmp=D({type:t,selectors:[["app-main-content"]],outputs:{title:"title",nombre:"nombre"},decls:2,vars:0,consts:[[1,"main-container"],[3,"activate","deactivate"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"router-outlet",1),_("activate",function(l){return o.componentAdded(l)})("deactivate",function(l){return o.componentRemoved(l)}),s()())},dependencies:[E0],styles:[".main-container[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;min-height:235px}"]})}}return t})();function Sz(t,n){if(t&1){let e=E();r(0,"bc-menu",2)(1,"bc-menu-drawer"),C(2,"bc-menu-item",3),s(),r(3,"bc-menu-main")(4,"bc-menu-body",4)(5,"bc-menu-column")(6,"bc-menu-section")(7,"bc-menu-option",5),_("click",function(){v(e);let o=x();return S(o.portal())}),s(),r(8,"bc-menu-option",6),_("click",function(){v(e);let o=x();return S(o.help())}),s()()()()(),r(9,"div",7)(10,"app-main-content",8),_("title",function(o){v(e);let a=x();return S(a.onTitle(o))}),s()()()}if(t&2){let e=x();p("logoutFunction",e.logout)("hideProfileInSubmenu",!0),m(9),p("ngClass",e.isLogin?"bc-content-body ":"login-container")}}function yz(t,n){t&1&&C(0,"bc-menu-item",12)}function xz(t,n){if(t&1){let e=E();r(0,"bc-menu-item",13),_("click",function(){let o=v(e).$implicit,a=x(2);return S(a.routerLink(o.id))}),s()}if(t&2){let e=n.$implicit;vt("id",e.id),vt("identifierContent",e.id),vt("text",e.descripcion),vt("iconName",e.icono)}}function wz(t,n){if(t&1){let e=E();F(0),r(1,"bc-menu-option",16),_("click",function(){let o=v(e).$implicit,a=x(3).$implicit,l=x(2);return S(l.routerLinkModule(o.routerLink,a.id,o.descripcion))}),s(),R()}if(t&2){let e=n.$implicit;m(),p("text",e.descripcion)}}function Ez(t,n){if(t&1&&(F(0),r(1,"bc-menu-section",8),h(2,wz,2,1,"ng-container",11),s(),R()),t&2){let e=n.$implicit;m(),p("title",e.descripcion),m(),p("ngForOf",e.children)}}function Mz(t,n){if(t&1&&(r(0,"bc-menu-body",15)(1,"bc-menu-column"),h(2,Ez,3,2,"ng-container",11),s()()),t&2){let e=x().$implicit;p("identifier",e.id),m(2),p("ngForOf",e.children)}}function Iz(t,n){if(t&1&&(F(0),h(1,Mz,3,2,"bc-menu-body",14),R()),t&2){let e=n.$implicit;m(),p("ngIf",e.id=="REC005")}}function Tz(t,n){if(t&1){let e=E();r(0,"bc-menu",2)(1,"bc-menu-drawer"),h(2,yz,1,0,"bc-menu-item",9)(3,xz,1,4,"bc-menu-item",10),C(4,"bc-menu-item",3),s(),r(5,"bc-menu-main"),h(6,Iz,2,1,"ng-container",11),r(7,"bc-menu-body",4)(8,"bc-menu-column")(9,"bc-menu-section")(10,"bc-menu-option",5),_("click",function(){v(e);let o=x();return S(o.portal())}),s(),r(11,"bc-menu-option",6),_("click",function(){v(e);let o=x();return S(o.help())}),s()()()()(),r(12,"div",7)(13,"app-main-content",8),_("title",function(o){v(e);let a=x();return S(a.onTitle(o))}),s()()()}if(t&2){let e=x();p("logoutFunction",e.logout)("hideProfileInSubmenu",!0),m(2),p("ngIf",e.esCTO||e.esEQP||e.esCAP||e.esADM),m(),p("ngForOf",e.operationResources),m(3),p("ngForOf",e.operationResources),m(6),p("ngClass",e.isLogin?"bc-content-body ":"login-container")}}var Pz=720,$1=(()=>{class t{constructor(e,i,o){this.loginService=e,this.router=i,this.parametroService=o,this.mediaMatcher=matchMedia(`(max-width: ${Pz}px)`),this.title="Bienvenido",this.esCTO=!1,this.esEQP=!1,this.esCAP=!1,this.esADM=!1,this.esDEM=!1,this.esALD=!1,this.esADP=!1,this.esFTI=!1,this.esRPT=!1,this.operationResources=[],this.isLogin=!1,this.successfulStatusCode=200,this.logout=()=>{this.loginService.logout()},this.isLogin=this.loginService.isLoggedIn()}ngAfterContentInit(){let e="REC008";this.loginService.loginChanged.subscribe(i=>{if(i!=null){this.operationResources=JSON.parse(i.operations);let o=this.operationResources.find(a=>a.id==e);o&&(this.operationResources=this.operationResources.filter(a=>a.id!=e),this.operationResources.unshift(o)),this.esCTO=i.auth.CTO==null?!1:i.auth.CTO,this.esEQP=i.auth.EQP==null?!1:i.auth.EQP,this.esCAP=i.auth.CAP==null?!1:i.auth.CAP,this.esADM=i.auth.ADM==null?!1:i.auth.ADM,this.esDEM=i.auth.DEM==null?!1:i.auth.DEM,this.esALD=i.auth.ALD==null?!1:i.auth.ALD,this.esADP=i.auth.ADP==null?!1:i.auth.ADP,this.esFTI=i.auth.FTI==null?!1:i.auth.FTI,this.esRPT=i.auth.RPT==null?!1:i.auth.RPT}else this.esCTO=!1,this.esEQP=!1,this.esCAP=!1,this.esADM=!1,this.esDEM=!1,this.esALD=!1,this.esADP=!1,this.esFTI=!1,this.esRPT=!1,this.operationResources=[]}),this.loginService.refresh()}isScreenSmall(){return this.mediaMatcher.matches}inicio(){this.router.navigate(["/welcome"])}routerLinkModule(e,i,o){sessionStorage.setItem("dataMenu",JSON.stringify({queryParams:{resource:i,name:o}})),this.router.navigate([e])}routerLink(e){switch(e){case"REC001":this.router.navigate(["/conocimiento"]);break;case"REC002":this.router.navigate(["/miequipo"]);break;case"REC003":this.router.navigate(["/capacidad"]);break;case"REC004":this.router.navigate(["/admin"]);break;case"REC006":this.router.navigate(["/aliado"]);break;case"REC007":this.router.navigate(["/admproveedores"]);break;case"REC008":this.router.navigate(["/perfil"]);break;case"REC009":this.router.navigate(["/financierati"]);break;case"REC010":this.router.navigate(["/reporte"]);break}}onTitle(e){this.isLogin=this.loginService.isLoggedIn(),this.title=e}portal(){this.parametroService.getParametersLinkByType(!1,!0).subscribe(e=>{e.statusCode===this.successfulStatusCode&&window.open(e.body.data.link,"_blank","noopener,noreferrer")})}help(){this.parametroService.getParametersLinkByType(!0,!1).subscribe(e=>{e.statusCode===this.successfulStatusCode&&window.open(e.body.data.link,"_blank","noopener,noreferrer")})}static{this.\u0275fac=function(i){return new(i||t)(g(he),g(Ze),g(xn))}}static{this.\u0275cmp=D({type:t,selectors:[["app-sidenav"]],decls:3,vars:3,consts:[[3,"loggedIn"],["class","menu-app-showcase","id","menu","state","close",3,"logoutFunction","hideProfileInSubmenu",4,"ngIf"],["id","menu","state","close",1,"menu-app-showcase",3,"logoutFunction","hideProfileInSubmenu"],["path","#","id","help","identifierContent","id4","text","Ayuda","iconName","help"],["identifier","id4"],["text","Autoaprendizaje",3,"click"],["text","Ayuda",3,"click"],[1,"bc-content-body",3,"ngClass"],[3,"title"],["path","/welcome","identifierContent","inicio","text","Inicio","iconName","home",4,"ngIf"],[3,"id","identifierContent","text","iconName","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["path","/welcome","identifierContent","inicio","text","Inicio","iconName","home"],[3,"click","id","identifierContent","text","iconName"],[3,"identifier",4,"ngIf"],[3,"identifier"],[3,"click","text"]],template:function(i,o){i&1&&(C(0,"app-toolbar",0),h(1,Sz,11,3,"bc-menu",1)(2,Tz,14,6,"bc-menu",1)),i&2&&(p("loggedIn",o.isLogin),m(),p("ngIf",o.operationResources.length==0),m(),p("ngIf",o.operationResources.length>0))},dependencies:[Ut,ae,V,th,ih,oh,nh,ah,rh,sh,lh,G1,U1],styles:[".example-container[_ngcontent-%COMP%]{position:absolute;inset:0;background:#eee;overflow-y:scroll}.position-toolbar[_ngcontent-%COMP%]{width:100%;z-index:inherit}.example-sidenav-content[_ngcontent-%COMP%]{padding-top:75px}.login-container[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fff}.texto[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;margin:0;position:inherit;left:0;right:0;bottom:0;height:20px;z-index:0;text-align:center}.pequenio[_ngcontent-%COMP%]{font-size:9pt;color:#fff}.pequenio1[_ngcontent-%COMP%]{font-size:9pt;color:#2c2a29}.skillhacker[_ngcontent-%COMP%]{justify-content:center;height:60px}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#000;background-color:#fd0!important}.nav-caption[_ngcontent-%COMP%]{display:inline-block;padding-left:6px}mat-icon[_ngcontent-%COMP%]{opacity:.6;font-size:22px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#383736;color:#fff}.mat-toolbar[_ngcontent-%COMP%]{height:78px;border-bottom:2px solid #fdda24}.login-sidenav[_ngcontent-%COMP%]{background-color:#383736}.sidenav[_ngcontent-%COMP%]{background-color:#eee}.mat-nav-list-login[_ngcontent-%COMP%]{color:#fff}.mat-nav-list[_ngcontent-%COMP%]{color:#383736}  .bc-menu-global-container.bc-menu-with-header{margin-top:50px}  .bc-menu-content-column{width:400px;margin-left:32px}"]})}}return t})();var Q1=(()=>{class t{constructor(e,i){this.msal=e,this.graph=i,this.msal.instance.addEventCallback(o=>{if(o.eventType==="msal:loginSuccess"&&o.payload?.account){let a=o.payload.account;this.msal.instance.setActiveAccount(a),this.msal.instance.acquireTokenSilent({account:a,scopes:["User.Read","User.ReadBasic.All"]}).then(l=>{console.log("Token Graph OK (len):",l.accessToken?.length),this.graph.getMePhoto().subscribe({next:()=>console.log("Foto solicitada"),error:d=>console.error("Error foto",d)})}).catch(l=>{console.error("Silent fall\xF3, necesita interacci\xF3n",l)})}})}static{this.\u0275fac=function(i){return new(i||t)(g(xl),g(Va))}}static{this.\u0275cmp=D({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&C(0,"app-sidenav")},dependencies:[$1],styles:[".mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important}"]})}}return t})();var Fz=ty(iy(),1);var W1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=oi({type:t}),t.\u0275inj=ii({imports:[Cl]}),t})();var K1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[Yi,Xi,Bi.forChild([]),Ki,tf,Bi.forChild([]),gf,lf,I0.forRoot({path:"https://library-sdb.apps.bancolombia.com/bds.min.css"}),mf,M0,W1,eh,cf,ch]})}}return t})();function nn(){}var mC=(function(){let t=0;return function(){return t++}})();function jt(t){return t===null||typeof t>"u"}function ei(t){if(Array.isArray&&Array.isArray(t))return!0;let n=Object.prototype.toString.call(t);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function Ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}var Mi=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function So(t,n){return Mi(t)?t:n}function xt(t,n){return typeof t>"u"?n:t}var dC=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/n,Op=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*n:+t;function ti(t,n,e){if(t&&typeof t.call=="function")return t.apply(e,n)}function Yt(t,n,e,i){let o,a,l;if(ei(t))if(a=t.length,i)for(o=a-1;o>=0;o--)n.call(e,t[o],o);else for(o=0;o<a;o++)n.call(e,t[o],o);else if(Ft(t))for(l=Object.keys(t),a=l.length,o=0;o<a;o++)n.call(e,t[l[o]],l[o])}function zs(t,n){let e,i,o,a;if(!t||!n||t.length!==n.length)return!1;for(e=0,i=t.length;e<i;++e)if(o=t[e],a=n[e],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function am(t){if(ei(t))return t.map(am);if(Ft(t)){let n=Object.create(null),e=Object.keys(t),i=e.length,o=0;for(;o<i;++o)n[e[o]]=am(t[e[o]]);return n}return t}function pC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Rz(t,n,e,i){if(!pC(t))return;let o=n[t],a=e[t];Ft(o)&&Ft(a)?Ir(o,a,i):n[t]=am(a)}function Ir(t,n,e){let i=ei(n)?n:[n],o=i.length;if(!Ft(t))return t;e=e||{};let a=e.merger||Rz;for(let l=0;l<o;++l){if(n=i[l],!Ft(n))continue;let d=Object.keys(n);for(let u=0,f=d.length;u<f;++u)a(d[u],t,n,e)}return t}function Dr(t,n){return Ir(t,n,{merger:kz})}function kz(t,n,e){if(!pC(t))return;let i=n[t],o=e[t];Ft(i)&&Ft(o)?Dr(i,o):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=am(o))}var Y1={"":t=>t,x:t=>t.x,y:t=>t.y};function hn(t,n){return(Y1[n]||(Y1[n]=Az(n)))(t)}function Az(t){let n=Oz(t);return e=>{for(let i of n){if(i==="")break;e=e&&e[i]}return e}}function Oz(t){let n=t.split("."),e=[],i="";for(let o of n)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function cm(t){return t.charAt(0).toUpperCase()+t.slice(1)}var vo=t=>typeof t<"u",fn=t=>typeof t=="function",Vp=(t,n)=>{if(t.size!==n.size)return!1;for(let e of t)if(!n.has(e))return!1;return!0};function uC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var pi=Math.PI,Xt=2*pi,Vz=Xt+pi,rm=Number.POSITIVE_INFINITY,Nz=pi/180,xi=pi/2,Ns=pi/4,X1=pi*2/3,yo=Math.log10,Go=Math.sign;function Np(t){let n=Math.round(t);t=Fr(t,n,t/1e3)?n:t;let e=Math.pow(10,Math.floor(yo(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function fC(t){let n=[],e=Math.sqrt(t),i;for(i=1;i<e;i++)t%i===0&&(n.push(i),n.push(t/i));return e===(e|0)&&n.push(e),n.sort((o,a)=>o-a).pop(),n}function ya(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Fr(t,n,e){return Math.abs(t-n)<e}function hC(t,n){let e=Math.round(t);return e-n<=t&&e+n>=t}function Bp(t,n,e){let i,o,a;for(i=0,o=t.length;i<o;i++)a=t[i][e],isNaN(a)||(n.min=Math.min(n.min,a),n.max=Math.max(n.max,a))}function Oo(t){return t*(pi/180)}function mm(t){return t*(180/pi)}function Lp(t){if(!Mi(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function jp(t,n){let e=n.x-t.x,i=n.y-t.y,o=Math.sqrt(e*e+i*i),a=Math.atan2(i,e);return a<-.5*pi&&(a+=Xt),{angle:a,distance:o}}function sm(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function Bz(t,n){return(t-n+Vz)%Xt-pi}function po(t){return(t%Xt+Xt)%Xt}function Rr(t,n,e,i){let o=po(t),a=po(n),l=po(e),d=po(a-o),u=po(l-o),f=po(o-a),b=po(o-l);return o===a||o===l||i&&a===l||d>u&&f<b}function Vi(t,n,e){return Math.max(n,Math.min(e,t))}function gC(t){return Vi(t,-32768,32767)}function an(t,n,e,i=1e-6){return t>=Math.min(n,e)-i&&t<=Math.max(n,e)+i}function dm(t,n,e){e=e||(l=>t[l]<n);let i=t.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,e(a)?o=a:i=a;return{lo:o,hi:i}}var on=(t,n,e,i)=>dm(t,e,i?o=>t[o][n]<=e:o=>t[o][n]<e),_C=(t,n,e)=>dm(t,e,i=>t[i][n]>=e);function CC(t,n,e){let i=0,o=t.length;for(;i<o&&t[i]<n;)i++;for(;o>i&&t[o-1]>e;)o--;return i>0||o<t.length?t.slice(i,o):t}var bC=["push","pop","shift","splice","unshift"];function vC(t,n){if(t._chartjs){t._chartjs.listeners.push(n);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),bC.forEach(e=>{let i="_onData"+cm(e),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...a){let l=o.apply(this,a);return t._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...a)}),l}})})}function zp(t,n){let e=t._chartjs;if(!e)return;let i=e.listeners,o=i.indexOf(n);o!==-1&&i.splice(o,1),!(i.length>0)&&(bC.forEach(a=>{delete t[a]}),delete t._chartjs)}function Hp(t){let n=new Set,e,i;for(e=0,i=t.length;e<i;++e)n.add(t[e]);return n.size===i?t:Array.from(n)}var qp=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Gp(t,n,e){let i=e||(l=>Array.prototype.slice.call(l)),o=!1,a=[];return function(...l){a=i(l),o||(o=!0,qp.call(window,()=>{o=!1,t.apply(n,a)}))}}function SC(t,n){let e;return function(...i){return n?(clearTimeout(e),e=setTimeout(t,n,i)):t.apply(this,i),n}}var pm=t=>t==="start"?"left":t==="end"?"right":"center",zi=(t,n,e)=>t==="start"?n:t==="end"?e:(n+e)/2,yC=(t,n,e,i)=>t===(i?"left":"right")?e:t==="center"?(n+e)/2:n;function Up(t,n,e){let i=n.length,o=0,a=i;if(t._sorted){let{iScale:l,_parsed:d}=t,u=l.axis,{min:f,max:b,minDefined:y,maxDefined:w}=l.getUserBounds();y&&(o=Vi(Math.min(on(d,l.axis,f).lo,e?i:on(n,u,l.getPixelForValue(f)).lo),0,i-1)),w?a=Vi(Math.max(on(d,l.axis,b,!0).hi+1,e?0:on(n,u,l.getPixelForValue(b),!0).hi+1),o,i)-o:a=i-o}return{start:o,count:a}}function $p(t){let{xScale:n,yScale:e,_scaleRanges:i}=t,o={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=o,!0;let a=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),a}var em=t=>t===0||t===1,Z1=(t,n,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-n)*Xt/e)),J1=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*Xt/e)+1,Mr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xi)+1,easeOutSine:t=>Math.sin(t*xi),easeInOutSine:t=>-.5*(Math.cos(pi*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>em(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>em(t)?t:Z1(t,.075,.3),easeOutElastic:t=>em(t)?t:J1(t,.075,.3),easeInOutElastic(t){return em(t)?t:t<.5?.5*Z1(t*2,.1125,.45):.5+.5*J1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:t=>1-Mr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mr.easeInBounce(t*2)*.5:Mr.easeOutBounce(t*2-1)*.5+.5};function Hs(t){return t+.5|0}var Ln=(t,n,e)=>Math.max(Math.min(t,e),n);function Bs(t){return Ln(Hs(t*2.55),0,255)}function jn(t){return Ln(Hs(t*255),0,255)}function un(t){return Ln(Hs(t/2.55)/100,0,1)}function eC(t){return Ln(Hs(t*100),0,100)}var Ao={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rp=[..."0123456789ABCDEF"],Lz=t=>Rp[t&15],jz=t=>Rp[(t&240)>>4]+Rp[t&15],tm=t=>(t&240)>>4===(t&15),zz=t=>tm(t.r)&&tm(t.g)&&tm(t.b)&&tm(t.a);function Hz(t){var n=t.length,e;return t[0]==="#"&&(n===4||n===5?e={r:255&Ao[t[1]]*17,g:255&Ao[t[2]]*17,b:255&Ao[t[3]]*17,a:n===5?Ao[t[4]]*17:255}:(n===7||n===9)&&(e={r:Ao[t[1]]<<4|Ao[t[2]],g:Ao[t[3]]<<4|Ao[t[4]],b:Ao[t[5]]<<4|Ao[t[6]],a:n===9?Ao[t[7]]<<4|Ao[t[8]]:255})),e}var qz=(t,n)=>t<255?n(t):"";function Gz(t){var n=zz(t)?Lz:jz;return t?"#"+n(t.r)+n(t.g)+n(t.b)+qz(t.a,n):void 0}var Uz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xC(t,n,e){let i=n*Math.min(e,1-e),o=(a,l=(a+t/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function $z(t,n,e){let i=(o,a=(o+t/60)%6)=>e-e*n*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Qz(t,n,e){let i=xC(t,1,.5),o;for(n+e>1&&(o=1/(n+e),n*=o,e*=o),o=0;o<3;o++)i[o]*=1-n-e,i[o]+=n;return i}function Wz(t,n,e,i,o){return t===o?(n-e)/i+(n<e?6:0):n===o?(e-t)/i+2:(t-n)/i+4}function Qp(t){let e=t.r/255,i=t.g/255,o=t.b/255,a=Math.max(e,i,o),l=Math.min(e,i,o),d=(a+l)/2,u,f,b;return a!==l&&(b=a-l,f=d>.5?b/(2-a-l):b/(a+l),u=Wz(e,i,o,b,a),u=u*60+.5),[u|0,f||0,d]}function Wp(t,n,e,i){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,i)).map(jn)}function Kp(t,n,e){return Wp(xC,t,n,e)}function Kz(t,n,e){return Wp(Qz,t,n,e)}function Yz(t,n,e){return Wp($z,t,n,e)}function wC(t){return(t%360+360)%360}function Xz(t){let n=Uz.exec(t),e=255,i;if(!n)return;n[5]!==i&&(e=n[6]?Bs(+n[5]):jn(+n[5]));let o=wC(+n[2]),a=+n[3]/100,l=+n[4]/100;return n[1]==="hwb"?i=Kz(o,a,l):n[1]==="hsv"?i=Yz(o,a,l):i=Kp(o,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function Zz(t,n){var e=Qp(t);e[0]=wC(e[0]+n),e=Kp(e),t.r=e[0],t.g=e[1],t.b=e[2]}function Jz(t){if(!t)return;let n=Qp(t),e=n[0],i=eC(n[1]),o=eC(n[2]);return t.a<255?`hsla(${e}, ${i}%, ${o}%, ${un(t.a)})`:`hsl(${e}, ${i}%, ${o}%)`}var tC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eH(){let t={},n=Object.keys(iC),e=Object.keys(tC),i,o,a,l,d;for(i=0;i<n.length;i++){for(l=d=n[i],o=0;o<e.length;o++)a=e[o],d=d.replace(a,tC[a]);a=parseInt(iC[l],16),t[d]=[a>>16&255,a>>8&255,a&255]}return t}var im;function tH(t){im||(im=eH(),im.transparent=[0,0,0,0]);let n=im[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var iH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oH(t){let n=iH.exec(t),e=255,i,o,a;if(n){if(n[7]!==i){let l=+n[7];e=n[8]?Bs(l):Ln(l*255,0,255)}return i=+n[1],o=+n[3],a=+n[5],i=255&(n[2]?Bs(i):Ln(i,0,255)),o=255&(n[4]?Bs(o):Ln(o,0,255)),a=255&(n[6]?Bs(a):Ln(a,0,255)),{r:i,g:o,b:a,a:e}}}function nH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${un(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Tp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Er=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function aH(t,n,e){let i=Er(un(t.r)),o=Er(un(t.g)),a=Er(un(t.b));return{r:jn(Tp(i+e*(Er(un(n.r))-i))),g:jn(Tp(o+e*(Er(un(n.g))-o))),b:jn(Tp(a+e*(Er(un(n.b))-a))),a:t.a+e*(n.a-t.a)}}function om(t,n,e){if(t){let i=Qp(t);i[n]=Math.max(0,Math.min(i[n]+i[n]*e,n===0?360:1)),i=Kp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function EC(t,n){return t&&Object.assign(n||{},t)}function oC(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=jn(t[3]))):(n=EC(t,{r:0,g:0,b:0,a:1}),n.a=jn(n.a)),n}function rH(t){return t.charAt(0)==="r"?oH(t):Xz(t)}var kp=class t{constructor(n){if(n instanceof t)return n;let e=typeof n,i;e==="object"?i=oC(n):e==="string"&&(i=Hz(n)||tH(n)||rH(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=EC(this._rgb);return n&&(n.a=un(n.a)),n}set rgb(n){this._rgb=oC(n)}rgbString(){return this._valid?nH(this._rgb):void 0}hexString(){return this._valid?Gz(this._rgb):void 0}hslString(){return this._valid?Jz(this._rgb):void 0}mix(n,e){if(n){let i=this.rgb,o=n.rgb,a,l=e===a?.5:e,d=2*l-1,u=i.a-o.a,f=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;a=1-f,i.r=255&f*i.r+a*o.r+.5,i.g=255&f*i.g+a*o.g+.5,i.b=255&f*i.b+a*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(n,e){return n&&(this._rgb=aH(this._rgb,n._rgb,e)),this}clone(){return new t(this.rgb)}alpha(n){return this._rgb.a=jn(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=Hs(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return om(this._rgb,2,n),this}darken(n){return om(this._rgb,2,-n),this}saturate(n){return om(this._rgb,1,n),this}desaturate(n){return om(this._rgb,1,-n),this}rotate(n){return Zz(this._rgb,n),this}};function MC(t){return new kp(t)}function IC(t){if(t&&typeof t=="object"){let n=t.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Yp(t){return IC(t)?t:MC(t)}function Pp(t){return IC(t)?t:MC(t).saturate(.5).darken(.1).hexString()}var zn=Object.create(null),um=Object.create(null);function Ls(t,n){if(!n)return t;let e=n.split(".");for(let i=0,o=e.length;i<o;++i){let a=e[i];t=t[a]||(t[a]=Object.create(null))}return t}function Dp(t,n,e){return typeof n=="string"?Ir(Ls(t,n),e):Ir(Ls(t,""),n)}var Ap=class{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>Pp(i.backgroundColor),this.hoverBorderColor=(e,i)=>Pp(i.borderColor),this.hoverColor=(e,i)=>Pp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,e){return Dp(this,n,e)}get(n){return Ls(this,n)}describe(n,e){return Dp(um,n,e)}override(n,e){return Dp(zn,n,e)}route(n,e,i,o){let a=Ls(this,n),l=Ls(this,i),d="_"+e;Object.defineProperties(a,{[d]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let u=this[d],f=l[o];return Ft(u)?Object.assign({},f,u):xt(u,f)},set(u){this[d]=u}}})}},Pt=new Ap({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function sH(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function js(t,n,e,i,o){let a=n[o];return a||(a=n[o]=t.measureText(o).width,e.push(o)),a>i&&(i=a),i}function TC(t,n,e,i){i=i||{};let o=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(o=i.data={},a=i.garbageCollect=[],i.font=n),t.save(),t.font=n;let l=0,d=e.length,u,f,b,y,w;for(u=0;u<d;u++)if(y=e[u],y!=null&&ei(y)!==!0)l=js(t,o,a,l,y);else if(ei(y))for(f=0,b=y.length;f<b;f++)w=y[f],w!=null&&!ei(w)&&(l=js(t,o,a,l,w));t.restore();let M=a.length/2;if(M>e.length){for(u=0;u<M;u++)delete o[a[u]];a.splice(0,M)}return l}function Hn(t,n,e){let i=t.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((n-o)*i)/i+o}function Xp(t,n){n=n||t.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore()}function fm(t,n,e,i){Zp(t,n,e,i,null)}function Zp(t,n,e,i,o){let a,l,d,u,f,b,y=n.pointStyle,w=n.rotation,M=n.radius,P=(w||0)*Nz;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(e,i),t.rotate(P),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(M)||M<=0)){switch(t.beginPath(),y){default:o?t.ellipse(e,i,o/2,M,0,0,Xt):t.arc(e,i,M,0,Xt),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(P)*M,i-Math.cos(P)*M),P+=X1,t.lineTo(e+Math.sin(P)*M,i-Math.cos(P)*M),P+=X1,t.lineTo(e+Math.sin(P)*M,i-Math.cos(P)*M),t.closePath();break;case"rectRounded":f=M*.516,u=M-f,l=Math.cos(P+Ns)*u,d=Math.sin(P+Ns)*u,t.arc(e-l,i-d,f,P-pi,P-xi),t.arc(e+d,i-l,f,P-xi,P),t.arc(e+l,i+d,f,P,P+xi),t.arc(e-d,i+l,f,P+xi,P+pi),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*M,b=o?o/2:u,t.rect(e-b,i-u,2*b,2*u);break}P+=Ns;case"rectRot":l=Math.cos(P)*M,d=Math.sin(P)*M,t.moveTo(e-l,i-d),t.lineTo(e+d,i-l),t.lineTo(e+l,i+d),t.lineTo(e-d,i+l),t.closePath();break;case"crossRot":P+=Ns;case"cross":l=Math.cos(P)*M,d=Math.sin(P)*M,t.moveTo(e-l,i-d),t.lineTo(e+l,i+d),t.moveTo(e+d,i-l),t.lineTo(e-d,i+l);break;case"star":l=Math.cos(P)*M,d=Math.sin(P)*M,t.moveTo(e-l,i-d),t.lineTo(e+l,i+d),t.moveTo(e+d,i-l),t.lineTo(e-d,i+l),P+=Ns,l=Math.cos(P)*M,d=Math.sin(P)*M,t.moveTo(e-l,i-d),t.lineTo(e+l,i+d),t.moveTo(e+d,i-l),t.lineTo(e-d,i+l);break;case"line":l=o?o/2:Math.cos(P)*M,d=Math.sin(P)*M,t.moveTo(e-l,i-d),t.lineTo(e+l,i+d);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(P)*M,i+Math.sin(P)*M);break}t.fill(),n.borderWidth>0&&t.stroke()}}function Tr(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function qs(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function Gs(t){t.restore()}function PC(t,n,e,i,o){if(!n)return t.lineTo(e.x,e.y);if(o==="middle"){let a=(n.x+e.x)/2;t.lineTo(a,n.y),t.lineTo(a,e.y)}else o==="after"!=!!i?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function DC(t,n,e,i){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function qn(t,n,e,i,o,a={}){let l=ei(n)?n:[n],d=a.strokeWidth>0&&a.strokeColor!=="",u,f;for(t.save(),t.font=o.string,lH(t,a),u=0;u<l.length;++u)f=l[u],d&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),jt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,e,i,a.maxWidth)),t.fillText(f,e,i,a.maxWidth),cH(t,e,i,f,a),i+=o.lineHeight;t.restore()}function lH(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),jt(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}function cH(t,n,e,i,o){if(o.strikethrough||o.underline){let a=t.measureText(i),l=n-a.actualBoundingBoxLeft,d=n+a.actualBoundingBoxRight,u=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,b=o.strikethrough?(u+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,b),t.lineTo(d,b),t.stroke()}}function kr(t,n){let{x:e,y:i,w:o,h:a,radius:l}=n;t.arc(e+l.topLeft,i+l.topLeft,l.topLeft,-xi,pi,!0),t.lineTo(e,i+a-l.bottomLeft),t.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,pi,xi,!0),t.lineTo(e+o-l.bottomRight,i+a),t.arc(e+o-l.bottomRight,i+a-l.bottomRight,l.bottomRight,xi,0,!0),t.lineTo(e+o,i+l.topRight),t.arc(e+o-l.topRight,i+l.topRight,l.topRight,0,-xi,!0),t.lineTo(e+l.topLeft,i)}var mH=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),dH=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function pH(t,n){let e=(""+t).match(mH);if(!e||e[1]==="normal")return n*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return n*t}var uH=t=>+t||0;function hm(t,n){let e={},i=Ft(n),o=i?Object.keys(n):n,a=Ft(t)?i?l=>xt(t[l],t[n[l]]):l=>t[l]:()=>t;for(let l of o)e[l]=uH(a(l));return e}function Jp(t){return hm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gn(t){return hm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Hi(t){let n=Jp(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ai(t,n){t=t||{},n=n||Pt.font;let e=xt(t.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let i=xt(t.style,n.style);i&&!(""+i).match(dH)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");let o={family:xt(t.family,n.family),lineHeight:pH(xt(t.lineHeight,n.lineHeight),e),size:e,style:i,weight:xt(t.weight,n.weight),string:""};return o.string=sH(o),o}function Ar(t,n,e,i){let o=!0,a,l,d;for(a=0,l=t.length;a<l;++a)if(d=t[a],d!==void 0&&(n!==void 0&&typeof d=="function"&&(d=d(n),o=!1),e!==void 0&&ei(d)&&(d=d[e%d.length],o=!1),d!==void 0))return i&&!o&&(i.cacheable=!1),d}function FC(t,n,e){let{min:i,max:o}=t,a=Op(n,(o-i)/2),l=(d,u)=>e&&d===0?0:d+u;return{min:l(i,-Math.abs(a)),max:l(o,a)}}function gn(t,n){return Object.assign(Object.create(t),n)}function gm(t,n=[""],e=t,i,o=()=>t[0]){vo(i)||(i=AC("_fallback",t));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:e,_fallback:i,_getTarget:o,override:l=>gm([l,...t],n,e,i)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete t[0][d],!0},get(l,d){return RC(l,d,()=>SH(d,n,t,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,d){return aC(l).includes(d)},ownKeys(l){return aC(l)},set(l,d,u){let f=l._storage||(l._storage=o());return l[d]=f[d]=u,delete l._keys,!0}})}function Sa(t,n,e,i){let o={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:eu(t,i),setContext:a=>Sa(t,a,e,i),override:a=>Sa(t.override(a),n,e,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,d){return RC(a,l,()=>hH(a,l,d))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,d){return t[l]=d,delete a[l],!0}})}function eu(t,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:i=n.indexable,_allKeys:o=n.allKeys}=t;return{allKeys:o,scriptable:e,indexable:i,isScriptable:fn(e)?e:()=>e,isIndexable:fn(i)?i:()=>i}}var fH=(t,n)=>t?t+cm(n):n,tu=(t,n)=>Ft(n)&&t!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function RC(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n))return t[n];let i=e();return t[n]=i,i}function hH(t,n,e){let{_proxy:i,_context:o,_subProxy:a,_descriptors:l}=t,d=i[n];return fn(d)&&l.isScriptable(n)&&(d=gH(n,d,t,e)),ei(d)&&d.length&&(d=_H(n,d,t,l.isIndexable)),tu(n,d)&&(d=Sa(d,o,a&&a[n],l)),d}function gH(t,n,e,i){let{_proxy:o,_context:a,_subProxy:l,_stack:d}=e;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);return d.add(t),n=n(a,l||i),d.delete(t),tu(t,n)&&(n=iu(o._scopes,o,t,n)),n}function _H(t,n,e,i){let{_proxy:o,_context:a,_subProxy:l,_descriptors:d}=e;if(vo(a.index)&&i(t))n=n[a.index%n.length];else if(Ft(n[0])){let u=n,f=o._scopes.filter(b=>b!==u);n=[];for(let b of u){let y=iu(f,o,t,b);n.push(Sa(y,a,l&&l[t],d))}}return n}function kC(t,n,e){return fn(t)?t(n,e):t}var CH=(t,n)=>t===!0?n:typeof t=="string"?hn(n,t):void 0;function bH(t,n,e,i,o){for(let a of n){let l=CH(e,a);if(l){t.add(l);let d=kC(l._fallback,e,o);if(vo(d)&&d!==e&&d!==i)return d}else if(l===!1&&vo(i)&&e!==i)return null}return!1}function iu(t,n,e,i){let o=n._rootScopes,a=kC(n._fallback,e,i),l=[...t,...o],d=new Set;d.add(i);let u=nC(d,l,e,a||e,i);return u===null||vo(a)&&a!==e&&(u=nC(d,l,a,u,i),u===null)?!1:gm(Array.from(d),[""],o,a,()=>vH(n,e,i))}function nC(t,n,e,i,o){for(;e;)e=bH(t,n,e,i,o);return e}function vH(t,n,e){let i=t._getTarget();n in i||(i[n]={});let o=i[n];return ei(o)&&Ft(e)?e:o}function SH(t,n,e,i){let o;for(let a of n)if(o=AC(fH(a,t),e),vo(o))return tu(t,o)?iu(e,i,t,o):o}function AC(t,n){for(let e of n){if(!e)continue;let i=e[t];if(vo(i))return i}}function aC(t){let n=t._keys;return n||(n=t._keys=yH(t._scopes)),n}function yH(t){let n=new Set;for(let e of t)for(let i of Object.keys(e).filter(o=>!o.startsWith("_")))n.add(i);return Array.from(n)}function ou(t,n,e,i){let{iScale:o}=t,{key:a="r"}=this._parsing,l=new Array(i),d,u,f,b;for(d=0,u=i;d<u;++d)f=d+e,b=n[f],l[d]={r:o.parse(hn(b,a),f)};return l}var xH=Number.EPSILON||1e-14,Pr=(t,n)=>n<t.length&&!t[n].skip&&t[n],OC=t=>t==="x"?"y":"x";function wH(t,n,e,i){let o=t.skip?n:t,a=n,l=e.skip?n:e,d=sm(a,o),u=sm(l,a),f=d/(d+u),b=u/(d+u);f=isNaN(f)?0:f,b=isNaN(b)?0:b;let y=i*f,w=i*b;return{previous:{x:a.x-y*(l.x-o.x),y:a.y-y*(l.y-o.y)},next:{x:a.x+w*(l.x-o.x),y:a.y+w*(l.y-o.y)}}}function EH(t,n,e){let i=t.length,o,a,l,d,u,f=Pr(t,0);for(let b=0;b<i-1;++b)if(u=f,f=Pr(t,b+1),!(!u||!f)){if(Fr(n[b],0,xH)){e[b]=e[b+1]=0;continue}o=e[b]/n[b],a=e[b+1]/n[b],d=Math.pow(o,2)+Math.pow(a,2),!(d<=9)&&(l=3/Math.sqrt(d),e[b]=o*l*n[b],e[b+1]=a*l*n[b])}}function MH(t,n,e="x"){let i=OC(e),o=t.length,a,l,d,u=Pr(t,0);for(let f=0;f<o;++f){if(l=d,d=u,u=Pr(t,f+1),!d)continue;let b=d[e],y=d[i];l&&(a=(b-l[e])/3,d[`cp1${e}`]=b-a,d[`cp1${i}`]=y-a*n[f]),u&&(a=(u[e]-b)/3,d[`cp2${e}`]=b+a,d[`cp2${i}`]=y+a*n[f])}}function IH(t,n="x"){let e=OC(n),i=t.length,o=Array(i).fill(0),a=Array(i),l,d,u,f=Pr(t,0);for(l=0;l<i;++l)if(d=u,u=f,f=Pr(t,l+1),!!u){if(f){let b=f[n]-u[n];o[l]=b!==0?(f[e]-u[e])/b:0}a[l]=d?f?Go(o[l-1])!==Go(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}EH(t,o,a),MH(t,a,n)}function nm(t,n,e){return Math.max(Math.min(t,e),n)}function TH(t,n){let e,i,o,a,l,d=Tr(t[0],n);for(e=0,i=t.length;e<i;++e)l=a,a=d,d=e<i-1&&Tr(t[e+1],n),a&&(o=t[e],l&&(o.cp1x=nm(o.cp1x,n.left,n.right),o.cp1y=nm(o.cp1y,n.top,n.bottom)),d&&(o.cp2x=nm(o.cp2x,n.left,n.right),o.cp2y=nm(o.cp2y,n.top,n.bottom)))}function VC(t,n,e,i,o){let a,l,d,u;if(n.spanGaps&&(t=t.filter(f=>!f.skip)),n.cubicInterpolationMode==="monotone")IH(t,o);else{let f=i?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)d=t[a],u=wH(f,d,t[Math.min(a+1,l-(i?0:1))%l],n.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,f=d}n.capBezierPoints&&TH(t,e)}function nu(){return typeof window<"u"&&typeof document<"u"}function _m(t){let n=t.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function lm(t,n,e){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*n.parentNode[e])):i=t,i}var Cm=t=>window.getComputedStyle(t,null);function PH(t,n){return Cm(t).getPropertyValue(n)}var DH=["top","right","bottom","left"];function va(t,n,e){let i={};e=e?"-"+e:"";for(let o=0;o<4;o++){let a=DH[o];i[a]=parseFloat(t[n+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var FH=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function RH(t,n){let e=t.touches,i=e&&e.length?e[0]:t,{offsetX:o,offsetY:a}=i,l=!1,d,u;if(FH(o,a,t.target))d=o,u=a;else{let f=n.getBoundingClientRect();d=i.clientX-f.left,u=i.clientY-f.top,l=!0}return{x:d,y:u,box:l}}function Un(t,n){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:i}=n,o=Cm(e),a=o.boxSizing==="border-box",l=va(o,"padding"),d=va(o,"border","width"),{x:u,y:f,box:b}=RH(t,e),y=l.left+(b&&d.left),w=l.top+(b&&d.top),{width:M,height:P}=n;return a&&(M-=l.width+d.width,P-=l.height+d.height),{x:Math.round((u-y)/M*e.width/i),y:Math.round((f-w)/P*e.height/i)}}function kH(t,n,e){let i,o;if(n===void 0||e===void 0){let a=_m(t);if(!a)n=t.clientWidth,e=t.clientHeight;else{let l=a.getBoundingClientRect(),d=Cm(a),u=va(d,"border","width"),f=va(d,"padding");n=l.width-f.width-u.width,e=l.height-f.height-u.height,i=lm(d.maxWidth,a,"clientWidth"),o=lm(d.maxHeight,a,"clientHeight")}}return{width:n,height:e,maxWidth:i||rm,maxHeight:o||rm}}var Fp=t=>Math.round(t*10)/10;function NC(t,n,e,i){let o=Cm(t),a=va(o,"margin"),l=lm(o.maxWidth,t,"clientWidth")||rm,d=lm(o.maxHeight,t,"clientHeight")||rm,u=kH(t,n,e),{width:f,height:b}=u;if(o.boxSizing==="content-box"){let y=va(o,"border","width"),w=va(o,"padding");f-=w.width+y.width,b-=w.height+y.height}return f=Math.max(0,f-a.width),b=Math.max(0,i?Math.floor(f/i):b-a.height),f=Fp(Math.min(f,l,u.maxWidth)),b=Fp(Math.min(b,d,u.maxHeight)),f&&!b&&(b=Fp(f/2)),{width:f,height:b}}function au(t,n,e){let i=n||1,o=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=o/i,t.width=a/i;let l=t.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==o||l.width!==a?(t.currentDevicePixelRatio=i,l.height=o,l.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var BC=(function(){let t=!1;try{let n={get passive(){return t=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return t})();function ru(t,n){let e=PH(t,n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Bn(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function LC(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:i==="middle"?e<.5?t.y:n.y:i==="after"?e<1?t.y:n.y:e>0?n.y:t.y}}function jC(t,n,e,i){let o={x:t.cp2x,y:t.cp2y},a={x:n.cp1x,y:n.cp1y},l=Bn(t,o,e),d=Bn(o,a,e),u=Bn(a,n,e),f=Bn(l,d,e),b=Bn(d,u,e);return Bn(f,b,e)}var rC=new Map;function AH(t,n){n=n||{};let e=t+JSON.stringify(n),i=rC.get(e);return i||(i=new Intl.NumberFormat(t,n),rC.set(e,i)),i}function Or(t,n,e){return AH(n,e).format(t)}var OH=function(t,n){return{x(e){return t+t+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},VH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,n){return t+n},leftForLtr(t,n){return t}}};function xa(t,n,e){return t?OH(n,e):VH()}function su(t,n){let e,i;(n==="ltr"||n==="rtl")&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=i)}function lu(t,n){n!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function zC(t){return t==="angle"?{between:Rr,compare:Bz,normalize:po}:{between:an,compare:(n,e)=>n-e,normalize:n=>n}}function sC({start:t,end:n,count:e,loop:i,style:o}){return{start:t%e,end:n%e,loop:i&&(n-t+1)%e===0,style:o}}function NH(t,n,e){let{property:i,start:o,end:a}=e,{between:l,normalize:d}=zC(i),u=n.length,{start:f,end:b,loop:y}=t,w,M;if(y){for(f+=u,b+=u,w=0,M=u;w<M&&l(d(n[f%u][i]),o,a);++w)f--,b--;f%=u,b%=u}return b<f&&(b+=u),{start:f,end:b,loop:y,style:t.style}}function cu(t,n,e){if(!e)return[t];let{property:i,start:o,end:a}=e,l=n.length,{compare:d,between:u,normalize:f}=zC(i),{start:b,end:y,loop:w,style:M}=NH(t,n,e),P=[],k=!1,N=null,U,Q,me,ne=()=>u(o,me,U)&&d(o,me)!==0,se=()=>d(a,U)===0||u(a,me,U),xe=()=>k||ne(),ye=()=>!k||se();for(let Le=b,Ge=b;Le<=y;++Le)Q=n[Le%l],!Q.skip&&(U=f(Q[i]),U!==me&&(k=u(U,o,a),N===null&&xe()&&(N=d(U,o)===0?Le:Ge),N!==null&&ye()&&(P.push(sC({start:N,end:Le,loop:w,count:l,style:M})),N=null),Ge=Le,me=U));return N!==null&&P.push(sC({start:N,end:y,loop:w,count:l,style:M})),P}function mu(t,n){let e=[],i=t.segments;for(let o=0;o<i.length;o++){let a=cu(i[o],t.points,n);a.length&&e.push(...a)}return e}function BH(t,n,e,i){let o=0,a=n-1;if(e&&!i)for(;o<n&&!t[o].skip;)o++;for(;o<n&&t[o].skip;)o++;for(o%=n,e&&(a+=o);a>o&&t[a%n].skip;)a--;return a%=n,{start:o,end:a}}function LH(t,n,e,i){let o=t.length,a=[],l=n,d=t[n],u;for(u=n+1;u<=e;++u){let f=t[u%o];f.skip||f.stop?d.skip||(i=!1,a.push({start:n%o,end:(u-1)%o,loop:i}),n=l=f.stop?u:null):(l=u,d.skip&&(n=u)),d=f}return l!==null&&a.push({start:n%o,end:l%o,loop:i}),a}function HC(t,n){let e=t.points,i=t.options.spanGaps,o=e.length;if(!o)return[];let a=!!t._loop,{start:l,end:d}=BH(e,o,a,i);if(i===!0)return lC(t,[{start:l,end:d,loop:a}],e,n);let u=d<l?d+o:d,f=!!t._fullLoop&&l===0&&d===o-1;return lC(t,LH(e,l,u,f),e,n)}function lC(t,n,e,i){return!i||!i.setContext||!e?n:jH(t,n,e,i)}function jH(t,n,e,i){let o=t._chart.getContext(),a=cC(t.options),{_datasetIndex:l,options:{spanGaps:d}}=t,u=e.length,f=[],b=a,y=n[0].start,w=y;function M(P,k,N,U){let Q=d?-1:1;if(P!==k){for(P+=u;e[P%u].skip;)P-=Q;for(;e[k%u].skip;)k+=Q;P%u!==k%u&&(f.push({start:P%u,end:k%u,loop:N,style:U}),b=U,y=k%u)}}for(let P of n){y=d?y:P.start;let k=e[y%u],N;for(w=y+1;w<=P.end;w++){let U=e[w%u];N=cC(i.setContext(gn(o,{type:"segment",p0:k,p1:U,p0DataIndex:(w-1)%u,p1DataIndex:w%u,datasetIndex:l}))),zH(N,b)&&M(y,w-1,P.loop,b),k=U,b=N}y<w-1&&M(y,w-1,P.loop,b)}return f}function cC(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function zH(t,n){return n&&JSON.stringify(t)!==JSON.stringify(n)}var vu=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,i,o){let a=e.listeners[o],l=e.duration;a.forEach(d=>d({chart:n,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=qp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let a=i.items,l=a.length-1,d=!1,u;for(;l>=0;--l)u=a[l],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(n),d=!0):(a[l]=a[a.length-1],a.pop());d&&(o.draw(),this._notify(o,i,n,"progress")),a.length||(i.running=!1,this._notify(o,i,n,"complete"),i.initial=!1),e+=a.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,i=e.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,i)),i}listen(n,e,i){this._getAnims(n).listeners[e].push(i)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let i=e.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},_n=new vu,qC="transparent",HH={boolean(t,n,e){return e>.5?n:t},color(t,n,e){let i=Yp(t||qC),o=i.valid&&Yp(n||qC);return o&&o.valid?o.mix(i,e).hexString():n},number(t,n,e){return t+(n-t)*e}},Su=class{constructor(n,e,i,o){let a=e[i];o=Ar([n.to,o,a,n.from]);let l=Ar([n.from,a,o]);this._active=!0,this._fn=n.fn||HH[n.type||typeof l],this._easing=Mr[n.easing]||Mr.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(n,e,i){if(this._active){this._notify(!1);let o=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,n.duration)),this._total+=a,this._loop=!!n.loop,this._to=Ar([n.to,e,o,n.from]),this._from=Ar([n.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,i=this._duration,o=this._prop,a=this._from,l=this._loop,d=this._to,u;if(this._active=a!==d&&(l||e<i),!this._active){this._target[o]=d,this._notify(!0);return}if(e<0){this._target[o]=a;return}u=e/i%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(a,d,u)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,i)=>{n.push({res:e,rej:i})})}_notify(n){let e=n?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}},qH=["x","y","borderWidth","radius","tension"],GH=["color","borderColor","backgroundColor"];Pt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var UH=Object.keys(Pt.animation);Pt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});Pt.set("animations",{colors:{type:"color",properties:GH},numbers:{type:"number",properties:qH}});Pt.describe("animations",{_fallback:"animation"});Pt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});var Mm=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!Ft(n))return;let e=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let o=n[i];if(!Ft(o))return;let a={};for(let l of UH)a[l]=o[l];(ei(o.properties)&&o.properties||[i]).forEach(l=>{(l===i||!e.has(l))&&e.set(l,a)})})}_animateOptions(n,e){let i=e.options,o=QH(n,i);if(!o)return[];let a=this._createAnimations(o,i);return i.$shared&&$H(n.options.$animations,i).then(()=>{n.options=i},()=>{}),a}_createAnimations(n,e){let i=this._properties,o=[],a=n.$animations||(n.$animations={}),l=Object.keys(e),d=Date.now(),u;for(u=l.length-1;u>=0;--u){let f=l[u];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(n,e));continue}let b=e[f],y=a[f],w=i.get(f);if(y)if(w&&y.active()){y.update(w,b,d);continue}else y.cancel();if(!w||!w.duration){n[f]=b;continue}a[f]=y=new Su(w,n,f,b),o.push(y)}return o}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let i=this._createAnimations(n,e);if(i.length)return _n.add(this._chart,i),!0}};function $H(t,n){let e=[],i=Object.keys(n);for(let o=0;o<i.length;o++){let a=t[i[o]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function QH(t,n){if(!n)return;let e=t.options;if(!e){t.options=n;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function GC(t,n){let e=t&&t.options||{},i=e.reverse,o=e.min===void 0?n:0,a=e.max===void 0?n:0;return{start:i?a:o,end:i?o:a}}function WH(t,n,e){if(e===!1)return!1;let i=GC(t,e),o=GC(n,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function KH(t){let n,e,i,o;return Ft(t)?(n=t.top,e=t.right,i=t.bottom,o=t.left):n=e=i=o=t,{top:n,right:e,bottom:i,left:o,disabled:t===!1}}function Ob(t,n){let e=[],i=t._getSortedDatasetMetas(n),o,a;for(o=0,a=i.length;o<a;++o)e.push(i[o].index);return e}function UC(t,n,e,i={}){let o=t.keys,a=i.mode==="single",l,d,u,f;if(n!==null){for(l=0,d=o.length;l<d;++l){if(u=+o[l],u===e){if(i.all)continue;break}f=t.values[u],Mi(f)&&(a||n===0||Go(n)===Go(f))&&(n+=f)}return n}}function YH(t){let n=Object.keys(t),e=new Array(n.length),i,o,a;for(i=0,o=n.length;i<o;++i)a=n[i],e[i]={x:a,y:t[a]};return e}function $C(t,n){let e=t&&t.options.stacked;return e||e===void 0&&n.stack!==void 0}function XH(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}function ZH(t){let{min:n,max:e,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function JH(t,n,e){let i=t[n]||(t[n]={});return i[e]||(i[e]={})}function QC(t,n,e,i){for(let o of n.getMatchingVisibleMetas(i).reverse()){let a=t[o.index];if(e&&a>0||!e&&a<0)return o.index}return null}function WC(t,n){let{chart:e,_cachedMeta:i}=t,o=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:d}=i,u=a.axis,f=l.axis,b=XH(a,l,i),y=n.length,w;for(let M=0;M<y;++M){let P=n[M],{[u]:k,[f]:N}=P,U=P._stacks||(P._stacks={});w=U[f]=JH(o,b,k),w[d]=N,w._top=QC(w,l,!0,i.type),w._bottom=QC(w,l,!1,i.type)}}function du(t,n){let e=t.scales;return Object.keys(e).filter(i=>e[i].axis===n).shift()}function eq(t,n){return gn(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function tq(t,n,e){return gn(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function Us(t,n){let e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){n=n||t._parsed;for(let o of n){let a=o._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e]}}}var pu=t=>t==="reset"||t==="none",KC=(t,n)=>n?t:Object.assign({},t),iq=(t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:Ob(e,!0),values:null},ln=(()=>{class t{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$C(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Us(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,o=this.getDataset(),a=(w,M,P,k)=>w==="x"?M:w==="r"?k:P,l=i.xAxisID=xt(o.xAxisID,du(e,"x")),d=i.yAxisID=xt(o.yAxisID,du(e,"y")),u=i.rAxisID=xt(o.rAxisID,du(e,"r")),f=i.indexAxis,b=i.iAxisID=a(f,l,d,u),y=i.vAxisID=a(f,d,l,u);i.xScale=this.getScaleForId(l),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(u),i.iScale=this.getScaleForId(b),i.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&zp(this._data,this),e._stacked&&Us(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),o=this._data;if(Ft(i))this._data=YH(i);else if(o!==i){if(o){zp(o,this);let a=this._cachedMeta;Us(a),a._parsed=[]}i&&Object.isExtensible(i)&&vC(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,o=this.getDataset(),a=!1;this._dataCheck();let l=i._stacked;i._stacked=$C(i.vScale,i),i.stack!==o.stack&&(a=!0,Us(i),i.stack=o.stack),this._resyncElements(e),(a||l!==i._stacked)&&WC(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:o,_data:a}=this,{iScale:l,_stacked:d}=o,u=l.axis,f=e===0&&i===a.length?!0:o._sorted,b=e>0&&o._parsed[e-1],y,w,M;if(this._parsing===!1)o._parsed=a,o._sorted=!0,M=a;else{ei(a[e])?M=this.parseArrayData(o,a,e,i):Ft(a[e])?M=this.parseObjectData(o,a,e,i):M=this.parsePrimitiveData(o,a,e,i);let P=()=>w[u]===null||b&&w[u]<b[u];for(y=0;y<i;++y)o._parsed[y+e]=w=M[y],f&&(P()&&(f=!1),b=w);o._sorted=f}d&&WC(this,M)}parsePrimitiveData(e,i,o,a){let{iScale:l,vScale:d}=e,u=l.axis,f=d.axis,b=l.getLabels(),y=l===d,w=new Array(a),M,P,k;for(M=0,P=a;M<P;++M)k=M+o,w[M]={[u]:y||l.parse(b[k],k),[f]:d.parse(i[k],k)};return w}parseArrayData(e,i,o,a){let{xScale:l,yScale:d}=e,u=new Array(a),f,b,y,w;for(f=0,b=a;f<b;++f)y=f+o,w=i[y],u[f]={x:l.parse(w[0],y),y:d.parse(w[1],y)};return u}parseObjectData(e,i,o,a){let{xScale:l,yScale:d}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,b=new Array(a),y,w,M,P;for(y=0,w=a;y<w;++y)M=y+o,P=i[M],b[y]={x:l.parse(hn(P,u),M),y:d.parse(hn(P,f),M)};return b}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,o){let a=this.chart,l=this._cachedMeta,d=i[e.axis],u={keys:Ob(a,!0),values:i._stacks[e.axis]};return UC(u,d,l.index,{mode:o})}updateRangeFromParsed(e,i,o,a){let l=o[i.axis],d=l===null?NaN:l,u=a&&o._stacks[i.axis];a&&u&&(a.values=u,d=UC(a,l,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){let o=this._cachedMeta,a=o._parsed,l=o._sorted&&e===o.iScale,d=a.length,u=this._getOtherScale(e),f=iq(i,o,this.chart),b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:w}=ZH(u),M,P;function k(){P=a[M];let N=P[u.axis];return!Mi(P[e.axis])||y>N||w<N}for(M=0;M<d&&!(!k()&&(this.updateRangeFromParsed(b,e,P,f),l));++M);if(l){for(M=d-1;M>=0;--M)if(!k()){this.updateRangeFromParsed(b,e,P,f);break}}return b}getAllParsedValues(e){let i=this._cachedMeta._parsed,o=[],a,l,d;for(a=0,l=i.length;a<l;++a)d=i[a][e.axis],Mi(d)&&o.push(d);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,o=i.iScale,a=i.vScale,l=this.getParsed(e);return{label:o?""+o.getLabelForValue(l[o.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=KH(xt(this.options.clip,WH(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,o=this._cachedMeta,a=o.data||[],l=i.chartArea,d=[],u=this._drawStart||0,f=this._drawCount||a.length-u,b=this.options.drawActiveElementsOnTop,y;for(o.dataset&&o.dataset.draw(e,l,u,f),y=u;y<u+f;++y){let w=a[y];w.hidden||(w.active&&b?d.push(w):w.draw(e,l))}for(y=0;y<d.length;++y)d[y].draw(e,l)}getStyle(e,i){let o=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,i,o){let a=this.getDataset(),l;if(e>=0&&e<this._cachedMeta.data.length){let d=this._cachedMeta.data[e];l=d.$context||(d.$context=tq(this.getContext(),e,d)),l.parsed=this.getParsed(e),l.raw=a.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=eq(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!i,l.mode=o,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",o){let a=i==="active",l=this._cachedDataOpts,d=e+"-"+i,u=l[d],f=this.enableOptionSharing&&vo(o);if(u)return KC(u,f);let b=this.chart.config,y=b.datasetElementScopeKeys(this._type,e),w=a?[`${e}Hover`,"hover",e,""]:[e,""],M=b.getOptionScopes(this.getDataset(),y),P=Object.keys(Pt.elements[e]),k=()=>this.getContext(o,a),N=b.resolveNamedOptions(M,P,k,w);return N.$shared&&(N.$shared=f,l[d]=Object.freeze(KC(N,f))),N}_resolveAnimations(e,i,o){let a=this.chart,l=this._cachedDataOpts,d=`animation-${i}`,u=l[d];if(u)return u;let f;if(a.options.animation!==!1){let y=this.chart.config,w=y.datasetAnimationScopeKeys(this._type,i),M=y.getOptionScopes(this.getDataset(),w);f=y.createResolver(M,this.getContext(e,o,i))}let b=new Mm(a,f&&f.animations);return f&&f._cacheable&&(l[d]=Object.freeze(b)),b}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||pu(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let o=this.resolveDataElementOptions(e,i),a=this._sharedOptions,l=this.getSharedOptions(o),d=this.includeOptions(i,l)||l!==a;return this.updateSharedOptions(l,i,o),{sharedOptions:l,includeOptions:d}}updateElement(e,i,o,a){pu(a)?Object.assign(e,o):this._resolveAnimations(i,a).update(e,o)}updateSharedOptions(e,i,o){e&&!pu(i)&&this._resolveAnimations(void 0,i).update(e,o)}_setStyle(e,i,o,a){e.active=a;let l=this.getStyle(i,a);this._resolveAnimations(i,o,a).update(e,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(e,i,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,i,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,o=this._cachedMeta.data;for(let[u,f,b]of this._syncList)this[u](f,b);this._syncList=[];let a=o.length,l=i.length,d=Math.min(l,a);d&&this.parse(0,d),l>a?this._insertElements(a,l-a,e):l<a&&this._removeElements(l,a-l)}_insertElements(e,i,o=!0){let a=this._cachedMeta,l=a.data,d=e+i,u,f=b=>{for(b.length+=i,u=b.length-1;u>=d;u--)b[u]=b[u-i]};for(f(l),u=e;u<d;++u)l[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,i),o&&this.updateElements(l,e,i,"reset")}updateElements(e,i,o,a){}_removeElements(e,i){let o=this._cachedMeta;if(this._parsing){let a=o._parsed.splice(e,i);o._stacked&&Us(o,a)}o.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,o,a]=e;this[i](o,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t.defaults={},t})();ln.prototype.datasetElementType=null;ln.prototype.dataElementType=null;function oq(t,n){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(n),i=[];for(let o=0,a=e.length;o<a;o++)i=i.concat(e[o].controller.getAllParsedValues(t));t._cache.$bar=Hp(i.sort((o,a)=>o-a))}return t._cache.$bar}function nq(t){let n=t.iScale,e=oq(n,t.type),i=n._length,o,a,l,d,u=()=>{l===32767||l===-32768||(vo(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(o=0,a=e.length;o<a;++o)l=n.getPixelForValue(e[o]),u();for(d=void 0,o=0,a=n.ticks.length;o<a;++o)l=n.getPixelForTick(o),u();return i}function aq(t,n,e,i){let o=e.barThickness,a,l;return jt(o)?(a=n.min*e.categoryPercentage,l=e.barPercentage):(a=o*i,l=1),{chunk:a/i,ratio:l,start:n.pixels[t]-a/2}}function rq(t,n,e,i){let o=n.pixels,a=o[t],l=t>0?o[t-1]:null,d=t<o.length-1?o[t+1]:null,u=e.categoryPercentage;l===null&&(l=a-(d===null?n.end-n.start:d-a)),d===null&&(d=a+a-l);let f=a-(a-Math.min(l,d))/2*u;return{chunk:Math.abs(d-l)/2*u/i,ratio:e.barPercentage,start:f}}function sq(t,n,e,i){let o=e.parse(t[0],i),a=e.parse(t[1],i),l=Math.min(o,a),d=Math.max(o,a),u=l,f=d;Math.abs(l)>Math.abs(d)&&(u=d,f=l),n[e.axis]=f,n._custom={barStart:u,barEnd:f,start:o,end:a,min:l,max:d}}function Vb(t,n,e,i){return ei(t)?sq(t,n,e,i):n[e.axis]=e.parse(t,i),n}function YC(t,n,e,i){let o=t.iScale,a=t.vScale,l=o.getLabels(),d=o===a,u=[],f,b,y,w;for(f=e,b=e+i;f<b;++f)w=n[f],y={},y[o.axis]=d||o.parse(l[f],f),u.push(Vb(w,y,a,f));return u}function uu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function lq(t,n,e){return t!==0?Go(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function cq(t){let n,e,i,o,a;return t.horizontal?(n=t.base>t.x,e="left",i="right"):(n=t.base<t.y,e="bottom",i="top"),n?(o="end",a="start"):(o="start",a="end"),{start:e,end:i,reverse:n,top:o,bottom:a}}function mq(t,n,e,i){let o=n.borderSkipped,a={};if(!o){t.borderSkipped=a;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:l,end:d,reverse:u,top:f,bottom:b}=cq(t);o==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?o=f:(e._bottom||0)===i?o=b:(a[XC(b,l,d,u)]=!0,o=f)),a[XC(o,l,d,u)]=!0,t.borderSkipped=a}function XC(t,n,e,i){return i?(t=dq(t,n,e),t=ZC(t,e,n)):t=ZC(t,n,e),t}function dq(t,n,e){return t===n?e:t===e?n:t}function ZC(t,n,e){return t==="start"?n:t==="end"?e:t}function pq(t,{inflateAmount:n},e){t.inflateAmount=n==="auto"?e===1?.33:0:n}var uq=(()=>{class t extends ln{parsePrimitiveData(e,i,o,a){return YC(e,i,o,a)}parseArrayData(e,i,o,a){return YC(e,i,o,a)}parseObjectData(e,i,o,a){let{iScale:l,vScale:d}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,b=l.axis==="x"?u:f,y=d.axis==="x"?u:f,w=[],M,P,k,N;for(M=o,P=o+a;M<P;++M)N=i[M],k={},k[l.axis]=l.parse(hn(N,b),M),w.push(Vb(hn(N,y),k,d,M));return w}updateRangeFromParsed(e,i,o,a){super.updateRangeFromParsed(e,i,o,a);let l=o._custom;l&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:o,vScale:a}=i,l=this.getParsed(e),d=l._custom,u=uu(d)?"["+d.start+", "+d.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+o.getLabelForValue(l[o.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,o,a){let l=a==="reset",{index:d,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),b=u.isHorizontal(),y=this._getRuler(),{sharedOptions:w,includeOptions:M}=this._getSharedOptions(i,a);for(let P=i;P<i+o;P++){let k=this.getParsed(P),N=l||jt(k[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(P),U=this._calculateBarIndexPixels(P,y),Q=(k._stacks||{})[u.axis],me={horizontal:b,base:N.base,enableBorderRadius:!Q||uu(k._custom)||d===Q._top||d===Q._bottom,x:b?N.head:U.center,y:b?U.center:N.head,height:b?U.size:Math.abs(N.size),width:b?Math.abs(N.size):U.size};M&&(me.options=w||this.resolveDataElementOptions(P,e[P].active?"active":a));let ne=me.options||e[P].options;mq(me,ne,Q,d),pq(me,ne,y.ratio),this.updateElement(e[P],P,me,a)}}_getStacks(e,i){let{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),l=o.options.stacked,d=[],u=f=>{let b=f.controller.getParsed(i),y=b&&b[f.vScale.axis];if(jt(y)||isNaN(y))return!0};for(let f of a)if(!(i!==void 0&&u(f))&&((l===!1||d.indexOf(f.stack)===-1||l===void 0&&f.stack===void 0)&&d.push(f.stack),f.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,o){let a=this._getStacks(e,o),l=i!==void 0?a.indexOf(i):-1;return l===-1?a.length-1:l}_getRuler(){let e=this.options,i=this._cachedMeta,o=i.iScale,a=[],l,d;for(l=0,d=i.data.length;l<d;++l)a.push(o.getPixelForValue(this.getParsed(l)[o.axis],l));let u=e.barThickness;return{min:u||nq(i),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:o},options:{base:a,minBarLength:l}}=this,d=a||0,u=this.getParsed(e),f=u._custom,b=uu(f),y=u[i.axis],w=0,M=o?this.applyStack(i,u,o):y,P,k;M!==y&&(w=M-y,M=y),b&&(y=f.barStart,M=f.barEnd-f.barStart,y!==0&&Go(y)!==Go(f.barEnd)&&(w=0),w+=y);let N=!jt(a)&&!b?a:w,U=i.getPixelForValue(N);if(this.chart.getDataVisibility(e)?P=i.getPixelForValue(w+M):P=U,k=P-U,Math.abs(k)<l){k=lq(k,i,d)*l,y===d&&(U-=k/2);let Q=i.getPixelForDecimal(0),me=i.getPixelForDecimal(1),ne=Math.min(Q,me),se=Math.max(Q,me);U=Math.max(Math.min(U,se),ne),P=U+k}if(U===i.getPixelForValue(d)){let Q=Go(k)*i.getLineWidthForValue(d)/2;U+=Q,k-=Q}return{size:k,base:U,head:P,center:P+k/2}}_calculateBarIndexPixels(e,i){let o=i.scale,a=this.options,l=a.skipNull,d=xt(a.maxBarThickness,1/0),u,f;if(i.grouped){let b=l?this._getStackCount(e):i.stackCount,y=a.barThickness==="flex"?rq(e,i,a,b):aq(e,i,a,b),w=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);u=y.start+y.chunk*w+y.chunk/2,f=Math.min(d,y.chunk*y.ratio)}else u=o.getPixelForValue(this.getParsed(e)[o.axis],e),f=Math.min(d,i.min*i.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){let e=this._cachedMeta,i=e.vScale,o=e.data,a=o.length,l=0;for(;l<a;++l)this.getParsed(l)[i.axis]!==null&&o[l].draw(this._ctx)}}return t.id="bar",t.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},t.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},t})(),fq=(()=>{class t extends ln{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,o,a){let l=super.parsePrimitiveData(e,i,o,a);for(let d=0;d<l.length;d++)l[d]._custom=this.resolveDataElementOptions(d+o).radius;return l}parseArrayData(e,i,o,a){let l=super.parseArrayData(e,i,o,a);for(let d=0;d<l.length;d++){let u=i[o+d];l[d]._custom=xt(u[2],this.resolveDataElementOptions(d+o).radius)}return l}parseObjectData(e,i,o,a){let l=super.parseObjectData(e,i,o,a);for(let d=0;d<l.length;d++){let u=i[o+d];l[d]._custom=xt(u&&u.r&&+u.r,this.resolveDataElementOptions(d+o).radius)}return l}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let o=e.length-1;o>=0;--o)i=Math.max(i,e[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,{xScale:o,yScale:a}=i,l=this.getParsed(e),d=o.getLabelForValue(l.x),u=a.getLabelForValue(l.y),f=l._custom;return{label:i.label,value:"("+d+", "+u+(f?", "+f:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,o,a){let l=a==="reset",{iScale:d,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:b}=this._getSharedOptions(i,a),y=d.axis,w=u.axis;for(let M=i;M<i+o;M++){let P=e[M],k=!l&&this.getParsed(M),N={},U=N[y]=l?d.getPixelForDecimal(.5):d.getPixelForValue(k[y]),Q=N[w]=l?u.getBasePixel():u.getPixelForValue(k[w]);N.skip=isNaN(U)||isNaN(Q),b&&(N.options=f||this.resolveDataElementOptions(M,P.active?"active":a),l&&(N.options.radius=0)),this.updateElement(P,M,N,a)}}resolveDataElementOptions(e,i){let o=this.getParsed(e),a=super.resolveDataElementOptions(e,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let l=a.radius;return i!=="active"&&(a.radius=0),a.radius+=xt(o&&o._custom,l),a}}return t.id="bubble",t.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},t.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}},t})();function hq(t,n,e){let i=1,o=1,a=0,l=0;if(n<Xt){let d=t,u=d+n,f=Math.cos(d),b=Math.sin(d),y=Math.cos(u),w=Math.sin(u),M=(me,ne,se)=>Rr(me,d,u,!0)?1:Math.max(ne,ne*e,se,se*e),P=(me,ne,se)=>Rr(me,d,u,!0)?-1:Math.min(ne,ne*e,se,se*e),k=M(0,f,y),N=M(xi,b,w),U=P(pi,f,y),Q=P(pi+xi,b,w);i=(k-U)/2,o=(N-Q)/2,a=-(k+U)/2,l=-(N+Q)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:l}}var Nb=(()=>{class t extends ln{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let l=f=>+o[f];if(Ft(o[e])){let{key:f="value"}=this._parsing;l=b=>+hn(o[b],f)}let d,u;for(d=e,u=e+i;d<u;++d)a._parsed[d]=l(d)}}_getRotation(){return Oo(this.options.rotation-90)}_getCircumference(){return Oo(this.options.circumference)}_getRotationExtents(){let e=Xt,i=-Xt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){let a=this.chart.getDatasetMeta(o).controller,l=a._getRotation(),d=a._getCircumference();e=Math.min(e,l),i=Math.max(i,l+d)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:o}=i,a=this._cachedMeta,l=a.data,d=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(o.width,o.height)-d)/2,0),f=Math.min(dC(this.options.cutout,u),1),b=this._getRingWeight(this.index),{circumference:y,rotation:w}=this._getRotationExtents(),{ratioX:M,ratioY:P,offsetX:k,offsetY:N}=hq(w,y,f),U=(o.width-d)/M,Q=(o.height-d)/P,me=Math.max(Math.min(U,Q)/2,0),ne=Op(this.options.radius,me),se=Math.max(ne*f,0),xe=(ne-se)/this._getVisibleDatasetWeightTotal();this.offsetX=k*ne,this.offsetY=N*ne,a.total=this.calculateTotal(),this.outerRadius=ne-xe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-xe*b,0),this.updateElements(l,0,l.length,e)}_circumference(e,i){let o=this.options,a=this._cachedMeta,l=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*l/Xt)}updateElements(e,i,o,a){let l=a==="reset",d=this.chart,u=d.chartArea,b=d.options.animation,y=(u.left+u.right)/2,w=(u.top+u.bottom)/2,M=l&&b.animateScale,P=M?0:this.innerRadius,k=M?0:this.outerRadius,{sharedOptions:N,includeOptions:U}=this._getSharedOptions(i,a),Q=this._getRotation(),me;for(me=0;me<i;++me)Q+=this._circumference(me,l);for(me=i;me<i+o;++me){let ne=this._circumference(me,l),se=e[me],xe={x:y+this.offsetX,y:w+this.offsetY,startAngle:Q,endAngle:Q+ne,circumference:ne,outerRadius:k,innerRadius:P};U&&(xe.options=N||this.resolveDataElementOptions(me,se.active?"active":a)),Q+=ne,this.updateElement(se,me,xe,a)}}calculateTotal(){let e=this._cachedMeta,i=e.data,o=0,a;for(a=0;a<i.length;a++){let l=e._parsed[a];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(o+=Math.abs(l))}return o}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Xt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],l=Or(i._parsed[e],o.options.locale);return{label:a[e]||"",value:l}}getMaxBorderWidth(e){let i=0,o=this.chart,a,l,d,u,f;if(!e){for(a=0,l=o.data.datasets.length;a<l;++a)if(o.isDatasetVisible(a)){d=o.getDatasetMeta(a),e=d.data,u=d.controller;break}}if(!e)return 0;for(a=0,l=e.length;a<l;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(i=Math.max(i,f.borderWidth||0,f.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let o=0,a=e.length;o<a;++o){let l=this.resolveDataElementOptions(o);i=Math.max(i,l.offset||0,l.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(e){return Math.max(xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t.id="doughnut",t.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},t.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let e=n.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i}}=n.legend.options;return e.labels.map((o,a)=>{let d=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let e=n.label,i=": "+n.formattedValue;return ei(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},t})(),gq=(()=>{class t extends ln{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:o,data:a=[],_dataset:l}=i,d=this.chart._animationsDisabled,{start:u,count:f}=Up(i,a,d);this._drawStart=u,this._drawCount=f,$p(i)&&(u=0,f=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=a;let b=this.resolveDatasetElementOptions(e);this.options.showLine||(b.borderWidth=0),b.segment=this.options.segment,this.updateElement(o,void 0,{animated:!d,options:b},e),this.updateElements(a,u,f,e)}updateElements(e,i,o,a){let l=a==="reset",{iScale:d,vScale:u,_stacked:f,_dataset:b}=this._cachedMeta,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(i,a),M=d.axis,P=u.axis,{spanGaps:k,segment:N}=this.options,U=ya(k)?k:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||l||a==="none",me=i>0&&this.getParsed(i-1);for(let ne=i;ne<i+o;++ne){let se=e[ne],xe=this.getParsed(ne),ye=Q?se:{},Le=jt(xe[P]),Ge=ye[M]=d.getPixelForValue(xe[M],ne),wt=ye[P]=l||Le?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,xe,f):xe[P],ne);ye.skip=isNaN(Ge)||isNaN(wt)||Le,ye.stop=ne>0&&Math.abs(xe[M]-me[M])>U,N&&(ye.parsed=xe,ye.raw=b.data[ne]),w&&(ye.options=y||this.resolveDataElementOptions(ne,se.active?"active":a)),Q||this.updateElement(se,ne,ye,a),me=xe}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,o=i.options&&i.options.borderWidth||0,a=e.data||[];if(!a.length)return o;let l=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,l,d)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t.id="line",t.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},t.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},t})(),_q=(()=>{class t extends ln{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],l=Or(i._parsed[e].r,o.options.locale);return{label:a[e]||"",value:l}}parseObjectData(e,i,o,a){return ou.bind(this)(e,i,o,a)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,a)=>{let l=this.getParsed(a).r;!isNaN(l)&&this.chart.getDataVisibility(a)&&(l<i.min&&(i.min=l),l>i.max&&(i.max=l))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,o=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),l=Math.max(a/2,0),d=Math.max(o.cutoutPercentage?l/100*o.cutoutPercentage:1,0),u=(l-d)/e.getVisibleDatasetCount();this.outerRadius=l-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,i,o,a){let l=a==="reset",d=this.chart,f=d.options.animation,b=this._cachedMeta.rScale,y=b.xCenter,w=b.yCenter,M=b.getIndexAngle(0)-.5*pi,P=M,k,N=360/this.countVisibleElements();for(k=0;k<i;++k)P+=this._computeAngle(k,a,N);for(k=i;k<i+o;k++){let U=e[k],Q=P,me=P+this._computeAngle(k,a,N),ne=d.getDataVisibility(k)?b.getDistanceFromCenterForValue(this.getParsed(k).r):0;P=me,l&&(f.animateScale&&(ne=0),f.animateRotate&&(Q=me=M));let se={x:y,y:w,innerRadius:0,outerRadius:ne,startAngle:Q,endAngle:me,options:this.resolveDataElementOptions(k,U.active?"active":a)};this.updateElement(U,k,se,a)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(e,i,o){return this.chart.getDataVisibility(e)?Oo(this.resolveDataElementOptions(e,i).angle||o):0}}return t.id="polarArea",t.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let e=n.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:i}}=n.legend.options;return e.labels.map((o,a)=>{let d=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},t})(),Cq=(()=>{class t extends Nb{}return t.id="pie",t.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},t})(),bq=(()=>{class t extends ln{getLabelAndValue(e){let i=this._cachedMeta.vScale,o=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(e,i,o,a){return ou.bind(this)(e,i,o,a)}update(e){let i=this._cachedMeta,o=i.dataset,a=i.data||[],l=i.iScale.getLabels();if(o.points=a,e!=="resize"){let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0);let u={_loop:!0,_fullLoop:l.length===a.length,options:d};this.updateElement(o,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,i,o,a){let l=this._cachedMeta.rScale,d=a==="reset";for(let u=i;u<i+o;u++){let f=e[u],b=this.resolveDataElementOptions(u,f.active?"active":a),y=l.getPointPositionForValue(u,this.getParsed(u).r),w=d?l.xCenter:y.x,M=d?l.yCenter:y.y,P={x:w,y:M,angle:y.angle,skip:isNaN(w)||isNaN(M),options:b};this.updateElement(f,u,P,a)}}}return t.id="radar",t.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},t.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},t})(),xo=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){let{x:e,y:i}=this.getProps(["x","y"],n);return{x:e,y:i}}hasValue(){return ya(this.x)&&ya(this.y)}getProps(n,e){let i=this.$animations;if(!e||!i)return this;let o={};return n.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}};xo.defaults={};xo.defaultRoutes=void 0;var Bb={values(t){return ei(t)?t:""+t},numeric(t,n,e){if(t===0)return"0";let i=this.chart.options.locale,o,a=t;if(e.length>1){let f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=vq(t,e)}let l=yo(Math.abs(a)),d=Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),Or(t,i,u)},logarithmic(t,n,e){if(t===0)return"0";let i=t/Math.pow(10,Math.floor(yo(t)));return i===1||i===2||i===5?Bb.numeric.call(this,t,n,e):""}};function vq(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var Rm={formatters:Bb};Pt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Pt.route("scale.ticks","color","","color");Pt.route("scale.grid","color","","borderColor");Pt.route("scale.grid","borderColor","","borderColor");Pt.route("scale.title","color","","color");Pt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});Pt.describe("scales",{_fallback:"scale"});Pt.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function Sq(t,n){let e=t.options.ticks,i=e.maxTicksLimit||yq(t),o=e.major.enabled?wq(n):[],a=o.length,l=o[0],d=o[a-1],u=[];if(a>i)return Eq(n,u,o,a/i),u;let f=xq(o,n,i);if(a>0){let b,y,w=a>1?Math.round((d-l)/(a-1)):null;for(bm(n,u,f,jt(w)?0:l-w,l),b=0,y=a-1;b<y;b++)bm(n,u,f,o[b],o[b+1]);return bm(n,u,f,d,jt(w)?n.length:d+w),u}return bm(n,u,f),u}function yq(t){let n=t.options.offset,e=t._tickSize(),i=t._length/e+(n?0:1),o=t._maxLength/e;return Math.floor(Math.min(i,o))}function xq(t,n,e){let i=Mq(t),o=n.length/e;if(!i)return Math.max(o,1);let a=fC(i);for(let l=0,d=a.length-1;l<d;l++){let u=a[l];if(u>o)return u}return Math.max(o,1)}function wq(t){let n=[],e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}function Eq(t,n,e,i){let o=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===a&&(n.push(t[l]),o++,a=e[o*i])}function bm(t,n,e,i,o){let a=xt(i,0),l=Math.min(xt(o,t.length),t.length),d=0,u,f,b;for(e=Math.ceil(e),o&&(u=o-i,e=u/Math.floor(u/e)),b=a;b<0;)d++,b=Math.round(a+d*e);for(f=Math.max(a,0);f<l;f++)f===b&&(n.push(t[f]),d++,b=Math.round(a+d*e))}function Mq(t){let n=t.length,e,i;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}var Iq=t=>t==="left"?"right":t==="right"?"left":t,JC=(t,n,e)=>n==="top"||n==="left"?t[n]+e:t[n]-e;function eb(t,n){let e=[],i=t.length/n,o=t.length,a=0;for(;a<o;a+=i)e.push(t[Math.floor(a)]);return e}function Tq(t,n,e){let i=t.ticks.length,o=Math.min(n,i-1),a=t._startPixel,l=t._endPixel,d=1e-6,u=t.getPixelForTick(o),f;if(!(e&&(i===1?f=Math.max(u-a,l-u):n===0?f=(t.getPixelForTick(1)-u)/2:f=(u-t.getPixelForTick(o-1))/2,u+=o<n?f:-f,u<a-d||u>l+d)))return u}function Pq(t,n){Yt(t,e=>{let i=e.gc,o=i.length/2,a;if(o>n){for(a=0;a<o;++a)delete e.data[i[a]];i.splice(0,o)}})}function $s(t){return t.drawTicks?t.tickLength:0}function tb(t,n){if(!t.display)return 0;let e=Ai(t.font,n),i=Hi(t.padding);return(ei(t.text)?t.text.length:1)*e.lineHeight+i.height}function Dq(t,n){return gn(t,{scale:n,type:"scale"})}function Fq(t,n,e){return gn(t,{tick:e,index:n,type:"tick"})}function Rq(t,n,e){let i=pm(t);return(e&&n!=="right"||!e&&n==="right")&&(i=Iq(i)),i}function kq(t,n,e,i){let{top:o,left:a,bottom:l,right:d,chart:u}=t,{chartArea:f,scales:b}=u,y=0,w,M,P,k=l-o,N=d-a;if(t.isHorizontal()){if(M=zi(i,a,d),Ft(e)){let U=Object.keys(e)[0],Q=e[U];P=b[U].getPixelForValue(Q)+k-n}else e==="center"?P=(f.bottom+f.top)/2+k-n:P=JC(t,e,n);w=d-a}else{if(Ft(e)){let U=Object.keys(e)[0],Q=e[U];M=b[U].getPixelForValue(Q)-N+n}else e==="center"?M=(f.left+f.right)/2-N+n:M=JC(t,e,n);P=zi(i,l,o),y=e==="left"?-xi:xi}return{titleX:M,titleY:P,maxWidth:w,rotation:y}}var Ea=class t extends xo{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return n=So(n,Number.POSITIVE_INFINITY),e=So(e,Number.NEGATIVE_INFINITY),i=So(i,Number.POSITIVE_INFINITY),o=So(o,Number.NEGATIVE_INFINITY),{min:So(n,i),max:So(e,o),minDefined:Mi(n),maxDefined:Mi(e)}}getMinMax(n){let{min:e,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:e,max:i};let d=this.getMatchingVisibleMetas();for(let u=0,f=d.length;u<f;++u)l=d[u].controller.getMinMax(this,n),o||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=o&&e>i?e:i,{min:So(e,So(i,e)),max:So(i,So(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ti(this.options.beforeUpdate,[this])}update(n,e,i){let{beginAtZero:o,grace:a,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FC(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let u=d<this.ticks.length;this._convertTicksToLabels(u?eb(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Sq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,n=!n),this._startPixel=e,this._endPixel=i,this._reversePixels=n,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ti(this.options.afterUpdate,[this])}beforeSetDimensions(){ti(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ti(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ti(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ti(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i],a.label=ti(e.callback,[a.value,i,n],this)}afterTickToLabelConversion(){ti(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ti(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,i=this.ticks.length,o=e.minRotation||0,a=e.maxRotation,l=o,d,u,f;if(!this._isVisible()||!e.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let b=this._getLabelSizes(),y=b.widest.width,w=b.highest.height,M=Vi(this.chart.width-y,0,this.maxWidth);d=n.offset?this.maxWidth/i:M/(i-1),y+6>d&&(d=M/(i-(n.offset?.5:1)),u=this.maxHeight-$s(n.grid)-e.padding-tb(n.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),l=mm(Math.min(Math.asin(Vi((b.highest.height+6)/d,-1,1)),Math.asin(Vi(u/f,-1,1))-Math.asin(Vi(w/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ti(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ti(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:a}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){let u=tb(o,e.options.font);if(d?(n.width=this.maxWidth,n.height=$s(a)+u):(n.height=this.maxHeight,n.width=$s(a)+u),i.display&&this.ticks.length){let{first:f,last:b,widest:y,highest:w}=this._getLabelSizes(),M=i.padding*2,P=Oo(this.labelRotation),k=Math.cos(P),N=Math.sin(P);if(d){let U=i.mirror?0:N*y.width+k*w.height;n.height=Math.min(this.maxHeight,n.height+U+M)}else{let U=i.mirror?0:k*y.width+N*w.height;n.width=Math.min(this.maxWidth,n.width+U+M)}this._calculatePadding(f,b,N,k)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,i,o){let{ticks:{align:a,padding:l},position:d}=this.options,u=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){let b=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1),w=0,M=0;u?f?(w=o*n.width,M=i*e.height):(w=i*n.height,M=o*e.width):a==="start"?M=e.width:a==="end"?w=n.width:a!=="inner"&&(w=n.width/2,M=e.width/2),this.paddingLeft=Math.max((w-b+l)*this.width/(this.width-b),0),this.paddingRight=Math.max((M-y+l)*this.width/(this.width-y),0)}else{let b=e.height/2,y=n.height/2;a==="start"?(b=0,y=n.height):a==="end"&&(b=e.height,y=0),this.paddingTop=b+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ti(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,i;for(e=0,i=n.length;e<i;e++)jt(n[e].label)&&(n.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=eb(i,e)),this._labelSizes=n=this._computeLabelSizes(i,i.length)}return n}_computeLabelSizes(n,e){let{ctx:i,_longestTextCache:o}=this,a=[],l=[],d=0,u=0,f,b,y,w,M,P,k,N,U,Q,me;for(f=0;f<e;++f){if(w=n[f].label,M=this._resolveTickFontOptions(f),i.font=P=M.string,k=o[P]=o[P]||{data:{},gc:[]},N=M.lineHeight,U=Q=0,!jt(w)&&!ei(w))U=js(i,k.data,k.gc,U,w),Q=N;else if(ei(w))for(b=0,y=w.length;b<y;++b)me=w[b],!jt(me)&&!ei(me)&&(U=js(i,k.data,k.gc,U,me),Q+=N);a.push(U),l.push(Q),d=Math.max(U,d),u=Math.max(Q,u)}Pq(o,e);let ne=a.indexOf(d),se=l.indexOf(u),xe=ye=>({width:a[ye]||0,height:l[ye]||0});return{first:xe(0),last:xe(e-1),widest:xe(ne),highest:xe(se),widths:a,heights:l}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return gC(this._alignToPixels?Hn(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let i=e[n];return i.$context||(i.$context=Fq(this.getContext(),n,i))}return this.$context||(this.$context=Dq(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=Oo(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=n.autoSkipPadding||0,d=a?a.widest.width+l:0,u=a?a.highest.height+l:0;return this.isHorizontal()?u*i>d*o?d/i:u/o:u*o<d*i?u/i:d/o}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,i=this.chart,o=this.options,{grid:a,position:l}=o,d=a.offset,u=this.isHorizontal(),b=this.ticks.length+(d?1:0),y=$s(a),w=[],M=a.setContext(this.getContext()),P=M.drawBorder?M.borderWidth:0,k=P/2,N=function(Ct){return Hn(i,Ct,P)},U,Q,me,ne,se,xe,ye,Le,Ge,wt,Rt,bt;if(l==="top")U=N(this.bottom),xe=this.bottom-y,Le=U-k,wt=N(n.top)+k,bt=n.bottom;else if(l==="bottom")U=N(this.top),wt=n.top,bt=N(n.bottom)-k,xe=U+k,Le=this.top+y;else if(l==="left")U=N(this.right),se=this.right-y,ye=U-k,Ge=N(n.left)+k,Rt=n.right;else if(l==="right")U=N(this.left),Ge=n.left,Rt=N(n.right)-k,se=U+k,ye=this.left+y;else if(e==="x"){if(l==="center")U=N((n.top+n.bottom)/2+.5);else if(Ft(l)){let Ct=Object.keys(l)[0],Ie=l[Ct];U=N(this.chart.scales[Ct].getPixelForValue(Ie))}wt=n.top,bt=n.bottom,xe=U+k,Le=xe+y}else if(e==="y"){if(l==="center")U=N((n.left+n.right)/2);else if(Ft(l)){let Ct=Object.keys(l)[0],Ie=l[Ct];U=N(this.chart.scales[Ct].getPixelForValue(Ie))}se=U-k,ye=se-y,Ge=n.left,Rt=n.right}let fi=xt(o.ticks.maxTicksLimit,b),Ni=Math.max(1,Math.ceil(b/fi));for(Q=0;Q<b;Q+=Ni){let Ct=a.setContext(this.getContext(Q)),Ie=Ct.lineWidth,je=Ct.color,tt=Ct.borderDash||[],Dt=Ct.borderDashOffset,di=Ct.tickWidth,Ji=Ct.tickColor,Ti=Ct.tickBorderDash||[],oo=Ct.tickBorderDashOffset;me=Tq(this,Q,d),me!==void 0&&(ne=Hn(i,me,Ie),u?se=ye=Ge=Rt=ne:xe=Le=wt=bt=ne,w.push({tx1:se,ty1:xe,tx2:ye,ty2:Le,x1:Ge,y1:wt,x2:Rt,y2:bt,width:Ie,color:je,borderDash:tt,borderDashOffset:Dt,tickWidth:di,tickColor:Ji,tickBorderDash:Ti,tickBorderDashOffset:oo}))}return this._ticksLength=b,this._borderValue=U,w}_computeLabelItems(n){let e=this.axis,i=this.options,{position:o,ticks:a}=i,l=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:f,padding:b,mirror:y}=a,w=$s(i.grid),M=w+b,P=y?-b:M,k=-Oo(this.labelRotation),N=[],U,Q,me,ne,se,xe,ye,Le,Ge,wt,Rt,bt,fi="middle";if(o==="top")xe=this.bottom-P,ye=this._getXAxisLabelAlignment();else if(o==="bottom")xe=this.top+P,ye=this._getXAxisLabelAlignment();else if(o==="left"){let Ct=this._getYAxisLabelAlignment(w);ye=Ct.textAlign,se=Ct.x}else if(o==="right"){let Ct=this._getYAxisLabelAlignment(w);ye=Ct.textAlign,se=Ct.x}else if(e==="x"){if(o==="center")xe=(n.top+n.bottom)/2+M;else if(Ft(o)){let Ct=Object.keys(o)[0],Ie=o[Ct];xe=this.chart.scales[Ct].getPixelForValue(Ie)+M}ye=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")se=(n.left+n.right)/2-M;else if(Ft(o)){let Ct=Object.keys(o)[0],Ie=o[Ct];se=this.chart.scales[Ct].getPixelForValue(Ie)}ye=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(u==="start"?fi="top":u==="end"&&(fi="bottom"));let Ni=this._getLabelSizes();for(U=0,Q=d.length;U<Q;++U){me=d[U],ne=me.label;let Ct=a.setContext(this.getContext(U));Le=this.getPixelForTick(U)+a.labelOffset,Ge=this._resolveTickFontOptions(U),wt=Ge.lineHeight,Rt=ei(ne)?ne.length:1;let Ie=Rt/2,je=Ct.color,tt=Ct.textStrokeColor,Dt=Ct.textStrokeWidth,di=ye;l?(se=Le,ye==="inner"&&(U===Q-1?di=this.options.reverse?"left":"right":U===0?di=this.options.reverse?"right":"left":di="center"),o==="top"?f==="near"||k!==0?bt=-Rt*wt+wt/2:f==="center"?bt=-Ni.highest.height/2-Ie*wt+wt:bt=-Ni.highest.height+wt/2:f==="near"||k!==0?bt=wt/2:f==="center"?bt=Ni.highest.height/2-Ie*wt:bt=Ni.highest.height-Rt*wt,y&&(bt*=-1)):(xe=Le,bt=(1-Rt)*wt/2);let Ji;if(Ct.showLabelBackdrop){let Ti=Hi(Ct.backdropPadding),oo=Ni.heights[U],Jt=Ni.widths[U],Ta=xe+bt-Ti.top,es=se-Ti.left;switch(fi){case"middle":Ta-=oo/2;break;case"bottom":Ta-=oo;break}switch(ye){case"center":es-=Jt/2;break;case"right":es-=Jt;break}Ji={left:es,top:Ta,width:Jt+Ti.width,height:oo+Ti.height,color:Ct.backdropColor}}N.push({rotation:k,label:ne,font:Ge,color:je,strokeColor:tt,strokeWidth:Dt,textOffset:bt,textAlign:di,textBaseline:fi,translation:[se,xe],backdrop:Ji})}return N}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-Oo(this.labelRotation))return n==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),d=n+a,u=l.widest.width,f,b;return e==="left"?o?(b=this.right+a,i==="near"?f="left":i==="center"?(f="center",b+=u/2):(f="right",b+=u)):(b=this.right-d,i==="near"?f="right":i==="center"?(f="center",b-=u/2):(f="left",b=this.left)):e==="right"?o?(b=this.left+a,i==="near"?f="right":i==="center"?(f="center",b-=u/2):(f="left",b-=u)):(b=this.left+d,i==="near"?f="left":i==="center"?(f="center",b+=u/2):(f="right",b=this.right)):f="right",{textAlign:f,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:i,top:o,width:a,height:l}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(i,o,a,l),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(a=>a.value===n);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){let e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),a,l,d=(u,f,b)=>{!b.width||!b.color||(i.save(),i.lineWidth=b.width,i.strokeStyle=b.color,i.setLineDash(b.borderDash||[]),i.lineDashOffset=b.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=o.length;a<l;++a){let u=o[a];e.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{grid:i}}=this,o=i.setContext(this.getContext()),a=i.drawBorder?o.borderWidth:0;if(!a)return;let l=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue,u,f,b,y;this.isHorizontal()?(u=Hn(n,this.left,a)-a/2,f=Hn(n,this.right,l)+l/2,b=y=d):(b=Hn(n,this.top,a)-a/2,y=Hn(n,this.bottom,l)+l/2,u=f=d),e.save(),e.lineWidth=o.borderWidth,e.strokeStyle=o.borderColor,e.beginPath(),e.moveTo(u,b),e.lineTo(f,y),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&qs(i,o);let a=this._labelItems||(this._labelItems=this._computeLabelItems(n)),l,d;for(l=0,d=a.length;l<d;++l){let u=a[l],f=u.font,b=u.label;u.backdrop&&(i.fillStyle=u.backdrop.color,i.fillRect(u.backdrop.left,u.backdrop.top,u.backdrop.width,u.backdrop.height));let y=u.textOffset;qn(i,b,0,y,f,u)}o&&Gs(i)}drawTitle(){let{ctx:n,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;let a=Ai(i.font),l=Hi(i.padding),d=i.align,u=a.lineHeight/2;e==="bottom"||e==="center"||Ft(e)?(u+=l.bottom,ei(i.text)&&(u+=a.lineHeight*(i.text.length-1))):u+=l.top;let{titleX:f,titleY:b,maxWidth:y,rotation:w}=kq(this,u,e,d);qn(n,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:w,textAlign:Rq(d,e,o),textBaseline:"middle",translation:[f,b]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,i=xt(n.grid&&n.grid.z,-1);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],a,l;for(a=0,l=e.length;a<l;++a){let d=e[a];d[i]===this.id&&(!n||d.type===n)&&o.push(d)}return o}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return Ai(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Nr=class{constructor(n,e,i){this.type=n,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),i;Vq(e)&&(i=this.register(e));let o=this.items,a=n.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+n);return a in o||(o[a]=n,Aq(n,l,i),this.override&&Pt.override(n.id,n.overrides)),l}get(n){return this.items[n]}unregister(n){let e=this.items,i=n.id,o=this.scope;i in e&&delete e[i],o&&i in Pt[o]&&(delete Pt[o][i],this.override&&delete zn[i])}};function Aq(t,n,e){let i=Ir(Object.create(null),[e?Pt.get(e):{},Pt.get(n),t.defaults]);Pt.set(n,i),t.defaultRoutes&&Oq(n,t.defaultRoutes),t.descriptors&&Pt.describe(n,t.descriptors)}function Oq(t,n){Object.keys(n).forEach(e=>{let i=e.split("."),o=i.pop(),a=[t].concat(i).join("."),l=n[e].split("."),d=l.pop(),u=l.join(".");Pt.route(a,o,u,d)})}function Vq(t){return"id"in t&&"defaults"in t}var yu=class{constructor(){this.controllers=new Nr(ln,"datasets",!0),this.elements=new Nr(xo,"elements"),this.plugins=new Nr(Object,"plugins"),this.scales=new Nr(Ea,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,i){[...e].forEach(o=>{let a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(n,a,o):Yt(o,l=>{let d=i||this._getRegistryForType(l);this._exec(n,d,l)})})}_exec(n,e,i){let o=cm(n);ti(i["before"+o],[],i),e[n](i),ti(i["after"+o],[],i)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(n))return i}return this.plugins}_get(n,e,i){let o=e.get(n);if(o===void 0)throw new Error('"'+n+'" is not a registered '+i+".");return o}},sn=new yu,Nq=(()=>{class t extends ln{update(e){let i=this._cachedMeta,{data:o=[]}=i,a=this.chart._animationsDisabled,{start:l,count:d}=Up(i,o,a);if(this._drawStart=l,this._drawCount=d,$p(i)&&(l=0,d=o.length),this.options.showLine){let{dataset:u,_dataset:f}=i;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=o;let b=this.resolveDatasetElementOptions(e);b.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:b},e)}this.updateElements(o,l,d,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=sn.getElement("line")),super.addElements()}updateElements(e,i,o,a){let l=a==="reset",{iScale:d,vScale:u,_stacked:f,_dataset:b}=this._cachedMeta,y=this.resolveDataElementOptions(i,a),w=this.getSharedOptions(y),M=this.includeOptions(a,w),P=d.axis,k=u.axis,{spanGaps:N,segment:U}=this.options,Q=ya(N)?N:Number.POSITIVE_INFINITY,me=this.chart._animationsDisabled||l||a==="none",ne=i>0&&this.getParsed(i-1);for(let se=i;se<i+o;++se){let xe=e[se],ye=this.getParsed(se),Le=me?xe:{},Ge=jt(ye[k]),wt=Le[P]=d.getPixelForValue(ye[P],se),Rt=Le[k]=l||Ge?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,ye,f):ye[k],se);Le.skip=isNaN(wt)||isNaN(Rt)||Ge,Le.stop=se>0&&Math.abs(ye[P]-ne[P])>Q,U&&(Le.parsed=ye,Le.raw=b.data[se]),M&&(Le.options=w||this.resolveDataElementOptions(se,xe.active?"active":a)),me||this.updateElement(xe,se,Le,a),ne=ye}this.updateSharedOptions(w,a,y)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let u=0;for(let f=i.length-1;f>=0;--f)u=Math.max(u,i[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}let o=e.dataset,a=o.options&&o.options.borderWidth||0;if(!i.length)return a;let l=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,l,d)/2}}return t.id="scatter",t.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},t.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}},t})(),Bq=Object.freeze({__proto__:null,BarController:uq,BubbleController:fq,DoughnutController:Nb,LineController:gq,PolarAreaController:_q,PieController:Cq,RadarController:bq,ScatterController:Nq});function wa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Lq=(()=>{class t{constructor(e){this.options=e||{}}init(e){}formats(){return wa()}parse(e,i){return wa()}format(e,i){return wa()}add(e,i,o){return wa()}diff(e,i,o){return wa()}startOf(e,i,o){return wa()}endOf(e,i){return wa()}}return t.override=function(n){Object.assign(t.prototype,n)},t})(),jq={_date:Lq};function zq(t,n,e,i){let{controller:o,data:a,_sorted:l}=t,d=o._cachedMeta.iScale;if(d&&n===d.axis&&n!=="r"&&l&&a.length){let u=d._reversePixels?_C:on;if(i){if(o._sharedOptions){let f=a[0],b=typeof f.getRange=="function"&&f.getRange(n);if(b){let y=u(a,n,e-b),w=u(a,n,e+b);return{lo:y.lo,hi:w.hi}}}}else return u(a,n,e)}return{lo:0,hi:a.length-1}}function ol(t,n,e,i,o){let a=t.getSortedVisibleDatasetMetas(),l=e[n];for(let d=0,u=a.length;d<u;++d){let{index:f,data:b}=a[d],{lo:y,hi:w}=zq(a[d],n,l,o);for(let M=y;M<=w;++M){let P=b[M];P.skip||i(P,f,M)}}}function Hq(t){let n=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(i,o){let a=n?Math.abs(i.x-o.x):0,l=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function fu(t,n,e,i,o){let a=[];return!o&&!t.isPointInArea(n)||ol(t,e,n,function(d,u,f){!o&&!Tr(d,t.chartArea,0)||d.inRange(n.x,n.y,i)&&a.push({element:d,datasetIndex:u,index:f})},!0),a}function qq(t,n,e,i){let o=[];function a(l,d,u){let{startAngle:f,endAngle:b}=l.getProps(["startAngle","endAngle"],i),{angle:y}=jp(l,{x:n.x,y:n.y});Rr(y,f,b)&&o.push({element:l,datasetIndex:d,index:u})}return ol(t,e,n,a),o}function Gq(t,n,e,i,o,a){let l=[],d=Hq(e),u=Number.POSITIVE_INFINITY;function f(b,y,w){let M=b.inRange(n.x,n.y,o);if(i&&!M)return;let P=b.getCenterPoint(o);if(!(!!a||t.isPointInArea(P))&&!M)return;let N=d(n,P);N<u?(l=[{element:b,datasetIndex:y,index:w}],u=N):N===u&&l.push({element:b,datasetIndex:y,index:w})}return ol(t,e,n,f),l}function hu(t,n,e,i,o,a){return!a&&!t.isPointInArea(n)?[]:e==="r"&&!i?qq(t,n,e,o):Gq(t,n,e,i,o,a)}function ib(t,n,e,i,o){let a=[],l=e==="x"?"inXRange":"inYRange",d=!1;return ol(t,e,n,(u,f,b)=>{u[l](n[e],o)&&(a.push({element:u,datasetIndex:f,index:b}),d=d||u.inRange(n.x,n.y,o))}),i&&!d?[]:a}var Uq={evaluateInteractionItems:ol,modes:{index(t,n,e,i){let o=Un(n,t),a=e.axis||"x",l=e.includeInvisible||!1,d=e.intersect?fu(t,o,a,i,l):hu(t,o,a,!1,i,l),u=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{let b=d[0].index,y=f.data[b];y&&!y.skip&&u.push({element:y,datasetIndex:f.index,index:b})}),u):[]},dataset(t,n,e,i){let o=Un(n,t),a=e.axis||"xy",l=e.includeInvisible||!1,d=e.intersect?fu(t,o,a,i,l):hu(t,o,a,!1,i,l);if(d.length>0){let u=d[0].datasetIndex,f=t.getDatasetMeta(u).data;d=[];for(let b=0;b<f.length;++b)d.push({element:f[b],datasetIndex:u,index:b})}return d},point(t,n,e,i){let o=Un(n,t),a=e.axis||"xy",l=e.includeInvisible||!1;return fu(t,o,a,i,l)},nearest(t,n,e,i){let o=Un(n,t),a=e.axis||"xy",l=e.includeInvisible||!1;return hu(t,o,a,e.intersect,i,l)},x(t,n,e,i){let o=Un(n,t);return ib(t,o,"x",e.intersect,i)},y(t,n,e,i){let o=Un(n,t);return ib(t,o,"y",e.intersect,i)}}},Lb=["left","top","right","bottom"];function Qs(t,n){return t.filter(e=>e.pos===n)}function ob(t,n){return t.filter(e=>Lb.indexOf(e.pos)===-1&&e.box.axis===n)}function Ws(t,n){return t.sort((e,i)=>{let o=n?i:e,a=n?e:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function $q(t){let n=[],e,i,o,a,l,d;for(e=0,i=(t||[]).length;e<i;++e)o=t[e],{position:a,options:{stack:l,stackWeight:d=1}}=o,n.push({index:e,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:d});return n}function Qq(t){let n={};for(let e of t){let{stack:i,pos:o,stackWeight:a}=e;if(!i||!Lb.includes(o))continue;let l=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return n}function Wq(t,n){let e=Qq(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=n,a,l,d;for(a=0,l=t.length;a<l;++a){d=t[a];let{fullSize:u}=d.box,f=e[d.stack],b=f&&d.stackWeight/f.weight;d.horizontal?(d.width=b?b*i:u&&n.availableWidth,d.height=o):(d.width=i,d.height=b?b*o:u&&n.availableHeight)}return e}function Kq(t){let n=$q(t),e=Ws(n.filter(f=>f.box.fullSize),!0),i=Ws(Qs(n,"left"),!0),o=Ws(Qs(n,"right")),a=Ws(Qs(n,"top"),!0),l=Ws(Qs(n,"bottom")),d=ob(n,"x"),u=ob(n,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:o.concat(u).concat(l).concat(d),chartArea:Qs(n,"chartArea"),vertical:i.concat(o).concat(u),horizontal:a.concat(l).concat(d)}}function nb(t,n,e,i){return Math.max(t[e],n[e])+Math.max(t[i],n[i])}function jb(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function Yq(t,n,e,i){let{pos:o,box:a}=e,l=t.maxPadding;if(!Ft(o)){e.size&&(t[o]-=e.size);let y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?a.height:a.width),e.size=y.size/y.count,t[o]+=e.size}a.getPadding&&jb(l,a.getPadding());let d=Math.max(0,n.outerWidth-nb(l,t,"left","right")),u=Math.max(0,n.outerHeight-nb(l,t,"top","bottom")),f=d!==t.w,b=u!==t.h;return t.w=d,t.h=u,e.horizontal?{same:f,other:b}:{same:b,other:f}}function Xq(t){let n=t.maxPadding;function e(i){let o=Math.max(n[i]-t[i],0);return t[i]+=o,o}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function Zq(t,n){let e=n.maxPadding;function i(o){let a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(n[l],e[l])}),a}return i(t?["left","right"]:["top","bottom"])}function Ys(t,n,e,i){let o=[],a,l,d,u,f,b;for(a=0,l=t.length,f=0;a<l;++a){d=t[a],u=d.box,u.update(d.width||n.w,d.height||n.h,Zq(d.horizontal,n));let{same:y,other:w}=Yq(n,e,d,i);f|=y&&o.length,b=b||w,u.fullSize||o.push(d)}return f&&Ys(o,n,e,i)||b}function vm(t,n,e,i,o){t.top=e,t.left=n,t.right=n+i,t.bottom=e+o,t.width=i,t.height=o}function ab(t,n,e,i){let o=e.padding,{x:a,y:l}=n;for(let d of t){let u=d.box,f=i[d.stack]||{count:1,placed:0,weight:1},b=d.stackWeight/f.weight||1;if(d.horizontal){let y=n.w*b,w=f.size||u.height;vo(f.start)&&(l=f.start),u.fullSize?vm(u,o.left,l,e.outerWidth-o.right-o.left,w):vm(u,n.left+f.placed,l,y,w),f.start=l,f.placed+=y,l=u.bottom}else{let y=n.h*b,w=f.size||u.width;vo(f.start)&&(a=f.start),u.fullSize?vm(u,a,o.top,w,e.outerHeight-o.bottom-o.top):vm(u,a,n.top+f.placed,w,y),f.start=a,f.placed+=y,a=u.right}}n.x=a,n.y=l}Pt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Zi={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){let e=t.boxes?t.boxes.indexOf(n):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,i){if(!t)return;let o=Hi(t.options.layout.padding),a=Math.max(n-o.width,0),l=Math.max(e-o.height,0),d=Kq(t.boxes),u=d.vertical,f=d.horizontal;Yt(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});let b=u.reduce((k,N)=>N.box.options&&N.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:n,outerHeight:e,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/b,hBoxMaxHeight:l/2}),w=Object.assign({},o);jb(w,Hi(i));let M=Object.assign({maxPadding:w,w:a,h:l,x:o.left,y:o.top},o),P=Wq(u.concat(f),y);Ys(d.fullSize,M,y,P),Ys(u,M,y,P),Ys(f,M,y,P)&&Ys(u,M,y,P),Xq(M),ab(d.leftAndTop,M,y,P),M.x+=M.w,M.y+=M.h,ab(d.rightAndBottom,M,y,P),t.chartArea={left:M.left,top:M.top,right:M.left+M.w,bottom:M.top+M.h,height:M.h,width:M.w},Yt(d.chartArea,k=>{let N=k.box;Object.assign(N,t.chartArea),N.update(M.w,M.h,{left:0,top:0,right:0,bottom:0})})}},Im=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,i){}removeEventListener(n,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,i,o){return e=Math.max(0,e||n.width),i=i||n.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(n){return!0}updateConfig(n){}},xu=class extends Im{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},Em="$chartjs",Jq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rb=t=>t===null||t==="";function eG(t,n){let e=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[Em]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",rb(o)){let a=ru(t,"width");a!==void 0&&(t.width=a)}if(rb(i))if(t.style.height==="")t.height=t.width/(n||2);else{let a=ru(t,"height");a!==void 0&&(t.height=a)}return t}var zb=BC?{passive:!0}:!1;function tG(t,n,e){t.addEventListener(n,e,zb)}function iG(t,n,e){t.canvas.removeEventListener(n,e,zb)}function oG(t,n){let e=Jq[t.type]||t.type,{x:i,y:o}=Un(t,n);return{type:e,chart:n,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Tm(t,n){for(let e of t)if(e===n||e.contains(n))return!0}function nG(t,n,e){let i=t.canvas,o=new MutationObserver(a=>{let l=!1;for(let d of a)l=l||Tm(d.addedNodes,i),l=l&&!Tm(d.removedNodes,i);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function aG(t,n,e){let i=t.canvas,o=new MutationObserver(a=>{let l=!1;for(let d of a)l=l||Tm(d.removedNodes,i),l=l&&!Tm(d.addedNodes,i);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var Zs=new Map,sb=0;function Hb(){let t=window.devicePixelRatio;t!==sb&&(sb=t,Zs.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function rG(t,n){Zs.size||window.addEventListener("resize",Hb),Zs.set(t,n)}function sG(t){Zs.delete(t),Zs.size||window.removeEventListener("resize",Hb)}function lG(t,n,e){let i=t.canvas,o=i&&_m(i);if(!o)return;let a=Gp((d,u)=>{let f=o.clientWidth;e(d,u),f<o.clientWidth&&e()},window),l=new ResizeObserver(d=>{let u=d[0],f=u.contentRect.width,b=u.contentRect.height;f===0&&b===0||a(f,b)});return l.observe(o),rG(t,a),l}function gu(t,n,e){e&&e.disconnect(),n==="resize"&&sG(t)}function cG(t,n,e){let i=t.canvas,o=Gp(a=>{t.ctx!==null&&e(oG(a,t))},t,a=>{let l=a[0];return[l,l.offsetX,l.offsetY]});return tG(i,n,o),o}var wu=class extends Im{acquireContext(n,e){let i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(eG(n,e),i):null}releaseContext(n){let e=n.canvas;if(!e[Em])return!1;let i=e[Em].initial;["height","width"].forEach(a=>{let l=i[a];jt(l)?e.removeAttribute(a):e.setAttribute(a,l)});let o=i.style||{};return Object.keys(o).forEach(a=>{e.style[a]=o[a]}),e.width=e.width,delete e[Em],!0}addEventListener(n,e,i){this.removeEventListener(n,e);let o=n.$proxies||(n.$proxies={}),l={attach:nG,detach:aG,resize:lG}[e]||cG;o[e]=l(n,e,i)}removeEventListener(n,e){let i=n.$proxies||(n.$proxies={}),o=i[e];if(!o)return;({attach:gu,detach:gu,resize:gu}[e]||iG)(n,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,i,o){return NC(n,e,i,o)}isAttached(n){let e=_m(n);return!!(e&&e.isConnected)}};function mG(t){return!nu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xu:wu}var Eu=class{constructor(){this._init=[]}notify(n,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let a=o?this._descriptors(n).filter(o):this._descriptors(n),l=this._notify(a,n,e,i);return e==="afterDestroy"&&(this._notify(a,n,"stop"),this._notify(this._init,n,"uninstall")),l}_notify(n,e,i,o){o=o||{};for(let a of n){let l=a.plugin,d=l[i],u=[e,o,a.options];if(ti(d,u,l)===!1&&o.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let i=n&&n.config,o=xt(i.options&&i.options.plugins,{}),a=dG(i);return o===!1&&!e?[]:uG(n,a,o,e)}_notifyStateChanges(n){let e=this._oldCache||[],i=this._cache,o=(a,l)=>a.filter(d=>!l.some(u=>d.plugin.id===u.plugin.id));this._notify(o(e,i),n,"stop"),this._notify(o(i,e),n,"start")}};function dG(t){let n={},e=[],i=Object.keys(sn.plugins.items);for(let a=0;a<i.length;a++)e.push(sn.getPlugin(i[a]));let o=t.plugins||[];for(let a=0;a<o.length;a++){let l=o[a];e.indexOf(l)===-1&&(e.push(l),n[l.id]=!0)}return{plugins:e,localIds:n}}function pG(t,n){return!n&&t===!1?null:t===!0?{}:t}function uG(t,{plugins:n,localIds:e},i,o){let a=[],l=t.getContext();for(let d of n){let u=d.id,f=pG(i[u],o);f!==null&&a.push({plugin:d,options:fG(t.config,{plugin:d,local:e[u]},f,l)})}return a}function fG(t,{plugin:n,local:e},i,o){let a=t.pluginScopeKeys(n),l=t.getOptionScopes(i,a);return e&&n.defaults&&l.push(n.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mu(t,n){let e=Pt.datasets[t]||{};return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function hG(t,n){let e=t;return t==="_index_"?e=n:t==="_value_"&&(e=n==="x"?"y":"x"),e}function gG(t,n){return t===n?"_index_":"_value_"}function _G(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Iu(t,n){return t==="x"||t==="y"?t:n.axis||_G(n.position)||t.charAt(0).toLowerCase()}function CG(t,n){let e=zn[t.type]||{scales:{}},i=n.scales||{},o=Mu(t.type,n),a=Object.create(null),l=Object.create(null);return Object.keys(i).forEach(d=>{let u=i[d];if(!Ft(u))return console.error(`Invalid scale configuration for scale: ${d}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);let f=Iu(d,u),b=gG(f,o),y=e.scales||{};a[f]=a[f]||d,l[d]=Dr(Object.create(null),[{axis:f},u,y[f],y[b]])}),t.data.datasets.forEach(d=>{let u=d.type||t.type,f=d.indexAxis||Mu(u,n),y=(zn[u]||{}).scales||{};Object.keys(y).forEach(w=>{let M=hG(w,f),P=d[M+"AxisID"]||a[M]||M;l[P]=l[P]||Object.create(null),Dr(l[P],[{axis:M},i[P],y[w]])})}),Object.keys(l).forEach(d=>{let u=l[d];Dr(u,[Pt.scales[u.type],Pt.scale])}),l}function qb(t){let n=t.options||(t.options={});n.plugins=xt(n.plugins,{}),n.scales=CG(t,n)}function Gb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bG(t){return t=t||{},t.data=Gb(t.data),qb(t),t}var lb=new Map,Ub=new Set;function Sm(t,n){let e=lb.get(t);return e||(e=n(),lb.set(t,e),Ub.add(e)),e}var Ks=(t,n,e)=>{let i=hn(n,e);i!==void 0&&t.add(i)},Tu=class{constructor(n){this._config=bG(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Gb(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),qb(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Sm(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return Sm(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return Sm(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,i=this.type;return Sm(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let i=this._scopeCache,o=i.get(n);return(!o||e)&&(o=new Map,i.set(n,o)),o}getOptionScopes(n,e,i){let{options:o,type:a}=this,l=this._cachedScopes(n,i),d=l.get(e);if(d)return d;let u=new Set;e.forEach(b=>{n&&(u.add(n),b.forEach(y=>Ks(u,n,y))),b.forEach(y=>Ks(u,o,y)),b.forEach(y=>Ks(u,zn[a]||{},y)),b.forEach(y=>Ks(u,Pt,y)),b.forEach(y=>Ks(u,um,y))});let f=Array.from(u);return f.length===0&&f.push(Object.create(null)),Ub.has(e)&&l.set(e,f),f}chartOptionScopes(){let{options:n,type:e}=this;return[n,zn[e]||{},Pt.datasets[e]||{},{type:e},Pt,um]}resolveNamedOptions(n,e,i,o=[""]){let a={$shared:!0},{resolver:l,subPrefixes:d}=cb(this._resolverCache,n,o),u=l;if(SG(l,e)){a.$shared=!1,i=fn(i)?i():i;let f=this.createResolver(n,i,d);u=Sa(l,i,f)}for(let f of e)a[f]=u[f];return a}createResolver(n,e,i=[""],o){let{resolver:a}=cb(this._resolverCache,n,i);return Ft(e)?Sa(a,e,void 0,o):a}};function cb(t,n,e){let i=t.get(n);i||(i=new Map,t.set(n,i));let o=e.join(),a=i.get(o);return a||(a={resolver:gm(n,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(o,a)),a}var vG=t=>Ft(t)&&Object.getOwnPropertyNames(t).reduce((n,e)=>n||fn(t[e]),!1);function SG(t,n){let{isScriptable:e,isIndexable:i}=eu(t);for(let o of n){let a=e(o),l=i(o),d=(l||a)&&t[o];if(a&&(fn(d)||vG(d))||l&&ei(d))return!0}return!1}var yG="3.9.1",xG=["top","bottom","left","right","chartArea"];function mb(t,n){return t==="top"||t==="bottom"||xG.indexOf(t)===-1&&n==="x"}function db(t,n){return function(e,i){return e[t]===i[t]?e[n]-i[n]:e[t]-i[t]}}function pb(t){let n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),ti(e&&e.onComplete,[t],n)}function wG(t){let n=t.chart,e=n.options.animation;ti(e&&e.onProgress,[t],n)}function $b(t){return nu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Pm={},Qb=t=>{let n=$b(t);return Object.values(Pm).filter(e=>e.canvas===n).pop()};function EG(t,n,e){let i=Object.keys(t);for(let o of i){let a=+o;if(a>=n){let l=t[o];delete t[o],(e>0||a>n)&&(t[a+e]=l)}}}function MG(t,n,e,i){return!e||t.type==="mouseout"?null:i?n:t}var Ma=class{constructor(n,e){let i=this.config=new Tu(e),o=$b(n),a=Qb(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mG(o)),this.platform.updateConfig(i);let d=this.platform.acquireContext(o,l.aspectRatio),u=d&&d.canvas,f=u&&u.height,b=u&&u.width;if(this.id=mC(),this.ctx=d,this.canvas=u,this.width=b,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Eu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SC(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Pm[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}_n.listen(this,"complete",pb),_n.listen(this,"progress",wG),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:e},width:i,height:o,_aspectRatio:a}=this;return jt(n)?e&&a?a:o?i/o:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():au(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xp(this.canvas,this.ctx),this}stop(){return _n.stop(this),this}resize(n,e){_n.running(this)?this._resizeBeforeDraw={width:n,height:e}:this._resize(n,e)}_resize(n,e){let i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,n,e,a),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,au(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),ti(i.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};Yt(e,(i,o)=>{i.id=o})}buildOrUpdateScales(){let n=this.options,e=n.scales,i=this.scales,o=Object.keys(i).reduce((l,d)=>(l[d]=!1,l),{}),a=[];e&&(a=a.concat(Object.keys(e).map(l=>{let d=e[l],u=Iu(l,d),f=u==="r",b=u==="x";return{options:d,dposition:f?"chartArea":b?"bottom":"left",dtype:f?"radialLinear":b?"category":"linear"}}))),Yt(a,l=>{let d=l.options,u=d.id,f=Iu(u,d),b=xt(d.type,l.dtype);(d.position===void 0||mb(d.position,f)!==mb(l.dposition))&&(d.position=l.dposition),o[u]=!0;let y=null;if(u in i&&i[u].type===b)y=i[u];else{let w=sn.getScale(b);y=new w({id:u,type:b,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(d,n)}),Yt(o,(l,d)=>{l||delete i[d]}),Yt(i,l=>{Zi.configure(this,l,l.options),Zi.addBox(this,l)})}_updateMetasets(){let n=this._metasets,e=this.data.datasets.length,i=n.length;if(n.sort((o,a)=>o.index-a.index),i>e){for(let o=e;o<i;++o)this._destroyDatasetMeta(o);n.splice(e,i-e)}this._sortedMetasets=n.slice(0).sort(db("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:e}}=this;n.length>e.length&&delete this._stacks,n.forEach((i,o)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let n=[],e=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=e.length;i<o;i++){let a=e[i],l=this.getDatasetMeta(i),d=a.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=d,l.indexAxis=a.indexAxis||Mu(d,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{let u=sn.getController(d),{datasetElementType:f,dataElementType:b}=Pt.datasets[d];Object.assign(u.prototype,{dataElementType:sn.getElement(b),datasetElementType:f&&sn.getElement(f)}),l.controller=new u(this,i),n.push(l.controller)}}return this._updateMetasets(),n}_resetElements(){Yt(this.data.datasets,(n,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,b=this.data.datasets.length;f<b;f++){let{controller:y}=this.getDatasetMeta(f),w=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(w),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||Yt(a,f=>{f.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(db("z","_idx"));let{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Yt(this.scales,n=>{Zi.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!Vp(e,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,e=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:a}of e){let l=i==="_removeElements"?-a:a;EG(n,o,l)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=a=>new Set(n.filter(l=>l[0]===a).map((l,d)=>d+","+l.splice(1).join(","))),o=i(0);for(let a=1;a<e;a++)if(!Vp(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zi.update(this,this.width,this.height,n);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Yt(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,fn(n)?n({datasetIndex:e}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,e){let i=this.getDatasetMeta(n),o={meta:i,index:n,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_n.has(this)?this.attached&&!_n.running(this)&&_n.start(this):(this.draw(),pb({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(n=0;n<e.length&&e[n].z<=0;++n)e[n].draw(this.chartArea);for(this._drawDatasets();n<e.length;++n)e[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let e=this._sortedMetasets,i=[],o,a;for(o=0,a=e.length;o<a;++o){let l=e[o];(!n||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e)this._drawDataset(n[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let e=this.ctx,i=n._clip,o=!i.disabled,a=this.chartArea,l={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(o&&qs(e,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),n.controller.draw(),o&&Gs(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(n){return Tr(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,e,i,o){let a=Uq.modes[e];return typeof a=="function"?a(this,n,i,o):[]}getDatasetMeta(n){let e=this.data.datasets[n],i=this._metasets,o=i.filter(a=>a&&a._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:n,_dataset:e,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=gn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let e=this.data.datasets[n];if(!e)return!1;let i=this.getDatasetMeta(n);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(n,e){let i=this.getDatasetMeta(n);i.hidden=!e}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,e,i){let o=i?"show":"hide",a=this.getDatasetMeta(n),l=a.controller._resolveAnimations(void 0,o);vo(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),l.update(a,{visible:i}),this.update(d=>d.datasetIndex===n?o:void 0))}hide(n,e){this._updateVisibility(n,e,!1)}show(n,e){this._updateVisibility(n,e,!0)}_destroyDatasetMeta(n){let e=this._metasets[n];e&&e.controller&&e.controller._destroy(),delete this._metasets[n]}_stop(){let n,e;for(this.stop(),_n.remove(this),n=0,e=this.data.datasets.length;n<e;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:e}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Xp(n,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Pm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),n[a]=l},o=(a,l,d)=>{a.offsetX=l,a.offsetY=d,this._eventHandler(a)};Yt(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,e=this.platform,i=(u,f)=>{e.addEventListener(this,u,f),n[u]=f},o=(u,f)=>{n[u]&&(e.removeEventListener(this,u,f),delete n[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)},l,d=()=>{o("attach",d),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():l()}unbindEvents(){Yt(this._listeners,(n,e)=>{this.platform.removeEventListener(this,e,n)}),this._listeners={},Yt(this._responsiveListeners,(n,e)=>{this.platform.removeEventListener(this,e,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,e,i){let o=i?"set":"remove",a,l,d,u;for(e==="dataset"&&(a=this.getDatasetMeta(n[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),d=0,u=n.length;d<u;++d){l=n[d];let f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let e=this._active||[],i=n.map(({datasetIndex:a,index:l})=>{let d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[l],index:l}});!zs(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(n,e,i){return this._plugins.notify(this,n,e,i)}_updateHoverStyles(n,e,i){let o=this.options.hover,a=(u,f)=>u.filter(b=>!f.some(y=>b.datasetIndex===y.datasetIndex&&b.index===y.index)),l=a(e,n),d=i?n:a(n,e);l.length&&this.updateHoverStyle(l,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(n,e){let i={event:n,replay:e,cancelable:!0,inChartArea:this.isPointInArea(n)},o=l=>(l.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let a=this._handleEvent(n,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(n,e,i){let{_active:o=[],options:a}=this,l=e,d=this._getActiveElements(n,o,i,l),u=uC(n),f=MG(n,this._lastEvent,i,u);i&&(this._lastEvent=null,ti(a.onHover,[n,d,this],this),u&&ti(a.onClick,[n,d,this],this));let b=!zs(d,o);return(b||e)&&(this._active=d,this._updateHoverStyles(d,o,e)),this._lastEvent=f,b}_getActiveElements(n,e,i,o){if(n.type==="mouseout")return[];if(!i)return e;let a=this.options.hover;return this.getElementsAtEventForMode(n,a.mode,a,o)}},ub=()=>Yt(Ma.instances,t=>t._plugins.invalidate()),$n=!0;Object.defineProperties(Ma,{defaults:{enumerable:$n,value:Pt},instances:{enumerable:$n,value:Pm},overrides:{enumerable:$n,value:zn},registry:{enumerable:$n,value:sn},version:{enumerable:$n,value:yG},getChart:{enumerable:$n,value:Qb},register:{enumerable:$n,value:(...t)=>{sn.add(...t),ub()}},unregister:{enumerable:$n,value:(...t)=>{sn.remove(...t),ub()}}});function Wb(t,n,e){let{startAngle:i,pixelMargin:o,x:a,y:l,outerRadius:d,innerRadius:u}=n,f=o/d;t.beginPath(),t.arc(a,l,d,i-f,e+f),u>o?(f=o/u,t.arc(a,l,u,e+f,i-f,!0)):t.arc(a,l,o,e+xi,i-xi),t.closePath(),t.clip()}function IG(t){return hm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function TG(t,n,e,i){let o=IG(t.options.borderRadius),a=(e-n)/2,l=Math.min(a,i*n/2),d=u=>{let f=(e-Math.min(a,u))*i/2;return Vi(u,0,Math.min(a,f))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Vi(o.innerStart,0,l),innerEnd:Vi(o.innerEnd,0,l)}}function Vr(t,n,e,i){return{x:e+t*Math.cos(n),y:i+t*Math.sin(n)}}function Pu(t,n,e,i,o,a){let{x:l,y:d,startAngle:u,pixelMargin:f,innerRadius:b}=n,y=Math.max(n.outerRadius+i+e-f,0),w=b>0?b+i+e+f:0,M=0,P=o-u;if(i){let Ct=b>0?b-i:0,Ie=y>0?y-i:0,je=(Ct+Ie)/2,tt=je!==0?P*je/(je+i):P;M=(P-tt)/2}let k=Math.max(.001,P*y-e/pi)/y,N=(P-k)/2,U=u+N+M,Q=o-N-M,{outerStart:me,outerEnd:ne,innerStart:se,innerEnd:xe}=TG(n,w,y,Q-U),ye=y-me,Le=y-ne,Ge=U+me/ye,wt=Q-ne/Le,Rt=w+se,bt=w+xe,fi=U+se/Rt,Ni=Q-xe/bt;if(t.beginPath(),a){if(t.arc(l,d,y,Ge,wt),ne>0){let je=Vr(Le,wt,l,d);t.arc(je.x,je.y,ne,wt,Q+xi)}let Ct=Vr(bt,Q,l,d);if(t.lineTo(Ct.x,Ct.y),xe>0){let je=Vr(bt,Ni,l,d);t.arc(je.x,je.y,xe,Q+xi,Ni+Math.PI)}if(t.arc(l,d,w,Q-xe/w,U+se/w,!0),se>0){let je=Vr(Rt,fi,l,d);t.arc(je.x,je.y,se,fi+Math.PI,U-xi)}let Ie=Vr(ye,U,l,d);if(t.lineTo(Ie.x,Ie.y),me>0){let je=Vr(ye,Ge,l,d);t.arc(je.x,je.y,me,U-xi,Ge)}}else{t.moveTo(l,d);let Ct=Math.cos(Ge)*y+l,Ie=Math.sin(Ge)*y+d;t.lineTo(Ct,Ie);let je=Math.cos(wt)*y+l,tt=Math.sin(wt)*y+d;t.lineTo(je,tt)}t.closePath()}function PG(t,n,e,i,o){let{fullCircles:a,startAngle:l,circumference:d}=n,u=n.endAngle;if(a){Pu(t,n,e,i,l+Xt,o);for(let f=0;f<a;++f)t.fill();isNaN(d)||(u=l+d%Xt,d%Xt===0&&(u+=Xt))}return Pu(t,n,e,i,u,o),t.fill(),u}function DG(t,n,e){let{x:i,y:o,startAngle:a,pixelMargin:l,fullCircles:d}=n,u=Math.max(n.outerRadius-l,0),f=n.innerRadius+l,b;for(e&&Wb(t,n,a+Xt),t.beginPath(),t.arc(i,o,f,a+Xt,a,!0),b=0;b<d;++b)t.stroke();for(t.beginPath(),t.arc(i,o,u,a,a+Xt),b=0;b<d;++b)t.stroke()}function FG(t,n,e,i,o,a){let{options:l}=n,{borderWidth:d,borderJoinStyle:u}=l,f=l.borderAlign==="inner";d&&(f?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel"),n.fullCircles&&DG(t,n,f),f&&Wb(t,n,o),Pu(t,n,e,i,o,a),t.stroke())}var Br=class extends xo{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,i){let o=this.getProps(["x","y"],i),{angle:a,distance:l}=jp(o,{x:n,y:e}),{startAngle:d,endAngle:u,innerRadius:f,outerRadius:b,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=this.options.spacing/2,P=xt(y,u-d)>=Xt||Rr(a,d,u),k=an(l,f+w,b+w);return P&&k}getCenterPoint(n){let{x:e,y:i,startAngle:o,endAngle:a,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:u,spacing:f}=this.options,b=(o+a)/2,y=(l+d+f+u)/2;return{x:e+Math.cos(b)*y,y:i+Math.sin(b)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:i}=this,o=(e.offset||0)/2,a=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Xt?Math.floor(i/Xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let d=0;if(o){d=o/2;let f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*d,Math.sin(f)*d),this.circumference>=pi&&(d=o)}n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor;let u=PG(n,this,d,a,l);FG(n,this,d,a,u,l),n.restore()}};Br.id="arc";Br.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Br.defaultRoutes={backgroundColor:"backgroundColor"};function Kb(t,n,e=n){t.lineCap=xt(e.borderCapStyle,n.borderCapStyle),t.setLineDash(xt(e.borderDash,n.borderDash)),t.lineDashOffset=xt(e.borderDashOffset,n.borderDashOffset),t.lineJoin=xt(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=xt(e.borderWidth,n.borderWidth),t.strokeStyle=xt(e.borderColor,n.borderColor)}function RG(t,n,e){t.lineTo(e.x,e.y)}function kG(t){return t.stepped?PC:t.tension||t.cubicInterpolationMode==="monotone"?DC:RG}function Yb(t,n,e={}){let i=t.length,{start:o=0,end:a=i-1}=e,{start:l,end:d}=n,u=Math.max(o,l),f=Math.min(a,d),b=o<l&&a<l||o>d&&a>d;return{count:i,start:u,loop:n.loop,ilen:f<u&&!b?i+f-u:f-u}}function AG(t,n,e,i){let{points:o,options:a}=n,{count:l,start:d,loop:u,ilen:f}=Yb(o,e,i),b=kG(a),{move:y=!0,reverse:w}=i||{},M,P,k;for(M=0;M<=f;++M)P=o[(d+(w?f-M:M))%l],!P.skip&&(y?(t.moveTo(P.x,P.y),y=!1):b(t,k,P,w,a.stepped),k=P);return u&&(P=o[(d+(w?f:0))%l],b(t,k,P,w,a.stepped)),!!u}function OG(t,n,e,i){let o=n.points,{count:a,start:l,ilen:d}=Yb(o,e,i),{move:u=!0,reverse:f}=i||{},b=0,y=0,w,M,P,k,N,U,Q=ne=>(l+(f?d-ne:ne))%a,me=()=>{k!==N&&(t.lineTo(b,N),t.lineTo(b,k),t.lineTo(b,U))};for(u&&(M=o[Q(0)],t.moveTo(M.x,M.y)),w=0;w<=d;++w){if(M=o[Q(w)],M.skip)continue;let ne=M.x,se=M.y,xe=ne|0;xe===P?(se<k?k=se:se>N&&(N=se),b=(y*b+ne)/++y):(me(),t.lineTo(ne,se),P=xe,y=0,k=N=se),U=se}me()}function Du(t){let n=t.options,e=n.borderDash&&n.borderDash.length;return!t._decimated&&!t._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?OG:AG}function VG(t){return t.stepped?LC:t.tension||t.cubicInterpolationMode==="monotone"?jC:Bn}function NG(t,n,e,i){let o=n._path;o||(o=n._path=new Path2D,n.path(o,e,i)&&o.closePath()),Kb(t,n.options),t.stroke(o)}function BG(t,n,e,i){let{segments:o,options:a}=n,l=Du(n);for(let d of o)Kb(t,a,d.style),t.beginPath(),l(t,n,d,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}var LG=typeof Path2D=="function";function jG(t,n,e,i){LG&&!n.options.segment?NG(t,n,e,i):BG(t,n,e,i)}var km=(()=>{class t extends xo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let a=o.spanGaps?this._loop:this._fullLoop;VC(this._points,o,e,a,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HC(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,o=e.length;return o&&i[e[o-1].end]}interpolate(e,i){let o=this.options,a=e[i],l=this.points,d=mu(this,{property:i,start:a,end:a});if(!d.length)return;let u=[],f=VG(o),b,y;for(b=0,y=d.length;b<y;++b){let{start:w,end:M}=d[b],P=l[w],k=l[M];if(P===k){u.push(P);continue}let N=Math.abs((a-P[i])/(k[i]-P[i])),U=f(P,k,N,o.stepped);U[i]=e[i],u.push(U)}return u.length===1?u[0]:u}pathSegment(e,i,o){return Du(this)(e,this,i,o)}path(e,i,o){let a=this.segments,l=Du(this),d=this._loop;i=i||0,o=o||this.points.length-i;for(let u of a)d&=l(e,this,u,{start:i,end:i+o-1});return!!d}draw(e,i,o,a){let l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),jG(e,this,o,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t.id="line",t.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"},t})();function fb(t,n,e,i){let o=t.options,{[e]:a}=t.getProps([e],i);return Math.abs(n-a)<o.radius+o.hitRadius}var zG=(()=>{class t extends xo{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){let a=this.options,{x:l,y:d}=this.getProps(["x","y"],o);return Math.pow(e-l,2)+Math.pow(i-d,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return fb(this,e,"x",i)}inYRange(e,i){return fb(this,e,"y",i)}getCenterPoint(e){let{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){let o=this.options;this.skip||o.radius<.1||!Tr(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,fm(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t.id="point",t.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t})();function Xb(t,n){let{x:e,y:i,base:o,width:a,height:l}=t.getProps(["x","y","base","width","height"],n),d,u,f,b,y;return t.horizontal?(y=l/2,d=Math.min(e,o),u=Math.max(e,o),f=i-y,b=i+y):(y=a/2,d=e-y,u=e+y,f=Math.min(i,o),b=Math.max(i,o)),{left:d,top:f,right:u,bottom:b}}function Qn(t,n,e,i){return t?0:Vi(n,e,i)}function HG(t,n,e){let i=t.options.borderWidth,o=t.borderSkipped,a=Jp(i);return{t:Qn(o.top,a.top,0,e),r:Qn(o.right,a.right,0,n),b:Qn(o.bottom,a.bottom,0,e),l:Qn(o.left,a.left,0,n)}}function qG(t,n,e){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=Gn(o),l=Math.min(n,e),d=t.borderSkipped,u=i||Ft(o);return{topLeft:Qn(!u||d.top||d.left,a.topLeft,0,l),topRight:Qn(!u||d.top||d.right,a.topRight,0,l),bottomLeft:Qn(!u||d.bottom||d.left,a.bottomLeft,0,l),bottomRight:Qn(!u||d.bottom||d.right,a.bottomRight,0,l)}}function GG(t){let n=Xb(t),e=n.right-n.left,i=n.bottom-n.top,o=HG(t,e/2,i/2),a=qG(t,e/2,i/2);return{outer:{x:n.left,y:n.top,w:e,h:i,radius:a},inner:{x:n.left+o.l,y:n.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function _u(t,n,e,i){let o=n===null,a=e===null,d=t&&!(o&&a)&&Xb(t,i);return d&&(o||an(n,d.left,d.right))&&(a||an(e,d.top,d.bottom))}function UG(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $G(t,n){t.rect(n.x,n.y,n.w,n.h)}function Cu(t,n,e={}){let i=t.x!==e.x?-n:0,o=t.y!==e.y?-n:0,a=(t.x+t.w!==e.x+e.w?n:0)-i,l=(t.y+t.h!==e.y+e.h?n:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+a,h:t.h+l,radius:t.radius}}var Lr=class extends xo{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:l}=GG(this),d=UG(l.radius)?kr:$G;n.save(),(l.w!==a.w||l.h!==a.h)&&(n.beginPath(),d(n,Cu(l,e,a)),n.clip(),d(n,Cu(a,-e,l)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),d(n,Cu(a,e)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,e,i){return _u(this,n,e,i)}inXRange(n,e){return _u(this,n,null,e)}inYRange(n,e){return _u(this,null,n,e)}getCenterPoint(n){let{x:e,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],n);return{x:a?(e+o)/2:e,y:a?i:(i+o)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}};Lr.id="bar";Lr.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Lr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var QG=Object.freeze({__proto__:null,ArcElement:Br,LineElement:km,PointElement:zG,BarElement:Lr});function WG(t,n,e,i,o){let a=o.samples||i;if(a>=e)return t.slice(n,n+e);let l=[],d=(e-2)/(a-2),u=0,f=n+e-1,b=n,y,w,M,P,k;for(l[u++]=t[b],y=0;y<a-2;y++){let N=0,U=0,Q,me=Math.floor((y+1)*d)+1+n,ne=Math.min(Math.floor((y+2)*d)+1,e)+n,se=ne-me;for(Q=me;Q<ne;Q++)N+=t[Q].x,U+=t[Q].y;N/=se,U/=se;let xe=Math.floor(y*d)+1+n,ye=Math.min(Math.floor((y+1)*d)+1,e)+n,{x:Le,y:Ge}=t[b];for(M=P=-1,Q=xe;Q<ye;Q++)P=.5*Math.abs((Le-N)*(t[Q].y-Ge)-(Le-t[Q].x)*(U-Ge)),P>M&&(M=P,w=t[Q],k=Q);l[u++]=w,b=k}return l[u++]=t[f],l}function KG(t,n,e,i){let o=0,a=0,l,d,u,f,b,y,w,M,P,k,N=[],U=n+e-1,Q=t[n].x,ne=t[U].x-Q;for(l=n;l<n+e;++l){d=t[l],u=(d.x-Q)/ne*i,f=d.y;let se=u|0;if(se===b)f<P?(P=f,y=l):f>k&&(k=f,w=l),o=(a*o+d.x)/++a;else{let xe=l-1;if(!jt(y)&&!jt(w)){let ye=Math.min(y,w),Le=Math.max(y,w);ye!==M&&ye!==xe&&N.push(rt(it({},t[ye]),{x:o})),Le!==M&&Le!==xe&&N.push(rt(it({},t[Le]),{x:o}))}l>0&&xe!==M&&N.push(t[xe]),N.push(d),b=se,a=0,P=k=f,y=w=M=l}}return N}function Zb(t){if(t._decimated){let n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:n})}}function hb(t){t.data.datasets.forEach(n=>{Zb(n)})}function YG(t,n){let e=n.length,i=0,o,{iScale:a}=t,{min:l,max:d,minDefined:u,maxDefined:f}=a.getUserBounds();return u&&(i=Vi(on(n,a.axis,l).lo,0,e-1)),f?o=Vi(on(n,a.axis,d).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var XG={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled){hb(t);return}let i=t.width;t.data.datasets.forEach((o,a)=>{let{_data:l,indexAxis:d}=o,u=t.getDatasetMeta(a),f=l||o.data;if(Ar([d,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;let b=t.scales[u.xAxisID];if(b.type!=="linear"&&b.type!=="time"||t.options.parsing)return;let{start:y,count:w}=YG(u,f),M=e.threshold||4*i;if(w<=M){Zb(o);return}jt(l)&&(o._data=f,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let P;switch(e.algorithm){case"lttb":P=WG(f,y,w,i,e);break;case"min-max":P=KG(f,y,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=P})},destroy(t){hb(t)}};function ZG(t,n,e){let i=t.segments,o=t.points,a=n.points,l=[];for(let d of i){let{start:u,end:f}=d;f=ku(u,f,o);let b=Fu(e,o[u],o[f],d.loop);if(!n.segments){l.push({source:d,target:b,start:o[u],end:o[f]});continue}let y=mu(n,b);for(let w of y){let M=Fu(e,a[w.start],a[w.end],w.loop),P=cu(d,o,M);for(let k of P)l.push({source:k,target:w,start:{[e]:gb(b,M,"start",Math.max)},end:{[e]:gb(b,M,"end",Math.min)}})}}return l}function Fu(t,n,e,i){if(i)return;let o=n[t],a=e[t];return t==="angle"&&(o=po(o),a=po(a)),{property:t,start:o,end:a}}function JG(t,n){let{x:e=null,y:i=null}=t||{},o=n.points,a=[];return n.segments.forEach(({start:l,end:d})=>{d=ku(l,d,o);let u=o[l],f=o[d];i!==null?(a.push({x:u.x,y:i}),a.push({x:f.x,y:i})):e!==null&&(a.push({x:e,y:u.y}),a.push({x:e,y:f.y}))}),a}function ku(t,n,e){for(;n>t;n--){let i=e[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function gb(t,n,e,i){return t&&n?i(t[e],n[e]):t?t[e]:n?n[e]:0}function Jb(t,n){let e=[],i=!1;return ei(t)?(i=!0,e=t):e=JG(t,n),e.length?new km({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function _b(t){return t&&t.fill!==!1}function eU(t,n,e){let o=t[n].fill,a=[n],l;if(!e)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!Mi(o))return o;if(l=t[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function tU(t,n,e){let i=aU(t);if(Ft(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Mi(o)&&Math.floor(o)===o?iU(i[0],n,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function iU(t,n,e,i){return(t==="-"||t==="+")&&(e=n+e),e===n||e<0||e>=i?!1:e}function oU(t,n){let e=null;return t==="start"?e=n.bottom:t==="end"?e=n.top:Ft(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}function nU(t,n,e){let i;return t==="start"?i=e:t==="end"?i=n.options.reverse?n.min:n.max:Ft(t)?i=t.value:i=n.getBaseValue(),i}function aU(t){let n=t.options,e=n.fill,i=xt(e&&e.target,e);return i===void 0&&(i=!!n.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function rU(t){let{scale:n,index:e,line:i}=t,o=[],a=i.segments,l=i.points,d=sU(n,e);d.push(Jb({x:null,y:n.bottom},i));for(let u=0;u<a.length;u++){let f=a[u];for(let b=f.start;b<=f.end;b++)lU(o,l[b],d)}return new km({points:o,options:{}})}function sU(t,n){let e=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let a=i[o];if(a.index===n)break;a.hidden||e.unshift(a.dataset)}return e}function lU(t,n,e){let i=[];for(let o=0;o<e.length;o++){let a=e[o],{first:l,last:d,point:u}=cU(a,n,"x");if(!(!u||l&&d)){if(l)i.unshift(u);else if(t.push(u),!d)break}}t.push(...i)}function cU(t,n,e){let i=t.interpolate(n,e);if(!i)return{};let o=i[e],a=t.segments,l=t.points,d=!1,u=!1;for(let f=0;f<a.length;f++){let b=a[f],y=l[b.start][e],w=l[b.end][e];if(an(o,y,w)){d=o===y,u=o===w;break}}return{first:d,last:u,point:i}}var Dm=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,i){let{x:o,y:a,radius:l}=this;return e=e||{start:0,end:Xt},n.arc(o,a,l,e.end,e.start,!0),!i.bounds}interpolate(n){let{x:e,y:i,radius:o}=this,a=n.angle;return{x:e+Math.cos(a)*o,y:i+Math.sin(a)*o,angle:a}}};function mU(t){let{chart:n,fill:e,line:i}=t;if(Mi(e))return dU(n,e);if(e==="stack")return rU(t);if(e==="shape")return!0;let o=pU(t);return o instanceof Dm?o:Jb(o,i)}function dU(t,n){let e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}function pU(t){return(t.scale||{}).getPointPositionForValue?fU(t):uU(t)}function uU(t){let{scale:n={},fill:e}=t,i=oU(e,n);if(Mi(i)){let o=n.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function fU(t){let{scale:n,fill:e}=t,i=n.options,o=n.getLabels().length,a=i.reverse?n.max:n.min,l=nU(e,n,a),d=[];if(i.grid.circular){let u=n.getPointPositionForValue(0,a);return new Dm({x:u.x,y:u.y,radius:n.getDistanceFromCenterForValue(l)})}for(let u=0;u<o;++u)d.push(n.getPointPositionForValue(u,l));return d}function bu(t,n,e){let i=mU(n),{line:o,scale:a,axis:l}=n,d=o.options,u=d.fill,f=d.backgroundColor,{above:b=f,below:y=f}=u||{};i&&o.points.length&&(qs(t,e),hU(t,{line:o,target:i,above:b,below:y,area:e,scale:a,axis:l}),Gs(t))}function hU(t,n){let{line:e,target:i,above:o,below:a,area:l,scale:d}=n,u=e._loop?"angle":n.axis;t.save(),u==="x"&&a!==o&&(Cb(t,i,l.top),bb(t,{line:e,target:i,color:o,scale:d,property:u}),t.restore(),t.save(),Cb(t,i,l.bottom)),bb(t,{line:e,target:i,color:a,scale:d,property:u}),t.restore()}function Cb(t,n,e){let{segments:i,points:o}=n,a=!0,l=!1;t.beginPath();for(let d of i){let{start:u,end:f}=d,b=o[u],y=o[ku(u,f,o)];a?(t.moveTo(b.x,b.y),a=!1):(t.lineTo(b.x,e),t.lineTo(b.x,b.y)),l=!!n.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(y.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function bb(t,n){let{line:e,target:i,property:o,color:a,scale:l}=n,d=ZG(e,i,o);for(let{source:u,target:f,start:b,end:y}of d){let{style:{backgroundColor:w=a}={}}=u,M=i!==!0;t.save(),t.fillStyle=w,gU(t,l,M&&Fu(o,b,y)),t.beginPath();let P=!!e.pathSegment(t,u),k;if(M){P?t.closePath():vb(t,i,y,o);let N=!!i.pathSegment(t,f,{move:P,reverse:!0});k=P&&N,k||vb(t,i,b,o)}t.closePath(),t.fill(k?"evenodd":"nonzero"),t.restore()}}function gU(t,n,e){let{top:i,bottom:o}=n.chart.chartArea,{property:a,start:l,end:d}=e||{};a==="x"&&(t.beginPath(),t.rect(l,i,d-l,o-i),t.clip())}function vb(t,n,e,i){let o=n.interpolate(e,i);o&&t.lineTo(o.x,o.y)}var _U={id:"filler",afterDatasetsUpdate(t,n,e){let i=(t.data.datasets||[]).length,o=[],a,l,d,u;for(l=0;l<i;++l)a=t.getDatasetMeta(l),d=a.dataset,u=null,d&&d.options&&d instanceof km&&(u={visible:t.isDatasetVisible(l),index:l,fill:tU(d,l,i),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:d}),a.$filler=u,o.push(u);for(l=0;l<i;++l)u=o[l],!(!u||u.fill===!1)&&(u.fill=eU(o,l,e.propagate))},beforeDraw(t,n,e){let i=e.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=o.length-1;l>=0;--l){let d=o[l].$filler;d&&(d.line.updateControlPoints(a,d.axis),i&&d.fill&&bu(t.ctx,d,a))}},beforeDatasetsDraw(t,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;_b(a)&&bu(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,n,e){let i=n.meta.$filler;!_b(i)||e.drawTime!=="beforeDatasetDraw"||bu(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Sb=(t,n)=>{let{boxHeight:e=n,boxWidth:i=n}=t;return t.usePointStyle&&(e=Math.min(e,n),i=t.pointStyleWidth||Math.min(i,n)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(n,e)}},CU=(t,n)=>t!==null&&n!==null&&t.datasetIndex===n.datasetIndex&&t.index===n.index,Fm=class extends xo{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,i){this.maxWidth=n,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=ti(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(i=>n.filter(i,this.chart.data))),n.sort&&(e=e.sort((i,o)=>n.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let i=n.labels,o=Ai(i.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=Sb(i,a),f,b;e.font=o.string,this.isHorizontal()?(f=this.maxWidth,b=this._fitRows(l,a,d,u)+10):(b=this.maxHeight,f=this._fitCols(l,a,d,u)+10),this.width=Math.min(f,n.maxWidth||this.maxWidth),this.height=Math.min(b,n.maxHeight||this.maxHeight)}_fitRows(n,e,i,o){let{ctx:a,maxWidth:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],b=o+d,y=n;a.textAlign="left",a.textBaseline="middle";let w=-1,M=-b;return this.legendItems.forEach((P,k)=>{let N=i+e/2+a.measureText(P.text).width;(k===0||f[f.length-1]+N+2*d>l)&&(y+=b,f[f.length-(k>0?0:1)]=0,M+=b,w++),u[k]={left:0,top:M,row:w,width:N,height:o},f[f.length-1]+=N+d}),y}_fitCols(n,e,i,o){let{ctx:a,maxHeight:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],b=l-n,y=d,w=0,M=0,P=0,k=0;return this.legendItems.forEach((N,U)=>{let Q=i+e/2+a.measureText(N.text).width;U>0&&M+o+2*d>b&&(y+=w+d,f.push({width:w,height:M}),P+=w+d,k++,w=M=0),u[U]={left:P,top:M,col:k,width:Q,height:o},w=Math.max(w,Q),M+=o+d}),y+=w,f.push({width:w,height:M}),y}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:a}}=this,l=xa(a,this.left,this.width);if(this.isHorizontal()){let d=0,u=zi(i,this.left+o,this.right-this.lineWidths[d]);for(let f of e)d!==f.row&&(d=f.row,u=zi(i,this.left+o,this.right-this.lineWidths[d])),f.top+=this.top+n+o,f.left=l.leftForLtr(l.x(u),f.width),u+=f.width+o}else{let d=0,u=zi(i,this.top+n+o,this.bottom-this.columnSizes[d].height);for(let f of e)f.col!==d&&(d=f.col,u=zi(i,this.top+n+o,this.bottom-this.columnSizes[d].height)),f.top=u,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),u+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;qs(n,this),this._draw(),Gs(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:i,ctx:o}=this,{align:a,labels:l}=n,d=Pt.color,u=xa(n.rtl,this.left,this.width),f=Ai(l.font),{color:b,padding:y}=l,w=f.size,M=w/2,P;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;let{boxWidth:k,boxHeight:N,itemHeight:U}=Sb(l,w),Q=function(ye,Le,Ge){if(isNaN(k)||k<=0||isNaN(N)||N<0)return;o.save();let wt=xt(Ge.lineWidth,1);if(o.fillStyle=xt(Ge.fillStyle,d),o.lineCap=xt(Ge.lineCap,"butt"),o.lineDashOffset=xt(Ge.lineDashOffset,0),o.lineJoin=xt(Ge.lineJoin,"miter"),o.lineWidth=wt,o.strokeStyle=xt(Ge.strokeStyle,d),o.setLineDash(xt(Ge.lineDash,[])),l.usePointStyle){let Rt={radius:N*Math.SQRT2/2,pointStyle:Ge.pointStyle,rotation:Ge.rotation,borderWidth:wt},bt=u.xPlus(ye,k/2),fi=Le+M;Zp(o,Rt,bt,fi,l.pointStyleWidth&&k)}else{let Rt=Le+Math.max((w-N)/2,0),bt=u.leftForLtr(ye,k),fi=Gn(Ge.borderRadius);o.beginPath(),Object.values(fi).some(Ni=>Ni!==0)?kr(o,{x:bt,y:Rt,w:k,h:N,radius:fi}):o.rect(bt,Rt,k,N),o.fill(),wt!==0&&o.stroke()}o.restore()},me=function(ye,Le,Ge){qn(o,Ge.text,ye,Le+U/2,f,{strikethrough:Ge.hidden,textAlign:u.textAlign(Ge.textAlign)})},ne=this.isHorizontal(),se=this._computeTitleHeight();ne?P={x:zi(a,this.left+y,this.right-i[0]),y:this.top+y+se,line:0}:P={x:this.left+y,y:zi(a,this.top+se+y,this.bottom-e[0].height),line:0},su(this.ctx,n.textDirection);let xe=U+y;this.legendItems.forEach((ye,Le)=>{o.strokeStyle=ye.fontColor||b,o.fillStyle=ye.fontColor||b;let Ge=o.measureText(ye.text).width,wt=u.textAlign(ye.textAlign||(ye.textAlign=l.textAlign)),Rt=k+M+Ge,bt=P.x,fi=P.y;u.setWidth(this.width),ne?Le>0&&bt+Rt+y>this.right&&(fi=P.y+=xe,P.line++,bt=P.x=zi(a,this.left+y,this.right-i[P.line])):Le>0&&fi+xe>this.bottom&&(bt=P.x=bt+e[P.line].width+y,P.line++,fi=P.y=zi(a,this.top+se+y,this.bottom-e[P.line].height));let Ni=u.x(bt);Q(Ni,fi,ye),bt=yC(wt,bt+k+M,ne?bt+Rt:this.right,n.rtl),me(u.x(bt),fi,ye),ne?P.x+=Rt+y:P.y+=xe}),lu(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,i=Ai(e.font),o=Hi(e.padding);if(!e.display)return;let a=xa(n.rtl,this.left,this.width),l=this.ctx,d=e.position,u=i.size/2,f=o.top+u,b,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),b=this.top+f,y=zi(n.align,y,this.right-w);else{let P=this.columnSizes.reduce((k,N)=>Math.max(k,N.height),0);b=f+zi(n.align,this.top,this.bottom-P-n.labels.padding-this._computeTitleHeight())}let M=zi(d,y,y+w);l.textAlign=a.textAlign(pm(d)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,qn(l,e.text,M,b,i)}_computeTitleHeight(){let n=this.options.title,e=Ai(n.font),i=Hi(n.padding);return n.display?e.lineHeight+i.height:0}_getLegendItemAt(n,e){let i,o,a;if(an(n,this.left,this.right)&&an(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],an(n,o.left,o.left+o.width)&&an(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(n){let e=this.options;if(!bU(n.type,e))return;let i=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let o=this._hoveredItem,a=CU(o,i);o&&!a&&ti(e.onLeave,[n,o,this],this),this._hoveredItem=i,i&&!a&&ti(e.onHover,[n,i,this],this)}else i&&ti(e.onClick,[n,i,this],this)}};function bU(t,n){return!!((t==="mousemove"||t==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(t==="click"||t==="mouseup"))}var vU={id:"legend",_element:Fm,start(t,n,e){let i=t.legend=new Fm({ctx:t.ctx,options:e,chart:t});Zi.configure(t,i,e),Zi.addBox(t,i)},stop(t){Zi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){let i=t.legend;Zi.configure(t,i,e),i.options=e},afterUpdate(t){let n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){let i=n.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),n.hidden=!0):(o.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let d=l.controller.getStyle(e?0:void 0),u=Hi(d.borderWidth);return{text:n[l.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Js=class extends xo{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let o=ei(i.text)?i.text.length:1;this._padding=Hi(i.padding);let a=o*Ai(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:i,bottom:o,right:a,options:l}=this,d=l.align,u=0,f,b,y;return this.isHorizontal()?(b=zi(d,i,a),y=e+n,f=a-i):(l.position==="left"?(b=i+n,y=zi(d,o,e),u=pi*-.5):(b=a-n,y=zi(d,e,o),u=pi*.5),f=o-e),{titleX:b,titleY:y,maxWidth:f,rotation:u}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let i=Ai(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:u,rotation:f}=this._drawArgs(a);qn(n,e.text,0,0,i,{color:e.color,maxWidth:u,rotation:f,textAlign:pm(e.align),textBaseline:"middle",translation:[l,d]})}};function SU(t,n){let e=new Js({ctx:t.ctx,options:n,chart:t});Zi.configure(t,e,n),Zi.addBox(t,e),t.titleBlock=e}var yU={id:"title",_element:Js,start(t,n,e){SU(t,e)},stop(t){let n=t.titleBlock;Zi.removeBox(t,n),delete t.titleBlock},beforeUpdate(t,n,e){let i=t.titleBlock;Zi.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ym=new WeakMap,xU={id:"subtitle",start(t,n,e){let i=new Js({ctx:t.ctx,options:e,chart:t});Zi.configure(t,i,e),Zi.addBox(t,i),ym.set(t,i)},stop(t){Zi.removeBox(t,ym.get(t)),ym.delete(t)},beforeUpdate(t,n,e){let i=ym.get(t);Zi.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Xs={average(t){if(!t.length)return!1;let n,e,i=0,o=0,a=0;for(n=0,e=t.length;n<e;++n){let l=t[n].element;if(l&&l.hasValue()){let d=l.tooltipPosition();i+=d.x,o+=d.y,++a}}return{x:i/a,y:o/a}},nearest(t,n){if(!t.length)return!1;let e=n.x,i=n.y,o=Number.POSITIVE_INFINITY,a,l,d;for(a=0,l=t.length;a<l;++a){let u=t[a].element;if(u&&u.hasValue()){let f=u.getCenterPoint(),b=sm(n,f);b<o&&(o=b,d=u)}}if(d){let u=d.tooltipPosition();e=u.x,i=u.y}return{x:e,y:i}}};function rn(t,n){return n&&(ei(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function Cn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function wU(t,n){let{element:e,datasetIndex:i,index:o}=n,a=t.getDatasetMeta(i).controller,{label:l,value:d}=a.getLabelAndValue(o);return{chart:t,label:l,parsed:a.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:d,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function yb(t,n){let e=t.chart.ctx,{body:i,footer:o,title:a}=t,{boxWidth:l,boxHeight:d}=n,u=Ai(n.bodyFont),f=Ai(n.titleFont),b=Ai(n.footerFont),y=a.length,w=o.length,M=i.length,P=Hi(n.padding),k=P.height,N=0,U=i.reduce((ne,se)=>ne+se.before.length+se.lines.length+se.after.length,0);if(U+=t.beforeBody.length+t.afterBody.length,y&&(k+=y*f.lineHeight+(y-1)*n.titleSpacing+n.titleMarginBottom),U){let ne=n.displayColors?Math.max(d,u.lineHeight):u.lineHeight;k+=M*ne+(U-M)*u.lineHeight+(U-1)*n.bodySpacing}w&&(k+=n.footerMarginTop+w*b.lineHeight+(w-1)*n.footerSpacing);let Q=0,me=function(ne){N=Math.max(N,e.measureText(ne).width+Q)};return e.save(),e.font=f.string,Yt(t.title,me),e.font=u.string,Yt(t.beforeBody.concat(t.afterBody),me),Q=n.displayColors?l+2+n.boxPadding:0,Yt(i,ne=>{Yt(ne.before,me),Yt(ne.lines,me),Yt(ne.after,me)}),Q=0,e.font=b.string,Yt(t.footer,me),e.restore(),N+=P.width,{width:N,height:k}}function EU(t,n){let{y:e,height:i}=n;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}function MU(t,n,e,i){let{x:o,width:a}=i,l=e.caretSize+e.caretPadding;if(t==="left"&&o+a+l>n.width||t==="right"&&o-a-l<0)return!0}function IU(t,n,e,i){let{x:o,width:a}=e,{width:l,chartArea:{left:d,right:u}}=t,f="center";return i==="center"?f=o<=(d+u)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),MU(f,t,n,e)&&(f="center"),f}function xb(t,n,e){let i=e.yAlign||n.yAlign||EU(t,e);return{xAlign:e.xAlign||n.xAlign||IU(t,n,e,i),yAlign:i}}function TU(t,n){let{x:e,width:i}=t;return n==="right"?e-=i:n==="center"&&(e-=i/2),e}function PU(t,n,e){let{y:i,height:o}=t;return n==="top"?i+=e:n==="bottom"?i-=o+e:i-=o/2,i}function wb(t,n,e,i){let{caretSize:o,caretPadding:a,cornerRadius:l}=t,{xAlign:d,yAlign:u}=e,f=o+a,{topLeft:b,topRight:y,bottomLeft:w,bottomRight:M}=Gn(l),P=TU(n,d),k=PU(n,u,f);return u==="center"?d==="left"?P+=f:d==="right"&&(P-=f):d==="left"?P-=Math.max(b,w)+o:d==="right"&&(P+=Math.max(y,M)+o),{x:Vi(P,0,i.width-n.width),y:Vi(k,0,i.height-n.height)}}function xm(t,n,e){let i=Hi(e.padding);return n==="center"?t.x+t.width/2:n==="right"?t.x+t.width-i.right:t.x+i.left}function Eb(t){return rn([],Cn(t))}function DU(t,n,e){return gn(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}function Mb(t,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}var Ib=(()=>{class t extends xo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&i.options.animation&&o.animations,l=new Mm(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=DU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:o}=i,a=o.beforeTitle.apply(this,[e]),l=o.title.apply(this,[e]),d=o.afterTitle.apply(this,[e]),u=[];return u=rn(u,Cn(a)),u=rn(u,Cn(l)),u=rn(u,Cn(d)),u}getBeforeBody(e,i){return Eb(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){let{callbacks:o}=i,a=[];return Yt(e,l=>{let d={before:[],lines:[],after:[]},u=Mb(o,l);rn(d.before,Cn(u.beforeLabel.call(this,l))),rn(d.lines,u.label.call(this,l)),rn(d.after,Cn(u.afterLabel.call(this,l))),a.push(d)}),a}getAfterBody(e,i){return Eb(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){let{callbacks:o}=i,a=o.beforeFooter.apply(this,[e]),l=o.footer.apply(this,[e]),d=o.afterFooter.apply(this,[e]),u=[];return u=rn(u,Cn(a)),u=rn(u,Cn(l)),u=rn(u,Cn(d)),u}_createItems(e){let i=this._active,o=this.chart.data,a=[],l=[],d=[],u=[],f,b;for(f=0,b=i.length;f<b;++f)u.push(wU(this.chart,i[f]));return e.filter&&(u=u.filter((y,w,M)=>e.filter(y,w,M,o))),e.itemSort&&(u=u.sort((y,w)=>e.itemSort(y,w,o))),Yt(u,y=>{let w=Mb(e.callbacks,y);a.push(w.labelColor.call(this,y)),l.push(w.labelPointStyle.call(this,y)),d.push(w.labelTextColor.call(this,y))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=d,this.dataPoints=u,u}update(e,i){let o=this.options.setContext(this.getContext()),a=this._active,l,d=[];if(!a.length)this.opacity!==0&&(l={opacity:0});else{let u=Xs[o.position].call(this,a,this._eventPosition);d=this._createItems(o),this.title=this.getTitle(d,o),this.beforeBody=this.getBeforeBody(d,o),this.body=this.getBody(d,o),this.afterBody=this.getAfterBody(d,o),this.footer=this.getFooter(d,o);let f=this._size=yb(this,o),b=Object.assign({},u,f),y=xb(this.chart,o,b),w=wb(o,b,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,l={opacity:1,x:w.x,y:w.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=d,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,o,a){let l=this.getCaretPosition(e,o,a);i.lineTo(l.x1,l.y1),i.lineTo(l.x2,l.y2),i.lineTo(l.x3,l.y3)}getCaretPosition(e,i,o){let{xAlign:a,yAlign:l}=this,{caretSize:d,cornerRadius:u}=o,{topLeft:f,topRight:b,bottomLeft:y,bottomRight:w}=Gn(u),{x:M,y:P}=e,{width:k,height:N}=i,U,Q,me,ne,se,xe;return l==="center"?(se=P+N/2,a==="left"?(U=M,Q=U-d,ne=se+d,xe=se-d):(U=M+k,Q=U+d,ne=se-d,xe=se+d),me=U):(a==="left"?Q=M+Math.max(f,y)+d:a==="right"?Q=M+k-Math.max(b,w)-d:Q=this.caretX,l==="top"?(ne=P,se=ne-d,U=Q-d,me=Q+d):(ne=P+N,se=ne+d,U=Q+d,me=Q-d),xe=ne),{x1:U,x2:Q,x3:me,y1:ne,y2:se,y3:xe}}drawTitle(e,i,o){let a=this.title,l=a.length,d,u,f;if(l){let b=xa(o.rtl,this.x,this.width);for(e.x=xm(this,o.titleAlign,o),i.textAlign=b.textAlign(o.titleAlign),i.textBaseline="middle",d=Ai(o.titleFont),u=o.titleSpacing,i.fillStyle=o.titleColor,i.font=d.string,f=0;f<l;++f)i.fillText(a[f],b.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+u,f+1===l&&(e.y+=o.titleMarginBottom-u)}}_drawColorBox(e,i,o,a,l){let d=this.labelColors[o],u=this.labelPointStyles[o],{boxHeight:f,boxWidth:b,boxPadding:y}=l,w=Ai(l.bodyFont),M=xm(this,"left",l),P=a.x(M),k=f<w.lineHeight?(w.lineHeight-f)/2:0,N=i.y+k;if(l.usePointStyle){let U={radius:Math.min(b,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},Q=a.leftForLtr(P,b)+b/2,me=N+f/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,fm(e,U,Q,me),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,fm(e,U,Q,me)}else{e.lineWidth=Ft(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;let U=a.leftForLtr(P,b-y),Q=a.leftForLtr(a.xPlus(P,1),b-y-2),me=Gn(d.borderRadius);Object.values(me).some(ne=>ne!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,kr(e,{x:U,y:N,w:b,h:f,radius:me}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),kr(e,{x:Q,y:N+1,w:b-2,h:f-2,radius:me}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(U,N,b,f),e.strokeRect(U,N,b,f),e.fillStyle=d.backgroundColor,e.fillRect(Q,N+1,b-2,f-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,i,o){let{body:a}=this,{bodySpacing:l,bodyAlign:d,displayColors:u,boxHeight:f,boxWidth:b,boxPadding:y}=o,w=Ai(o.bodyFont),M=w.lineHeight,P=0,k=xa(o.rtl,this.x,this.width),N=function(Ge){i.fillText(Ge,k.x(e.x+P),e.y+M/2),e.y+=M+l},U=k.textAlign(d),Q,me,ne,se,xe,ye,Le;for(i.textAlign=d,i.textBaseline="middle",i.font=w.string,e.x=xm(this,U,o),i.fillStyle=o.bodyColor,Yt(this.beforeBody,N),P=u&&U!=="right"?d==="center"?b/2+y:b+2+y:0,se=0,ye=a.length;se<ye;++se){for(Q=a[se],me=this.labelTextColors[se],i.fillStyle=me,Yt(Q.before,N),ne=Q.lines,u&&ne.length&&(this._drawColorBox(i,e,se,k,o),M=Math.max(w.lineHeight,f)),xe=0,Le=ne.length;xe<Le;++xe)N(ne[xe]),M=w.lineHeight;Yt(Q.after,N)}P=0,M=w.lineHeight,Yt(this.afterBody,N),e.y-=l}drawFooter(e,i,o){let a=this.footer,l=a.length,d,u;if(l){let f=xa(o.rtl,this.x,this.width);for(e.x=xm(this,o.footerAlign,o),e.y+=o.footerMarginTop,i.textAlign=f.textAlign(o.footerAlign),i.textBaseline="middle",d=Ai(o.footerFont),i.fillStyle=o.footerColor,i.font=d.string,u=0;u<l;++u)i.fillText(a[u],f.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+o.footerSpacing}}drawBackground(e,i,o,a){let{xAlign:l,yAlign:d}=this,{x:u,y:f}=e,{width:b,height:y}=o,{topLeft:w,topRight:M,bottomLeft:P,bottomRight:k}=Gn(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(u+w,f),d==="top"&&this.drawCaret(e,i,o,a),i.lineTo(u+b-M,f),i.quadraticCurveTo(u+b,f,u+b,f+M),d==="center"&&l==="right"&&this.drawCaret(e,i,o,a),i.lineTo(u+b,f+y-k),i.quadraticCurveTo(u+b,f+y,u+b-k,f+y),d==="bottom"&&this.drawCaret(e,i,o,a),i.lineTo(u+P,f+y),i.quadraticCurveTo(u,f+y,u,f+y-P),d==="center"&&l==="left"&&this.drawCaret(e,i,o,a),i.lineTo(u,f+w),i.quadraticCurveTo(u,f,u+w,f),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,o=this.$animations,a=o&&o.x,l=o&&o.y;if(a||l){let d=Xs[e.position].call(this,this._active,this._eventPosition);if(!d)return;let u=this._size=yb(this,e),f=Object.assign({},d,this._size),b=xb(i,e,f),y=wb(e,f,b,i);(a._to!==y.x||l._to!==y.y)&&(this.xAlign=b.xAlign,this.yAlign=b.yAlign,this.width=u.width,this.height=u.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},l={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let d=Hi(i.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&u&&(e.save(),e.globalAlpha=o,this.drawBackground(l,e,a,i),su(e,i.textDirection),l.y+=d.top,this.drawTitle(l,e,i),this.drawBody(l,e,i),this.drawFooter(l,e,i),lu(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let o=this._active,a=e.map(({datasetIndex:u,index:f})=>{let b=this.chart.getDatasetMeta(u);if(!b)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:b.data[f],index:f}}),l=!zs(o,a),d=this._positionChanged(a,i);(l||d)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,l=this._active||[],d=this._getActiveElements(e,l,i,o),u=this._positionChanged(d,e),f=i||!zs(d,l)||u;return f&&(this._active=d,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),f}_getActiveElements(e,i,o,a){let l=this.options;if(e.type==="mouseout")return[];if(!a)return i;let d=this.chart.getElementsAtEventForMode(e,l.mode,l,o);return l.reverse&&d.reverse(),d}_positionChanged(e,i){let{caretX:o,caretY:a,options:l}=this,d=Xs[l.position].call(this,e,i);return d!==!1&&(o!==d.x||a!==d.y)}}return t.positioners=Xs,t})(),FU={id:"tooltip",_element:Ib,positioners:Xs,afterInit(t,n,e){e&&(t.tooltip=new Ib({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let n=t.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(t.notifyPlugins("beforeTooltipDraw",e)===!1)return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){if(t.tooltip){let e=n.replay;t.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:nn,title(t){if(t.length>0){let n=t[0],e=n.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return e[n.dataIndex]}return""},afterTitle:nn,beforeBody:nn,beforeLabel:nn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");let e=t.formattedValue;return jt(e)||(n+=e),n},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:nn,afterBody:nn,beforeFooter:nn,footer:nn,afterFooter:nn}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RU=Object.freeze({__proto__:null,Decimation:XG,Filler:_U,Legend:vU,SubTitle:xU,Title:yU,Tooltip:FU}),kU=(t,n,e,i)=>(typeof n=="string"?(e=t.push(n)-1,i.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function AU(t,n,e,i){let o=t.indexOf(n);if(o===-1)return kU(t,n,e,i);let a=t.lastIndexOf(n);return o!==a?e:o}var OU=(t,n)=>t===null?null:Vi(Math.round(t),0,n),jr=class extends Ea{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let e=this._addedLabels;if(e.length){let i=this.getLabels();for(let{index:o,label:a}of e)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(n)}parse(n,e){if(jt(n))return null;let i=this.getLabels();return e=isFinite(e)&&i[e]===n?e:AU(i,n,xt(e,n),this._addedLabels),OU(e,i.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(i=0),e||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let n=this.min,e=this.max,i=this.options.offset,o=[],a=this.getLabels();a=n===0&&e===a.length-1?a:a.slice(n,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=n;l<=e;l++)o.push({value:l});return o}getLabelForValue(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}};jr.id="category";jr.defaults={ticks:{callback:jr.prototype.getLabelForValue}};function VU(t,n){let e=[],{bounds:o,step:a,min:l,max:d,precision:u,count:f,maxTicks:b,maxDigits:y,includeBounds:w}=t,M=a||1,P=b-1,{min:k,max:N}=n,U=!jt(l),Q=!jt(d),me=!jt(f),ne=(N-k)/(y+1),se=Np((N-k)/P/M)*M,xe,ye,Le,Ge;if(se<1e-14&&!U&&!Q)return[{value:k},{value:N}];Ge=Math.ceil(N/se)-Math.floor(k/se),Ge>P&&(se=Np(Ge*se/P/M)*M),jt(u)||(xe=Math.pow(10,u),se=Math.ceil(se*xe)/xe),o==="ticks"?(ye=Math.floor(k/se)*se,Le=Math.ceil(N/se)*se):(ye=k,Le=N),U&&Q&&a&&hC((d-l)/a,se/1e3)?(Ge=Math.round(Math.min((d-l)/se,b)),se=(d-l)/Ge,ye=l,Le=d):me?(ye=U?l:ye,Le=Q?d:Le,Ge=f-1,se=(Le-ye)/Ge):(Ge=(Le-ye)/se,Fr(Ge,Math.round(Ge),se/1e3)?Ge=Math.round(Ge):Ge=Math.ceil(Ge));let wt=Math.max(Lp(se),Lp(ye));xe=Math.pow(10,jt(u)?wt:u),ye=Math.round(ye*xe)/xe,Le=Math.round(Le*xe)/xe;let Rt=0;for(U&&(w&&ye!==l?(e.push({value:l}),ye<l&&Rt++,Fr(Math.round((ye+Rt*se)*xe)/xe,l,Tb(l,ne,t))&&Rt++):ye<l&&Rt++);Rt<Ge;++Rt)e.push({value:Math.round((ye+Rt*se)*xe)/xe});return Q&&w&&Le!==d?e.length&&Fr(e[e.length-1].value,d,Tb(d,ne,t))?e[e.length-1].value=d:e.push({value:d}):(!Q||Le===d)&&e.push({value:Le}),e}function Tb(t,n,{horizontal:e,minRotation:i}){let o=Oo(i),a=(e?Math.sin(o):Math.cos(o))||.001,l=.75*n*(""+t).length;return Math.min(n/a,l)}var zr=class extends Ea{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return jt(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:a}=this,l=u=>o=e?o:u,d=u=>a=i?a:u;if(n){let u=Go(o),f=Go(a);u<0&&f<0?d(0):u>0&&f>0&&l(0)}if(o===a){let u=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(u=Math.abs(a*.05)),d(a+u),n||l(o-u)}this.min=o,this.max=a}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:i}=n,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=VU(o,a);return n.bounds==="ticks"&&Bp(l,this,"value"),n.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){let n=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){let o=(i-e)/Math.max(n.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(n){return Or(n,this.chart.options.locale,this.options.ticks.format)}},el=class extends zr{determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Mi(n)?n:0,this.max=Mi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,i=Oo(this.options.ticks.minRotation),o=(n?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/o))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}};el.id="linear";el.defaults={ticks:{callback:Rm.formatters.numeric}};function Pb(t){return t/Math.pow(10,Math.floor(yo(t)))===1}function NU(t,n){let e=Math.floor(yo(n.max)),i=Math.ceil(n.max/Math.pow(10,e)),o=[],a=So(t.min,Math.pow(10,Math.floor(yo(n.min)))),l=Math.floor(yo(a)),d=Math.floor(a/Math.pow(10,l)),u=l<0?Math.pow(10,Math.abs(l)):1;do o.push({value:a,major:Pb(a)}),++d,d===10&&(d=1,++l,u=l>=0?1:u),a=Math.round(d*Math.pow(10,l)*u)/u;while(l<e||l===e&&d<i);let f=So(t.max,a);return o.push({value:f,major:Pb(a)}),o}var tl=class extends Ea{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let i=zr.prototype.parse.apply(this,[n,e]);if(i===0){this._zero=!0;return}return Mi(i)&&i>0?i:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Mi(n)?Math.max(0,n):null,this.max=Mi(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),i=this.min,o=this.max,a=u=>i=n?i:u,l=u=>o=e?o:u,d=(u,f)=>Math.pow(10,Math.floor(yo(u))+f);i===o&&(i<=0?(a(1),l(10)):(a(d(i,-1)),l(d(o,1)))),i<=0&&a(d(o,-1)),o<=0&&l(d(i,1)),this._zero&&this.min!==this._suggestedMin&&i===d(this.min,0)&&a(d(i,-1)),this.min=i,this.max=o}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},i=NU(e,this);return n.bounds==="ticks"&&Bp(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return n===void 0?"0":Or(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=yo(n),this._valueRange=yo(this.max)-yo(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(yo(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};tl.id="logarithmic";tl.defaults={ticks:{callback:Rm.formatters.logarithmic,major:{enabled:!0}}};function Ru(t){let n=t.ticks;if(n.display&&t.display){let e=Hi(n.backdropPadding);return xt(n.font&&n.font.size,Pt.font.size)+e.height}return 0}function BU(t,n,e){return e=ei(e)?e:[e],{w:TC(t,n.string,e),h:e.length*n.lineHeight}}function Db(t,n,e,i,o){return t===i||t===o?{start:n-e/2,end:n+e/2}:t<i||t>o?{start:n-e,end:n}:{start:n,end:n+e}}function LU(t){let n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),i=[],o=[],a=t._pointLabels.length,l=t.options.pointLabels,d=l.centerPointLabels?pi/a:0;for(let u=0;u<a;u++){let f=l.setContext(t.getPointLabelContext(u));o[u]=f.padding;let b=t.getPointPosition(u,t.drawingArea+o[u],d),y=Ai(f.font),w=BU(t.ctx,y,t._pointLabels[u]);i[u]=w;let M=po(t.getIndexAngle(u)+d),P=Math.round(mm(M)),k=Db(P,b.x,w.w,0,180),N=Db(P,b.y,w.h,90,270);jU(e,n,M,k,N)}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=zU(t,i,o)}function jU(t,n,e,i,o){let a=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e)),d=0,u=0;i.start<n.l?(d=(n.l-i.start)/a,t.l=Math.min(t.l,n.l-d)):i.end>n.r&&(d=(i.end-n.r)/a,t.r=Math.max(t.r,n.r+d)),o.start<n.t?(u=(n.t-o.start)/l,t.t=Math.min(t.t,n.t-u)):o.end>n.b&&(u=(o.end-n.b)/l,t.b=Math.max(t.b,n.b+u))}function zU(t,n,e){let i=[],o=t._pointLabels.length,a=t.options,l=Ru(a)/2,d=t.drawingArea,u=a.pointLabels.centerPointLabels?pi/o:0;for(let f=0;f<o;f++){let b=t.getPointPosition(f,d+l+e[f],u),y=Math.round(mm(po(b.angle+xi))),w=n[f],M=GU(b.y,w.h,y),P=HU(y),k=qU(b.x,w.w,P);i.push({x:b.x,y:M,textAlign:P,left:k,top:M,right:k+w.w,bottom:M+w.h})}return i}function HU(t){return t===0||t===180?"center":t<180?"left":"right"}function qU(t,n,e){return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function GU(t,n,e){return e===90||e===270?t-=n/2:(e>270||e<90)&&(t-=n),t}function UU(t,n){let{ctx:e,options:{pointLabels:i}}=t;for(let o=n-1;o>=0;o--){let a=i.setContext(t.getPointLabelContext(o)),l=Ai(a.font),{x:d,y:u,textAlign:f,left:b,top:y,right:w,bottom:M}=t._pointLabelItems[o],{backdropColor:P}=a;if(!jt(P)){let k=Gn(a.borderRadius),N=Hi(a.backdropPadding);e.fillStyle=P;let U=b-N.left,Q=y-N.top,me=w-b+N.width,ne=M-y+N.height;Object.values(k).some(se=>se!==0)?(e.beginPath(),kr(e,{x:U,y:Q,w:me,h:ne,radius:k}),e.fill()):e.fillRect(U,Q,me,ne)}qn(e,t._pointLabels[o],d,u+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function ev(t,n,e,i){let{ctx:o}=t;if(e)o.arc(t.xCenter,t.yCenter,n,0,Xt);else{let a=t.getPointPosition(0,n);o.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=t.getPointPosition(l,n),o.lineTo(a.x,a.y)}}function $U(t,n,e,i){let o=t.ctx,a=n.circular,{color:l,lineWidth:d}=n;!a&&!i||!l||!d||e<0||(o.save(),o.strokeStyle=l,o.lineWidth=d,o.setLineDash(n.borderDash),o.lineDashOffset=n.borderDashOffset,o.beginPath(),ev(t,e,a,i),o.closePath(),o.stroke(),o.restore())}function QU(t,n,e){return gn(t,{label:e,index:n,type:"pointLabel"})}var Ia=class extends zr{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=Hi(Ru(this.options)/2),e=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=Mi(n)&&!isNaN(n)?n:0,this.max=Mi(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ru(this.options))}generateTickLabels(n){zr.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,i)=>{let o=ti(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let n=this.options;n.display&&n.pointLabels.display?LU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,i,o){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,i,o))}getIndexAngle(n){let e=Xt/(this._pointLabels.length||1),i=this.options.startAngle||0;return po(n*e+Oo(i))}getDistanceFromCenterForValue(n){if(jt(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(jt(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let i=e[n];return QU(this.getContext(),n,i)}}getPointPosition(n,e,i=0){let o=this.getIndexAngle(n)-xi+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:i,right:o,bottom:a}=this._pointLabelItems[n];return{left:e,top:i,right:o,bottom:a}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let i=this.ctx;i.save(),i.beginPath(),ev(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:i,grid:o}=e,a=this._pointLabels.length,l,d,u;if(e.pointLabels.display&&UU(this,a),o.display&&this.ticks.forEach((f,b)=>{if(b!==0){d=this.getDistanceFromCenterForValue(f.value);let y=o.setContext(this.getContext(b-1));$U(this,y,d,a)}}),i.display){for(n.save(),l=a-1;l>=0;l--){let f=i.setContext(this.getPointLabelContext(l)),{color:b,lineWidth:y}=f;!y||!b||(n.lineWidth=y,n.strokeStyle=b,n.setLineDash(f.borderDash),n.lineDashOffset=f.borderDashOffset,d=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),u=this.getPointPosition(l,d),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(u.x,u.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let o=this.getIndexAngle(0),a,l;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((d,u)=>{if(u===0&&!e.reverse)return;let f=i.setContext(this.getContext(u)),b=Ai(f.font);if(a=this.getDistanceFromCenterForValue(this.ticks[u].value),f.showLabelBackdrop){n.font=b.string,l=n.measureText(d.label).width,n.fillStyle=f.backdropColor;let y=Hi(f.backdropPadding);n.fillRect(-l/2-y.left,-a-b.size/2-y.top,l+y.width,b.size+y.height)}qn(n,d.label,0,-a,b,{color:f.color})}),n.restore()}drawTitle(){}};Ia.id="radialLinear";Ia.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Rm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Ia.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Ia.descriptors={angleLines:{_fallback:"grid"}};var Am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},uo=Object.keys(Am);function WU(t,n){return t-n}function Fb(t,n){if(jt(n))return null;let e=t._adapter,{parser:i,round:o,isoWeekday:a}=t._parseOpts,l=n;return typeof i=="function"&&(l=i(l)),Mi(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(o&&(l=o==="week"&&(ya(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,o)),+l)}function Rb(t,n,e,i){let o=uo.length;for(let a=uo.indexOf(t);a<o-1;++a){let l=Am[uo[a]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-n)/(d*l.size))<=i)return uo[a]}return uo[o-1]}function KU(t,n,e,i,o){for(let a=uo.length-1;a>=uo.indexOf(e);a--){let l=uo[a];if(Am[l].common&&t._adapter.diff(o,i,l)>=n-1)return l}return uo[e?uo.indexOf(e):0]}function YU(t){for(let n=uo.indexOf(t)+1,e=uo.length;n<e;++n)if(Am[uo[n]].common)return uo[n]}function kb(t,n,e){if(!e)t[n]=!0;else if(e.length){let{lo:i,hi:o}=dm(e,n),a=e[i]>=n?e[i]:e[o];t[a]=!0}}function XU(t,n,e,i){let o=t._adapter,a=+o.startOf(n[0].value,i),l=n[n.length-1].value,d,u;for(d=a;d<=l;d=+o.add(d,1,i))u=e[d],u>=0&&(n[u].major=!0);return n}function Ab(t,n,e){let i=[],o={},a=n.length,l,d;for(l=0;l<a;++l)d=n[l],o[d]=l,i.push({value:d,major:!1});return a===0||!e?i:XU(t,i,o,e)}var Au=(()=>{class t extends Ea{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){let o=e.time||(e.time={}),a=this._adapter=new jq._date(e.adapters.date);a.init(i),Dr(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Fb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,o=e.time.unit||"day",{min:a,max:l,minDefined:d,maxDefined:u}=this.getUserBounds();function f(b){!d&&!isNaN(b.min)&&(a=Math.min(a,b.min)),!u&&!isNaN(b.max)&&(l=Math.max(l,b.max))}(!d||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Mi(a)&&!isNaN(a)?a:+i.startOf(Date.now(),o),l=Mi(l)&&!isNaN(l)?l:+i.endOf(Date.now(),o)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],o=e[e.length-1]),{min:i,max:o}}buildTicks(){let e=this.options,i=e.time,o=e.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let l=this.min,d=this.max,u=CC(a,l,d);return this._unit=i.unit||(o.autoSkip?Rb(i.minUnit,this.min,this.max,this._getLabelCapacity(l)):KU(this,u.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:YU(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Ab(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let i=0,o=0,a,l;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?i=1-a:i=(this.getDecimalForValue(e[1])-a)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?o=l:o=(l-this.getDecimalForValue(e[e.length-2]))/2);let d=e.length<3?.5:.25;i=Vi(i,0,d),o=Vi(o,0,d),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let e=this._adapter,i=this.min,o=this.max,a=this.options,l=a.time,d=l.unit||Rb(l.minUnit,i,o,this._getLabelCapacity(i)),u=xt(l.stepSize,1),f=d==="week"?l.isoWeekday:!1,b=ya(f)||f===!0,y={},w=i,M,P;if(b&&(w=+e.startOf(w,"isoWeek",f)),w=+e.startOf(w,b?"day":d),e.diff(o,i,d)>1e5*u)throw new Error(i+" and "+o+" are too far apart with stepSize of "+u+" "+d);let k=a.ticks.source==="data"&&this.getDataTimestamps();for(M=w,P=0;M<o;M=+e.add(M,u,d),P++)kb(y,M,k);return(M===o||a.bounds==="ticks"||P===1)&&kb(y,M,k),Object.keys(y).sort((N,U)=>N-U).map(N=>+N)}getLabelForValue(e){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(e,o.tooltipFormat):i.format(e,o.displayFormats.datetime)}_tickFormatFunction(e,i,o,a){let l=this.options,d=l.time.displayFormats,u=this._unit,f=this._majorUnit,b=u&&d[u],y=f&&d[f],w=o[i],M=f&&y&&w&&w.major,P=this._adapter.format(e,a||(M?y:b)),k=l.ticks.callback;return k?ti(k,[P,i,o],this):P}generateTickLabels(e){let i,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],a.label=this._tickFormatFunction(a.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(e){let i=this._offsets,o=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,o=this.ctx.measureText(e).width,a=Oo(this.isHorizontal()?i.maxRotation:i.minRotation),l=Math.cos(a),d=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:o*l+u*d,h:o*d+u*l}}_getLabelCapacity(e){let i=this.options.time,o=i.displayFormats,a=o[i.unit]||o.millisecond,l=this._tickFormatFunction(e,0,Ab(this,[e],this._majorUnit),a),d=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],i,o;if(e.length)return e;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,o=a.length;i<o;++i)e=e.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,o;if(e.length)return e;let a=this.getLabels();for(i=0,o=a.length;i<o;++i)e.push(Fb(this,a[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Hp(e.sort(WU))}}return t.id="time",t.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},t})();function wm(t,n,e){let i=0,o=t.length-1,a,l,d,u;e?(n>=t[i].pos&&n<=t[o].pos&&({lo:i,hi:o}=on(t,"pos",n)),{pos:a,time:d}=t[i],{pos:l,time:u}=t[o]):(n>=t[i].time&&n<=t[o].time&&({lo:i,hi:o}=on(t,"time",n)),{time:a,pos:d}=t[i],{time:l,pos:u}=t[o]);let f=l-a;return f?d+(u-d)*(n-a)/f:d}var il=class extends Au{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=wm(e,this.min),this._tableRange=wm(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:i}=this,o=[],a=[],l,d,u,f,b;for(l=0,d=n.length;l<d;++l)f=n[l],f>=e&&f<=i&&o.push(f);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,d=o.length;l<d;++l)b=o[l+1],u=o[l-1],f=o[l],Math.round((b+u)/2)!==f&&a.push({time:f,pos:l/(d-1)});return a}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?n=this.normalize(e.concat(i)):n=e.length?e:i,n=this._cache.all=n,n}getDecimalForValue(n){return(wm(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,i=this.getDecimalForPixel(n)/e.factor-e.end;return wm(this._table,i*this._tableRange+this._minPos,!0)}};il.id="timeseries";il.defaults=Au.defaults;var ZU=Object.freeze({__proto__:null,CategoryScale:jr,LinearScale:el,LogarithmicScale:tl,RadialLinearScale:Ia,TimeScale:Au,TimeSeriesScale:il}),tv=[Bq,QG,RU,ZU];var JU=typeof global=="object"&&global&&global.Object===Object&&global,Om=JU;var e$=typeof self=="object"&&self&&self.Object===Object&&self,t$=Om||e$||Function("return this")(),Vo=t$;var i$=Vo.Symbol,Hr=i$;var iv=Object.prototype,o$=iv.hasOwnProperty,n$=iv.toString,nl=Hr?Hr.toStringTag:void 0;function a$(t){var n=o$.call(t,nl),e=t[nl];try{t[nl]=void 0;var i=!0}catch{}var o=n$.call(t);return i&&(n?t[nl]=e:delete t[nl]),o}var ov=a$;var r$=Object.prototype,s$=r$.toString;function l$(t){return s$.call(t)}var nv=l$;var c$="[object Null]",m$="[object Undefined]",av=Hr?Hr.toStringTag:void 0;function d$(t){return t==null?t===void 0?m$:c$:av&&av in Object(t)?ov(t):nv(t)}var Wn=d$;function p$(t){return t!=null&&typeof t=="object"}var cn=p$;var u$=Array.isArray,al=u$;function f$(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var fo=f$;function h$(t){return t}var Vm=h$;var g$="[object AsyncFunction]",_$="[object Function]",C$="[object GeneratorFunction]",b$="[object Proxy]";function v$(t){if(!fo(t))return!1;var n=Wn(t);return n==_$||n==C$||n==g$||n==b$}var qr=v$;var S$=Vo["__core-js_shared__"],Nm=S$;var rv=(function(){var t=/[^.]+$/.exec(Nm&&Nm.keys&&Nm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function y$(t){return!!rv&&rv in t}var sv=y$;var x$=Function.prototype,w$=x$.toString;function E$(t){if(t!=null){try{return w$.call(t)}catch{}try{return t+""}catch{}}return""}var lv=E$;var M$=/[\\^$.*+?()[\]{}|]/g,I$=/^\[object .+?Constructor\]$/,T$=Function.prototype,P$=Object.prototype,D$=T$.toString,F$=P$.hasOwnProperty,R$=RegExp("^"+D$.call(F$).replace(M$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k$(t){if(!fo(t)||sv(t))return!1;var n=qr(t)?R$:I$;return n.test(lv(t))}var cv=k$;function A$(t,n){return t?.[n]}var mv=A$;function O$(t,n){var e=mv(t,n);return cv(e)?e:void 0}var Gr=O$;var dv=Object.create,V$=(function(){function t(){}return function(n){if(!fo(n))return{};if(dv)return dv(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}})(),pv=V$;function N$(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}var uv=N$;function B$(t,n){var e=-1,i=t.length;for(n||(n=Array(i));++e<i;)n[e]=t[e];return n}var fv=B$;var L$=800,j$=16,z$=Date.now;function H$(t){var n=0,e=0;return function(){var i=z$(),o=j$-(i-e);if(e=i,o>0){if(++n>=L$)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var hv=H$;function q$(t){return function(){return t}}var gv=q$;var G$=(function(){try{var t=Gr(Object,"defineProperty");return t({},"",{}),t}catch{}})(),Ur=G$;var U$=Ur?function(t,n){return Ur(t,"toString",{configurable:!0,enumerable:!1,value:gv(n),writable:!0})}:Vm,_v=U$;var $$=hv(_v),Cv=$$;var Q$=9007199254740991,W$=/^(?:0|[1-9]\d*)$/;function K$(t,n){var e=typeof t;return n=n??Q$,!!n&&(e=="number"||e!="symbol"&&W$.test(t))&&t>-1&&t%1==0&&t<n}var Bm=K$;function Y$(t,n,e){n=="__proto__"&&Ur?Ur(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}var $r=Y$;function X$(t,n){return t===n||t!==t&&n!==n}var Kn=X$;var Z$=Object.prototype,J$=Z$.hasOwnProperty;function eQ(t,n,e){var i=t[n];(!(J$.call(t,n)&&Kn(i,e))||e===void 0&&!(n in t))&&$r(t,n,e)}var bv=eQ;function tQ(t,n,e,i){var o=!e;e||(e={});for(var a=-1,l=n.length;++a<l;){var d=n[a],u=i?i(e[d],t[d],d,e,t):void 0;u===void 0&&(u=t[d]),o?$r(e,d,u):bv(e,d,u)}return e}var vv=tQ;var Sv=Math.max;function iQ(t,n,e){return n=Sv(n===void 0?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=Sv(i.length-n,0),l=Array(a);++o<a;)l[o]=i[n+o];o=-1;for(var d=Array(n+1);++o<n;)d[o]=i[o];return d[n]=e(l),uv(t,this,d)}}var yv=iQ;function oQ(t,n){return Cv(yv(t,n,Vm),t+"")}var xv=oQ;var nQ=9007199254740991;function aQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nQ}var Lm=aQ;function rQ(t){return t!=null&&Lm(t.length)&&!qr(t)}var Qr=rQ;function sQ(t,n,e){if(!fo(e))return!1;var i=typeof n;return(i=="number"?Qr(e)&&Bm(n,e.length):i=="string"&&n in e)?Kn(e[n],t):!1}var wv=sQ;function lQ(t){return xv(function(n,e){var i=-1,o=e.length,a=o>1?e[o-1]:void 0,l=o>2?e[2]:void 0;for(a=t.length>3&&typeof a=="function"?(o--,a):void 0,l&&wv(e[0],e[1],l)&&(a=o<3?void 0:a,o=1),n=Object(n);++i<o;){var d=e[i];d&&t(n,d,i,a)}return n})}var Ev=lQ;var cQ=Object.prototype;function mQ(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||cQ;return t===e}var jm=mQ;function dQ(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}var Mv=dQ;var pQ="[object Arguments]";function uQ(t){return cn(t)&&Wn(t)==pQ}var Ou=uQ;var Iv=Object.prototype,fQ=Iv.hasOwnProperty,hQ=Iv.propertyIsEnumerable,gQ=Ou((function(){return arguments})())?Ou:function(t){return cn(t)&&fQ.call(t,"callee")&&!hQ.call(t,"callee")},rl=gQ;function _Q(){return!1}var Tv=_Q;var Fv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pv=Fv&&typeof module=="object"&&module&&!module.nodeType&&module,CQ=Pv&&Pv.exports===Fv,Dv=CQ?Vo.Buffer:void 0,bQ=Dv?Dv.isBuffer:void 0,vQ=bQ||Tv,zm=vQ;var SQ="[object Arguments]",yQ="[object Array]",xQ="[object Boolean]",wQ="[object Date]",EQ="[object Error]",MQ="[object Function]",IQ="[object Map]",TQ="[object Number]",PQ="[object Object]",DQ="[object RegExp]",FQ="[object Set]",RQ="[object String]",kQ="[object WeakMap]",AQ="[object ArrayBuffer]",OQ="[object DataView]",VQ="[object Float32Array]",NQ="[object Float64Array]",BQ="[object Int8Array]",LQ="[object Int16Array]",jQ="[object Int32Array]",zQ="[object Uint8Array]",HQ="[object Uint8ClampedArray]",qQ="[object Uint16Array]",GQ="[object Uint32Array]",ui={};ui[VQ]=ui[NQ]=ui[BQ]=ui[LQ]=ui[jQ]=ui[zQ]=ui[HQ]=ui[qQ]=ui[GQ]=!0;ui[SQ]=ui[yQ]=ui[AQ]=ui[xQ]=ui[OQ]=ui[wQ]=ui[EQ]=ui[MQ]=ui[IQ]=ui[TQ]=ui[PQ]=ui[DQ]=ui[FQ]=ui[RQ]=ui[kQ]=!1;function UQ(t){return cn(t)&&Lm(t.length)&&!!ui[Wn(t)]}var Rv=UQ;function $Q(t){return function(n){return t(n)}}var kv=$Q;var Av=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sl=Av&&typeof module=="object"&&module&&!module.nodeType&&module,QQ=sl&&sl.exports===Av,Vu=QQ&&Om.process,WQ=(function(){try{var t=sl&&sl.require&&sl.require("util").types;return t||Vu&&Vu.binding&&Vu.binding("util")}catch{}})(),Nu=WQ;var Ov=Nu&&Nu.isTypedArray,KQ=Ov?kv(Ov):Rv,Hm=KQ;var YQ=Object.prototype,XQ=YQ.hasOwnProperty;function ZQ(t,n){var e=al(t),i=!e&&rl(t),o=!e&&!i&&zm(t),a=!e&&!i&&!o&&Hm(t),l=e||i||o||a,d=l?Mv(t.length,String):[],u=d.length;for(var f in t)(n||XQ.call(t,f))&&!(l&&(f=="length"||o&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Bm(f,u)))&&d.push(f);return d}var Vv=ZQ;function JQ(t,n){return function(e){return t(n(e))}}var Nv=JQ;function eW(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var Bv=eW;var tW=Object.prototype,iW=tW.hasOwnProperty;function oW(t){if(!fo(t))return Bv(t);var n=jm(t),e=[];for(var i in t)i=="constructor"&&(n||!iW.call(t,i))||e.push(i);return e}var Lv=oW;function nW(t){return Qr(t)?Vv(t,!0):Lv(t)}var qm=nW;var aW=Gr(Object,"create"),bn=aW;function rW(){this.__data__=bn?bn(null):{},this.size=0}var jv=rW;function sW(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var zv=sW;var lW="__lodash_hash_undefined__",cW=Object.prototype,mW=cW.hasOwnProperty;function dW(t){var n=this.__data__;if(bn){var e=n[t];return e===lW?void 0:e}return mW.call(n,t)?n[t]:void 0}var Hv=dW;var pW=Object.prototype,uW=pW.hasOwnProperty;function fW(t){var n=this.__data__;return bn?n[t]!==void 0:uW.call(n,t)}var qv=fW;var hW="__lodash_hash_undefined__";function gW(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=bn&&n===void 0?hW:n,this}var Gv=gW;function Wr(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Wr.prototype.clear=jv;Wr.prototype.delete=zv;Wr.prototype.get=Hv;Wr.prototype.has=qv;Wr.prototype.set=Gv;var Bu=Wr;function _W(){this.__data__=[],this.size=0}var Uv=_W;function CW(t,n){for(var e=t.length;e--;)if(Kn(t[e][0],n))return e;return-1}var Yn=CW;var bW=Array.prototype,vW=bW.splice;function SW(t){var n=this.__data__,e=Yn(n,t);if(e<0)return!1;var i=n.length-1;return e==i?n.pop():vW.call(n,e,1),--this.size,!0}var $v=SW;function yW(t){var n=this.__data__,e=Yn(n,t);return e<0?void 0:n[e][1]}var Qv=yW;function xW(t){return Yn(this.__data__,t)>-1}var Wv=xW;function wW(t,n){var e=this.__data__,i=Yn(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this}var Kv=wW;function Kr(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Kr.prototype.clear=Uv;Kr.prototype.delete=$v;Kr.prototype.get=Qv;Kr.prototype.has=Wv;Kr.prototype.set=Kv;var Xn=Kr;var EW=Gr(Vo,"Map"),Gm=EW;function MW(){this.size=0,this.__data__={hash:new Bu,map:new(Gm||Xn),string:new Bu}}var Yv=MW;function IW(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var Xv=IW;function TW(t,n){var e=t.__data__;return Xv(n)?e[typeof n=="string"?"string":"hash"]:e.map}var Zn=TW;function PW(t){var n=Zn(this,t).delete(t);return this.size-=n?1:0,n}var Zv=PW;function DW(t){return Zn(this,t).get(t)}var Jv=DW;function FW(t){return Zn(this,t).has(t)}var eS=FW;function RW(t,n){var e=Zn(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this}var tS=RW;function Yr(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}Yr.prototype.clear=Yv;Yr.prototype.delete=Zv;Yr.prototype.get=Jv;Yr.prototype.has=eS;Yr.prototype.set=tS;var iS=Yr;var kW=Nv(Object.getPrototypeOf,Object),Um=kW;var AW="[object Object]",OW=Function.prototype,VW=Object.prototype,oS=OW.toString,NW=VW.hasOwnProperty,BW=oS.call(Object);function LW(t){if(!cn(t)||Wn(t)!=AW)return!1;var n=Um(t);if(n===null)return!0;var e=NW.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&oS.call(e)==BW}var nS=LW;function jW(){this.__data__=new Xn,this.size=0}var aS=jW;function zW(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}var rS=zW;function HW(t){return this.__data__.get(t)}var sS=HW;function qW(t){return this.__data__.has(t)}var lS=qW;var GW=200;function UW(t,n){var e=this.__data__;if(e instanceof Xn){var i=e.__data__;if(!Gm||i.length<GW-1)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new iS(i)}return e.set(t,n),this.size=e.size,this}var cS=UW;function Xr(t){var n=this.__data__=new Xn(t);this.size=n.size}Xr.prototype.clear=aS;Xr.prototype.delete=rS;Xr.prototype.get=sS;Xr.prototype.has=lS;Xr.prototype.set=cS;var mS=Xr;var fS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dS=fS&&typeof module=="object"&&module&&!module.nodeType&&module,$W=dS&&dS.exports===fS,pS=$W?Vo.Buffer:void 0,uS=pS?pS.allocUnsafe:void 0;function QW(t,n){if(n)return t.slice();var e=t.length,i=uS?uS(e):new t.constructor(e);return t.copy(i),i}var hS=QW;var WW=Vo.Uint8Array,Lu=WW;function KW(t){var n=new t.constructor(t.byteLength);return new Lu(n).set(new Lu(t)),n}var gS=KW;function YW(t,n){var e=n?gS(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var _S=YW;function XW(t){return typeof t.constructor=="function"&&!jm(t)?pv(Um(t)):{}}var CS=XW;function ZW(t){return function(n,e,i){for(var o=-1,a=Object(n),l=i(n),d=l.length;d--;){var u=l[t?d:++o];if(e(a[u],u,a)===!1)break}return n}}var bS=ZW;var JW=bS(),vS=JW;function eK(t,n,e){(e!==void 0&&!Kn(t[n],e)||e===void 0&&!(n in t))&&$r(t,n,e)}var ll=eK;function tK(t){return cn(t)&&Qr(t)}var SS=tK;function iK(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var cl=iK;function oK(t){return vv(t,qm(t))}var yS=oK;function nK(t,n,e,i,o,a,l){var d=cl(t,e),u=cl(n,e),f=l.get(u);if(f){ll(t,e,f);return}var b=a?a(d,u,e+"",t,n,l):void 0,y=b===void 0;if(y){var w=al(u),M=!w&&zm(u),P=!w&&!M&&Hm(u);b=u,w||M||P?al(d)?b=d:SS(d)?b=fv(d):M?(y=!1,b=hS(u,!0)):P?(y=!1,b=_S(u,!0)):b=[]:nS(u)||rl(u)?(b=d,rl(d)?b=yS(d):(!fo(d)||qr(d))&&(b=CS(u))):y=!1}y&&(l.set(u,b),o(b,u,i,a,l),l.delete(u)),ll(t,e,b)}var xS=nK;function wS(t,n,e,i,o){t!==n&&vS(n,function(a,l){if(o||(o=new mS),fo(a))xS(t,n,l,e,wS,i,o);else{var d=i?i(cl(t,l),a,l+"",t,n,o):void 0;d===void 0&&(d=a),ll(t,l,d)}},qm)}var ES=wS;var aK=Ev(function(t,n,e){ES(t,n,e)}),ju=aK;var lK=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],cK={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:t=>Jn(ea(t.datasetIndex),.4),borderColor:t=>Jn(ea(t.datasetIndex),1),pointBackgroundColor:t=>Jn(ea(t.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:t=>Jn(ea(t.datasetIndex),.6),borderColor:t=>Jn(ea(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>Jn(ea(t.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>Jn(ea(t.dataIndex),.6),borderColor:t=>Jn(ea(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Jn(t,n){return"rgba("+t.concat(n).join(",")+")"}function zu(t,n){return Math.floor(Math.random()*(n-t+1))+t}function mK(){return[zu(0,255),zu(0,255),zu(0,255)]}function ea(t=0){return lK[t]||mK()}var MS=(()=>{class t{constructor(){this.generateColors=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();Ma.register(...tv);var IS=(()=>{class t{constructor(e){e?.plugins&&Ma.register(...e?.plugins);let i=ju(e?.generateColors?cK:{},e?.defaults||{});Pt.set(i)}static forRoot(e){return{ngModule:t,providers:[{provide:MS,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(ie(MS,8))},t.\u0275mod=oi({type:t}),t.\u0275inj=ii({}),t})();var TS=(()=>{class t{constructor(e,i){this.document=e,this.platformId=i,this.documentIsAccessible=v0(this.platformId)}static getCookieRegExp(e){let i=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);let o=t.getCookieRegExp(e).exec(this.document.cookie);return o[1]?t.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},i=this.document;return i.cookie&&i.cookie!==""&&i.cookie.split(";").forEach(o=>{let[a,l]=o.split("=");e[t.safeDecodeURIComponent(a.replace(/^ /,""))]=t.safeDecodeURIComponent(l)}),e}set(e,i,o,a,l,d,u,f){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||a||l||d||u){let w={expires:o,path:a,domain:l,secure:d,sameSite:u||"Lax",partitioned:f};this.set(e,i,w);return}let b=encodeURIComponent(e)+"="+encodeURIComponent(i)+";",y=o||{};if(y.expires)if(typeof y.expires=="number"){let w=new Date(new Date().getTime()+y.expires*1e3*60*60*24);b+="expires="+w.toUTCString()+";"}else b+="expires="+y.expires.toUTCString()+";";y.path&&(b+="path="+y.path+";"),y.domain&&(b+="domain="+y.domain+";"),y.secure===!1&&y.sameSite==="None"&&(y.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),y.secure&&(b+="secure;"),y.sameSite||(y.sameSite="Lax"),b+="sameSite="+y.sameSite+";",y.partitioned&&(b+="Partitioned;"),this.document.cookie=b}delete(e,i,o,a,l="Lax"){if(!this.documentIsAccessible)return;let d=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:d,path:i,domain:o,secure:a,sameSite:l})}deleteAll(e,i,o,a="Lax"){if(!this.documentIsAccessible)return;let l=this.getAll();for(let d in l)l.hasOwnProperty(d)&&this.delete(d,e,i,o,a)}static{this.\u0275fac=function(i){return new(i||t)(ie(aa),ie(r0))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[Yi,Xi,Bi.forChild([]),Ki]})}}return t})();var $m=(()=>{class t{constructor(e,i){this.http=e,this.configService=i,this.urlGetPeopleStructureByStructureId="/personaestructura/getallpeopleactivestructures",this.urlGetReplacementRetirementByStructureid="/personaestructura/getallinreplacementretirementbystructureid"}getAllActiveByStructureId(e){let i=new be().set("structureId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetPeopleStructureByStructureId,{params:i})}getallinreplacementretirementbystructureid(e){let i=new be().set("structureId",e);return this.http.get(this.configService.settings.apiUrl+this.urlGetReplacementRetirementByStructureid,{params:i})}static{this.\u0275fac=function(i){return new(i||t)(ie(Ue),ie(He))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wu(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){let o=n[i];o?t.setProperty(i,o,e?.has(i)?"important":""):t.removeProperty(i)}return t}function Jr(t,n){let e=n?"":"none";Wu(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function PS(t,n,e){Wu(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Ym(t,n){return n&&n!="none"?t+" "+n:t}function DS(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=Xm(n.left,n.top)}function Xm(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function Ku(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function qu(t,n,e){let{top:i,bottom:o,left:a,right:l}=t;return e>=i&&e<=o&&n>=a&&n<=l}function dl(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function FS(t,n,e,i){let{top:o,right:a,bottom:l,left:d,width:u,height:f}=t,b=u*n,y=f*n;return i>o-y&&i<l+y&&e>d-b&&e<a+b}var Zm=class{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ku(e)})})}handleScroll(n){let e=ls(n),i=this.positions.get(e);if(!i)return null;let o=i.scrollPosition,a,l;if(e===this._document){let f=this.getViewportScrollPosition();a=f.top,l=f.left}else a=e.scrollTop,l=e.scrollLeft;let d=o.top-a,u=o.left-l;return this.positions.forEach((f,b)=>{f.clientRect&&e!==b&&e.contains(b)&&dl(f.clientRect,d,u)}),o.top=a,o.left=l,{top:d,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function qS(t){let n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return i==="canvas"?AS(t,n):(i==="input"||i==="select"||i==="textarea")&&kS(t,n),RS("canvas",t,n,AS),RS("input, textarea, select",t,n,kS),n}function RS(t,n,e,i){let o=n.querySelectorAll(t);if(o.length){let a=e.querySelectorAll(t);for(let l=0;l<o.length;l++)i(o[l],a[l])}}var dK=0;function kS(t,n){n.type!=="file"&&(n.value=t.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${dK++}`)}function AS(t,n){let e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function GS(t,n){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let i=n.createElement("div");return e.forEach(o=>i.appendChild(o)),i}function OS(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function pK(t){let n=getComputedStyle(t),e=Hu(n,"transition-property"),i=e.find(d=>d==="transform"||d==="all");if(!i)return 0;let o=e.indexOf(i),a=Hu(n,"transition-duration"),l=Hu(n,"transition-delay");return OS(a[o])+OS(l[o])}function Hu(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}var uK=new Set(["position"]),Gu=class{constructor(n,e,i,o,a,l,d,u,f){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=o,this._previewTemplate=a,this._previewClass=l,this._pickupPositionOnPage=d,this._initialTransform=u,this._zIndex=f}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return pK(this._preview)}addEventListener(n,e){this._preview.addEventListener(n,e)}removeEventListener(n,e){this._preview.removeEventListener(n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,i=n?n.template:null,o;if(i&&n){let a=n.matchSize?this._initialDomRect:null,l=n.viewContainer.createEmbeddedView(i,n.context);l.detectChanges(),o=GS(l,this._document),this._previewEmbeddedView=l,n.matchSize?DS(o,a):o.style.transform=Xm(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=qS(this._rootElement),DS(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Wu(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},uK),Jr(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>o.classList.add(a)):o.classList.add(e)),o}},VS=ss({passive:!0}),Qm=ss({passive:!1}),NS=ss({passive:!1,capture:!0}),fK=800,BS=new Set(["position"]),Uu=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Jr(e,n)))}constructor(n,e,i,o,a,l){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new hi,this._pointerMoveSubscription=Pa.EMPTY,this._pointerUpSubscription=Pa.EMPTY,this._scrollSubscription=Pa.EMPTY,this._resizeSubscription=Pa.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new hi,this.started=new hi,this.released=new hi,this.ended=new hi,this.entered=new hi,this.exited=new hi,this.dropped=new hi,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){let u=this._getTargetHandle(d);u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{let u=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){let b=Math.abs(u.x-this._pickupPositionOnPage.x),y=Math.abs(u.y-this._pickupPositionOnPage.y);if(b+y>=this._config.dragStartThreshold){let M=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),P=this._dropContainer;if(!M){this._endDragSequence(d);return}(!P||!P.isDragging()&&!P.isReceiving())&&(d.cancelable&&d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.cancelable&&d.preventDefault();let f=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,u);else{let b=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,y=this._activeTransform;y.x=f.x-b.x+this._passiveTransform.x,y.y=f.y-b.y+this._passiveTransform.y,this._applyRootElementTransform(y.x,y.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:d,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){let u=this._getTargetHandle(d);u&&!this._disabledHandles.has(u)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Zm(i),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>go(i)),this._handles.forEach(i=>Jr(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=go(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Qm),e.addEventListener("touchstart",this._pointerDown,VS),e.addEventListener("dragstart",this._nativeDragStart,Qm)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?go(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Jr(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Jr(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",jS,NS)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){ml(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",jS,NS)}),i){let o=this._rootElement,a=o.parentNode,l=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(d,o),this._initialTransform=o.style.transform||"",this._preview=new Gu(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(a,e)),PS(o,!1,BS),this._document.body.appendChild(a.replaceChild(l,o)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),o=ml(e),a=!o&&e.button!==0,l=this._rootElement,d=ls(e),u=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+fK>Date.now(),f=o?W0(e):Q0(e);if(d&&d.draggable&&e.type==="mousedown"&&e.preventDefault(),i||a||u||f)return;if(this._handles.length){let w=l.style;this._rootElementTapHighlight=w.webkitTapHighlightColor||"",w.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(w=>this._updateOnScroll(w)),this._boundaryElement&&(this._boundaryRect=Ku(this._boundaryElement));let b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let y=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:y.x,y:y.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){PS(this._rootElement,!0,BS),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),a=this._getDragDistance(o),l=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:a,dropPoint:o,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,l,a,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,n,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=l=>{(!l||ls(l)===this._preview&&l.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),i(),clearTimeout(a))},a=setTimeout(o,e*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=GS(this._placeholderRef,this._document)):i=qS(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e,i){let o=e===this._rootElement?null:e,a=o?o.getBoundingClientRect():n,l=ml(i)?i.targetTouches[0]:i,d=this._getViewportScrollPosition(),u=l.pageX-a.left-d.left,f=l.pageY-a.top-d.top;return{x:a.left-n.left+u,y:a.top-n.top+f}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),i=ml(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){let l=this._ownerSVGElement.getScreenCTM();if(l){let d=this._ownerSVGElement.createSVGPoint();return d.x=o,d.y=a,d.matrixTransform(l.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:l}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=this._boundaryRect,{width:u,height:f}=this._getPreviewRect(),b=d.top+l,y=d.bottom-(f-l),w=d.left+a,M=d.right-(u-a);i=LS(i,w,M),o=LS(o,b,y)}return{x:i,y:o}}_updatePointerDirectionDelta(n){let{x:e,y:i}=n,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,l=Math.abs(e-a.x),d=Math.abs(i-a.y);return l>this._config.pointerDirectionChangeThreshold&&(o.x=e>a.x?1:-1,a.x=e),d>this._config.pointerDirectionChangeThreshold&&(o.y=i>a.y?1:-1,a.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Jr(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Qm),n.removeEventListener("touchstart",this._pointerDown,VS),n.removeEventListener("dragstart",this._nativeDragStart,Qm)}_applyRootElementTransform(n,e){let i=Xm(n,e),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Ym(i,this._initialTransform)}_applyPreviewTransform(n,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=Xm(n,e);this._preview.setTransform(Ym(o,i))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let a=o.left-i.left,l=i.right-o.right,d=o.top-i.top,u=i.bottom-o.bottom;o.width>i.width?(a>0&&(n+=a),l>0&&(n-=l)):n=0,o.height>i.height?(d>0&&(e+=d),u>0&&(e-=u)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:ml(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let i=ls(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&dl(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=cd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let i=this._previewContainer||"global";if(i==="parent")return n;if(i==="global"){let o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return go(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}};function LS(t,n,e){return Math.max(n,Math.min(e,t))}function ml(t){return t.type[0]==="t"}function jS(t){t.preventDefault()}function hK(t,n,e){let i=zS(n,t.length-1),o=zS(e,t.length-1);if(i===o)return;let a=t[i],l=o<i?-1:1;for(let d=i;d!==o;d+=l)t[d]=t[d+l];t[o]=a}function zS(t,n){return Math.max(0,Math.min(n,t))}var $u=class{constructor(n,e){this._element=n,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,e,i,o){let a=this._itemPositions,l=this._getItemIndexFromPointerPosition(n,e,i,o);if(l===-1&&a.length>0)return null;let d=this.orientation==="horizontal",u=a.findIndex(N=>N.drag===n),f=a[l],b=a[u].clientRect,y=f.clientRect,w=u>l?1:-1,M=this._getItemOffsetPx(b,y,w),P=this._getSiblingOffsetPx(u,a,w),k=a.slice();return hK(a,u,l),a.forEach((N,U)=>{if(k[U]===N)return;let Q=N.drag===n,me=Q?M:P,ne=Q?n.getPlaceholderElement():N.drag.getRootElement();N.offset+=me,d?(ne.style.transform=Ym(`translate3d(${Math.round(N.offset)}px, 0, 0)`,N.initialTransform),dl(N.clientRect,0,me)):(ne.style.transform=Ym(`translate3d(0, ${Math.round(N.offset)}px, 0)`,N.initialTransform),dl(N.clientRect,me,0))}),this._previousSwap.overlaps=qu(y,e,i),this._previousSwap.drag=f.drag,this._previousSwap.delta=d?o.x:o.y,{previousIndex:u,currentIndex:l}}enter(n,e,i,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(n,e,i):o,l=this._activeDraggables,d=l.indexOf(n),u=n.getPlaceholderElement(),f=l[a];if(f===n&&(f=l[a+1]),!f&&(a==null||a===-1||a<l.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(f=l[0]),d>-1&&l.splice(d,1),f&&!this._dragDropRegistry.isDragging(f)){let b=f.getRootElement();b.parentElement.insertBefore(u,b),l.splice(a,0,n)}else go(this._element).appendChild(u),l.push(n);u.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{let e=n.getRootElement();if(e){let i=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{dl(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Ku(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,e,i){let o=this.orientation==="horizontal",a=o?e.left-n.left:e.top-n.top;return i===-1&&(a+=o?e.width-n.width:e.height-n.height),a}_getSiblingOffsetPx(n,e,i){let o=this.orientation==="horizontal",a=e[n].clientRect,l=e[n+i*-1],d=a[o?"width":"height"]*i;if(l){let u=o?"left":"top",f=o?"right":"bottom";i===-1?d-=l.clientRect[u]-a[f]:d+=a[u]-l.clientRect[f]}return d}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let l=i[i.length-1].clientRect;return o?n>=l.right:e>=l.bottom}else{let l=i[0].clientRect;return o?n<=l.left:e<=l.top}}_getItemIndexFromPointerPosition(n,e,i,o){let a=this.orientation==="horizontal",l=this._itemPositions.findIndex(({drag:d,clientRect:u})=>{if(d===n)return!1;if(o){let f=a?o.x:o.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return a?e>=Math.floor(u.left)&&e<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom)});return l===-1||!this._sortPredicate(l,n)?-1:l}},HS=.05,US=.05,No=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t})(No||{}),io=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t})(io||{}),Qu=class{constructor(n,e,i,o,a){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new hi,this.entered=new hi,this.exited=new hi,this.dropped=new hi,this.sorted=new hi,this.receivingStarted=new hi,this.receivingStopped=new hi,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Pa.EMPTY,this._verticalScrollDirection=No.NONE,this._horizontalScrollDirection=io.NONE,this._stopScrollTimers=new hi,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),t0(0,Zu).pipe(fl(this._stopScrollTimers)).subscribe(()=>{let l=this._scrollNode,d=this.autoScrollStep;this._verticalScrollDirection===No.UP?l.scrollBy(0,-d):this._verticalScrollDirection===No.DOWN&&l.scrollBy(0,d),this._horizontalScrollDirection===io.LEFT?l.scrollBy(-d,0):this._horizontalScrollDirection===io.RIGHT&&l.scrollBy(d,0)})},this.element=go(n),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Zm(i),this._sortStrategy=new $u(this.element,e),this._sortStrategy.withSortPredicate((l,d)=>this.sortPredicate(l,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,o,a,l,d,u={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:a,distance:l,dropPoint:d,event:u})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>n.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){let e=go(this.element);return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,o){if(this.sortingDisabled||!this._domRect||!FS(this._domRect,HS,e,i))return;let a=this._sortStrategy.sort(n,e,i,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,o=No.NONE,a=io.NONE;if(this._parentPositions.positions.forEach((l,d)=>{d===this._document||!l.clientRect||i||FS(l.clientRect,HS,n,e)&&([o,a]=gK(d,l.clientRect,this._sortStrategy.direction,n,e),(o||a)&&(i=d))}),!o&&!a){let{width:l,height:d}=this._viewportRuler.getViewportSize(),u={width:l,height:d,top:0,right:l,bottom:d,left:0};o=$S(u,e),a=QS(u,n),i=window}i&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=i,(o||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=go(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let n=go(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;let n=go(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,e){return this._domRect!=null&&qu(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(o=>o._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!qu(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;let o=this._getShadowRoot().elementFromPoint(e,i);if(!o)return!1;let a=go(this.element);return o===a||a.contains(o)}_startReceiving(n,e){let i=this._activeSiblings;!i.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=cd(go(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function $S(t,n){let{top:e,bottom:i,height:o}=t,a=o*US;return n>=e-a&&n<=e+a?No.UP:n>=i-a&&n<=i+a?No.DOWN:No.NONE}function QS(t,n){let{left:e,right:i,width:o}=t,a=o*US;return n>=e-a&&n<=e+a?io.LEFT:n>=i-a&&n<=i+a?io.RIGHT:io.NONE}function gK(t,n,e,i,o){let a=$S(n,o),l=QS(n,i),d=No.NONE,u=io.NONE;if(a){let f=t.scrollTop;a===No.UP?f>0&&(d=No.UP):t.scrollHeight-f>t.clientHeight&&(d=No.DOWN)}if(l){let f=t.scrollLeft;e==="rtl"?l===io.RIGHT?f<0&&(u=io.RIGHT):t.scrollWidth+f>t.clientWidth&&(u=io.LEFT):l===io.LEFT?f>0&&(u=io.LEFT):t.scrollWidth-f>t.clientWidth&&(u=io.RIGHT)}return[d,u]}var Wm=ss({passive:!1,capture:!0}),Km=new Set,_K=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[m0],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return t})(),CK=(()=>{class t{constructor(e,i){this._ngZone=e,this._appRef=os(f0),this._environmentInjector=os(o0),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new hi,this.pointerUp=new hi,this.scroll=new hi,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Wm)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Wm)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._loadResets(),this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Wm}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:Wm}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,l)=>{this._document.addEventListener(l,a.handler,a.options)})})}}stopDragging(e){let i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new Xu(o=>this._ngZone.runOutsideAngular(()=>{let l=d=>{this._activeDragInstances.length&&o.next(d)};return e.addEventListener("scroll",l,!0),()=>{e.removeEventListener("scroll",l,!0)}}))),i0(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}_loadResets(){if(!Km.has(this._appRef)){Km.add(this._appRef);let e=h0(_K,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Km.delete(this._appRef),Km.size===0&&e.destroy()})}}static{this.\u0275fac=function(i){return new(i||t)(ie(Da),ie(aa))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bK={dragStartThreshold:5,pointerDirectionChangeThreshold:5},vK=(()=>{class t{constructor(e,i,o,a){this._document=e,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(e,i=bK){return new Uu(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Qu(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(i){return new(i||t)(ie(aa),ie(Da),ie(U0),ie(CK))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Jm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({providers:[vK],imports:[$0]})}}return t})();var ed=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({providers:[Fa,en,An,pr,Xa,$m,vr],imports:[Yi,Xi,Zr,Jm,Bi.forChild([]),Ki,Tf]})}}return t})();var WS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[Yi,ed,Xi,Bi.forChild([]),Ki]})}}return t})();var KS=(()=>{class t{constructor(e,i){this.loginService=e,this.dialogService=i,this.genericText=" Verifica que est\xE1s inscrito(a) al grupo de seguridad requerido y si est\xE1s en red externa al banco, valida tu conexi\xF3n a la VPN. Para mayor informaci\xF3n consulta la gu\xEDa o en \xFAltima instancia, contacta a soporte:"}intercept(e,i){let o=e.url.startsWith("https://graph.microsoft.com");if(e.headers.get("skip")||o||!this.loginService.validateSession())return i.handle(e);let a=this.loginService.getData(),d=!e.headers.has("idEjecutor")&&a?.idPersona?e.clone({headers:e.headers.set("idEjecutor",a.idPersona)}):e;return i.handle(d).pipe(ul(u=>{if(o)return id(()=>u);let f="";if(u instanceof ErrorEvent)f=`Client-side error: ${u.error?.message||u.message}`;else switch(f=`Server-side error: ${u.status} ${u.message}`,u.status){case 0:this.showMessage("No fue posible conectarse con el servidor. "+this.genericText,"error","Problemas para acceder a Valko");break;case 500:this.showMessage("No fue posible completar la operaci\xF3n. "+this.genericText,"error","Problemas para acceder a Valko");break;case 403:this.showMessage("No est\xE1 autorizado para ejecutar esta operaci\xF3n. "+this.genericText,"error","Problemas para acceder a Valko");break;default:break}return id(()=>f)}))}showMessage(e,i,o){this.dialogService.open(pe,{id:"MyAlertId",type:i,text:e,title:o,links:[{url:"https://bancolombia.sharepoint.com/sites/co-iti/SitePages/autogestion_herramientas_valko.aspx#%C2%A1ingresa-a-valko-sin-problemas!",text:"Gu\xEDa de acceso"}]})}static{this.\u0275fac=function(i){return new(i||t)(ie(he),ie(ue))}}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();var YS=(()=>{class t extends El{intercept(e,i){return e.headers.get("skip")?i.handle(e):super.intercept(e,i)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=n0(t)))(o||t)}})()}static{this.\u0275prov=we({token:t,factory:t.\u0275fac})}}return t})();var XS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({providers:[ot],imports:[Yi,Xi,Bi.forChild([]),Ki]})}}return t})();var ZS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[Yi,Xi,Bi.forChild([]),Ki]})}}return t})();var JS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({providers:[Fa,en,An,Ol,Xa,$m,vr],imports:[Sc,Yi,Xi,Jm,Bi.forChild([]),Ki,Zr,df]})}}return t})();var yK=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;function xK(t){return()=>t.loadConfig()}function wK(t,n){console.log("[MSAL]",sd[t],n)}function EK(){return new B0({auth:{clientId:Sn.azureConfig.clientId,authority:`https://login.microsoftonline.com/${Sn.azureConfig.tenantId}`,redirectUri:Sn.azureConfig.redirectUri},cache:{cacheLocation:O0.SessionStorage,storeAuthStateInCookie:yK},system:{loggerOptions:{loggerCallback:wK,logLevel:sd.Info,piiLoggingEnabled:!1}}})}function MK(){let t=new Map;return t.set("https://graph.microsoft.com/v1.0/",["User.Read","User.ReadBasic.All"]),t.set(Sn.apiURL,[Sn.azureConfig.scope]),{interactionType:ld.Redirect,protectedResourceMap:t}}function IK(){return{interactionType:ld.Redirect,authRequest:{scopes:["User.Read","User.ReadBasic.All"]},loginFailedRoute:"/login"}}var ey=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t,bootstrap:[Q1,q0]})}static{this.\u0275inj=ii({providers:[He,Oa,xn,{provide:L0,useFactory:EK},xl,{provide:bl,useClass:El,multi:!0},{provide:bl,useClass:KS,multi:!0},{provide:bl,useClass:YS,multi:!0},{provide:u0,useFactory:xK,deps:[He],multi:!0},{provide:z0,useFactory:MK},{provide:j0,useFactory:IK},TS,H0,wl,so,C0],imports:[Cl,vl,Sc,S0,q1,Yi,Xi,K1,ed,IS,WS,XS,ZS,X0,Zr,G0,JS,Ki]})}}return t})();Sn.production&&void 0;x0().bootstrapModule(ey).catch(t=>console.error(t));
